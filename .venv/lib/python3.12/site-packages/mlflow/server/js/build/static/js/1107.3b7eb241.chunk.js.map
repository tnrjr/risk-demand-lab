{"version":3,"file":"static/js/1107.3b7eb241.chunk.js","mappings":"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","sources":["experiment-tracking/components/HtmlTableView.tsx","experiment-tracking/components/MetricsSummaryTable.tsx","common/components/IconButton.tsx","experiment-tracking/components/RunLinksPopover.tsx","experiment-tracking/components/MetricsPlotPanel.tsx","experiment-tracking/components/LineSmoothSlider.tsx","common/components/error-boundaries/SectionErrorBoundary.tsx","common/components/RequestStateWrapper.tsx","experiment-tracking/components/LazyPlot.tsx","experiment-tracking/components/MetricsPlotView.tsx","common/components/Progress.tsx","experiment-tracking/components/MetricsPlotControls.tsx","common/components/Spinner.tsx"],"sourcesContent":["/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport { LegacyTable } from '@databricks/design-system';\nimport './HtmlTableView.css';\n\ntype Props = {\n  columns: any[];\n  values: any[];\n  styles?: any;\n  testId?: string;\n  scroll?: any;\n};\n\nexport function HtmlTableView({ columns, values, styles = {}, testId, scroll }: Props) {\n  return (\n    <LegacyTable\n      className=\"mlflow-html-table-view\"\n      data-testid={testId}\n      dataSource={values}\n      columns={columns}\n      scroll={scroll}\n      size=\"middle\"\n      pagination={false}\n      style={styles}\n    />\n  );\n}\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { HtmlTableView } from './HtmlTableView';\nimport { getRunInfo } from '../reducers/Reducers';\nimport { getLatestMetrics, getMinMetrics, getMaxMetrics } from '../reducers/MetricReducer';\nimport Utils from '../../common/utils/Utils';\nimport { Link } from '../../common/utils/RoutingUtils';\nimport Routes from '../routes';\nimport type { RunInfoEntity } from '../types';\n\nconst maxTableHeight = 300;\n// Because we make the table body scrollable, column widths must be fixed\n// so that the header widths match the table body column widths.\nconst headerColWidth = 350;\nconst dataColWidth = 200;\n\ntype MetricsSummaryTableProps = {\n  runUuids: string[];\n  runExperimentIds: any;\n  runDisplayNames: string[];\n  metricKeys: string[];\n  latestMetrics: any;\n  minMetrics: any;\n  maxMetrics: any;\n  intl: {\n    formatMessage: (...args: any[]) => any;\n  };\n};\n\nclass MetricsSummaryTable extends React.Component<MetricsSummaryTableProps> {\n  render() {\n    const { runUuids } = this.props;\n    return (\n      <div className=\"metrics-summary\">\n        {runUuids.length > 1 ? this.renderMetricTables() : this.renderRunTable(runUuids[0])}\n      </div>\n    );\n  }\n\n  renderRunTable(runUuid: any) {\n    const { metricKeys, latestMetrics, minMetrics, maxMetrics, intl } = this.props;\n    const columns = [\n      {\n        title: intl.formatMessage({\n          defaultMessage: 'Metric',\n          description:\n            // eslint-disable-next-line max-len\n            'Column title for the column displaying the metric names for a run',\n        }),\n        dataIndex: 'metricKey',\n        sorter: (a: any, b: any) => (a.metricKey < b.metricKey ? -1 : a.metricKey > b.metricKey ? 1 : 0),\n        width: headerColWidth,\n      },\n      ...this.dataColumns(),\n    ];\n    return metricKeys.length === 0 ? null : (\n      <HtmlTableView\n        columns={columns}\n        values={getRunValuesByMetric(runUuid, metricKeys, latestMetrics, minMetrics, maxMetrics, intl)}\n        scroll={{ y: maxTableHeight }}\n      />\n    );\n  }\n\n  renderMetricTables() {\n    const { runExperimentIds, runUuids, runDisplayNames, metricKeys, latestMetrics, minMetrics, maxMetrics, intl } =\n      this.props;\n    const columns = [\n      {\n        title: intl.formatMessage({\n          defaultMessage: 'Run',\n          description:\n            // eslint-disable-next-line max-len\n            'Column title for the column displaying the run names for a metric',\n        }),\n        dataIndex: 'runLink',\n        sorter: (a: any, b: any) => (a.runName < b.runName ? -1 : a.runName > b.runName ? 1 : 0),\n        width: headerColWidth,\n      },\n      ...this.dataColumns(),\n    ];\n    return metricKeys.map((metricKey) => {\n      return (\n        <Fragment key={metricKey}>\n          <h1>{metricKey}</h1>\n          <HtmlTableView\n            columns={columns}\n            values={getMetricValuesByRun(\n              metricKey,\n              runExperimentIds,\n              runUuids,\n              runDisplayNames,\n              latestMetrics,\n              minMetrics,\n              maxMetrics,\n              intl,\n            )}\n            scroll={{ y: maxTableHeight }}\n          />\n        </Fragment>\n      );\n    });\n  }\n\n  dataColumns() {\n    return [\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Latest',\n          description: 'Column title for the column displaying the latest metric values for a metric',\n        }),\n        dataIndex: 'latestFormatted',\n        sorter: (a: any, b: any) => a.latestValue - b.latestValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Min',\n          description: 'Column title for the column displaying the minimum metric values for a metric',\n        }),\n        dataIndex: 'minFormatted',\n        sorter: (a: any, b: any) => a.minValue - b.minValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Max',\n          description: 'Column title for the column displaying the maximum metric values for a metric',\n        }),\n        dataIndex: 'maxFormatted',\n        sorter: (a: any, b: any) => a.maxValue - b.maxValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n    ];\n  }\n}\n\nconst getMetricValuesByRun = (\n  metricKey: any,\n  runExperimentIds: any,\n  runUuids: any,\n  runDisplayNames: any,\n  latestMetrics: any,\n  minMetrics: any,\n  maxMetrics: any,\n  intl: any,\n) => {\n  return runUuids.map((runUuid: any, runIdx: any) => {\n    const runName = runDisplayNames[runIdx];\n    return {\n      runName: runName,\n      runLink: <Link to={Routes.getRunPageRoute(runExperimentIds[runUuid] || '', runUuid)}>{runName}</Link>,\n      key: runUuid,\n      ...rowData(runUuid, metricKey, latestMetrics, minMetrics, maxMetrics, intl),\n    };\n  });\n};\n\nconst getRunValuesByMetric = (\n  runUuid: any,\n  metricKeys: any,\n  latestMetrics: any,\n  minMetrics: any,\n  maxMetrics: any,\n  intl: any,\n) => {\n  return metricKeys.map((metricKey: any) => {\n    return {\n      metricKey,\n      key: metricKey,\n      ...rowData(runUuid, metricKey, latestMetrics, minMetrics, maxMetrics, intl),\n    };\n  });\n};\n\nconst rowData = (runUuid: any, metricKey: any, latestMetrics: any, minMetrics: any, maxMetrics: any, intl: any) => {\n  const latestMetric = getMetric(latestMetrics, runUuid, metricKey);\n  const minMetric = getMetric(minMetrics, runUuid, metricKey);\n  const maxMetric = getMetric(maxMetrics, runUuid, metricKey);\n  const latestValue = getValue(latestMetric);\n  const minValue = getValue(minMetric);\n  const maxValue = getValue(maxMetric);\n  return {\n    latestFormatted: (\n      <span title={latestValue} css={{ marginRight: 10 }}>\n        {formatMetric(latestMetric, intl)}\n      </span>\n    ),\n    minFormatted: (\n      <span title={minValue} css={{ marginRight: 10 }}>\n        {formatMetric(minMetric, intl)}\n      </span>\n    ),\n    maxFormatted: (\n      <span title={maxValue} css={{ marginRight: 10 }}>\n        {formatMetric(maxMetric, intl)}\n      </span>\n    ),\n    latestValue,\n    minValue,\n    maxValue,\n  };\n};\n\nconst getMetric = (valuesMap: any, runUuid: any, metricKey: any) => valuesMap[runUuid] && valuesMap[runUuid][metricKey];\n\nconst getValue = (metric: any) => metric && metric.value;\n\nconst formatMetric = (metric: any, intl: any) =>\n  metric === undefined\n    ? ''\n    : intl.formatMessage(\n        {\n          defaultMessage: '{value} (step={step})',\n          description: 'Formats a metric value along with the step number it corresponds to',\n        },\n        {\n          value: metric.value,\n          step: metric.step,\n        },\n      );\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids } = ownProps;\n  const runExperimentIds = {};\n  const latestMetrics = {};\n  const minMetrics = {};\n  const maxMetrics = {};\n  runUuids.forEach((runUuid: any) => {\n    const runInfo = getRunInfo(runUuid, state) as RunInfoEntity;\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    runExperimentIds[runUuid] = runInfo && runInfo.experimentId;\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    latestMetrics[runUuid] = getLatestMetrics(runUuid, state);\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    minMetrics[runUuid] = getMinMetrics(runUuid, state);\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    maxMetrics[runUuid] = getMaxMetrics(runUuid, state);\n  });\n  return { runExperimentIds, latestMetrics, minMetrics, maxMetrics };\n};\n\n// @ts-expect-error TS(2769): No overload matches this call.\nconst MetricsSummaryTableWithIntl = injectIntl(MetricsSummaryTable);\n\nexport default connect(mapStateToProps)(MetricsSummaryTableWithIntl);\n","import React from 'react';\nimport { Button } from '@databricks/design-system';\n\ntype Props = {\n  icon: React.ReactNode;\n  style?: React.CSSProperties;\n  className?: string;\n  onClick?: () => void;\n  restProps?: unknown;\n};\n\nexport const IconButton = ({ icon, className, style, onClick, ...restProps }: Props) => {\n  return (\n    <Button\n      componentId=\"codegen_mlflow_app_src_common_components_iconbutton.tsx_20\"\n      type=\"link\"\n      className={className}\n      style={{ padding: 0, ...style }}\n      onClick={onClick}\n      {...restProps}\n    >\n      {icon}\n    </Button>\n  );\n};\n","import React from 'react';\nimport { Link } from '../../common/utils/RoutingUtils';\nimport Routes from '../routes';\nimport { IconButton } from '../../common/components/IconButton';\nimport Utils from '../../common/utils/Utils';\nimport { LegacyPopover } from '@databricks/design-system';\nimport { type RunItem } from '../types';\n\ntype Props = {\n  experimentId: string;\n  visible: boolean;\n  x: number;\n  y: number;\n  runItems: RunItem[];\n  handleClose: () => void;\n  handleKeyDown: ({ key }: { key: string }) => void;\n  handleVisibleChange: (visible: boolean) => void;\n};\n\nexport class RunLinksPopover extends React.Component<Props> {\n  componentDidMount() {\n    document.addEventListener('keydown', this.props.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.props.handleKeyDown);\n  }\n\n  renderContent = () => {\n    const { experimentId, runItems } = this.props;\n    return (\n      <div>\n        {runItems.map(({ name, runId, color, y }, index) => {\n          const key = `${runId}-${index}`;\n          const to = Routes.getRunPageRoute(experimentId, runId);\n          return (\n            <Link key={key} to={to}>\n              <p style={{ color }}>\n                <i className=\"fa fa-external-link-o\" style={{ marginRight: 5 }} />\n                {`${name}, ${Utils.formatMetric(y)}`}\n              </p>\n            </Link>\n          );\n        })}\n      </div>\n    );\n  };\n\n  renderTitle = () => {\n    const { handleClose } = this.props;\n    return (\n      <div>\n        <span>Jump to individual runs</span>\n        <IconButton\n          icon={<i className=\"fa fa-times\" />}\n          onClick={handleClose}\n          style={{ float: 'right', marginLeft: '7px' }}\n        />\n      </div>\n    );\n  };\n\n  render() {\n    const { visible, x, y, handleVisibleChange } = this.props;\n    return (\n      <LegacyPopover\n        content={this.renderContent()}\n        title={this.renderTitle()}\n        placement=\"left\"\n        visible={visible}\n        onVisibleChange={handleVisibleChange}\n      >\n        <div\n          style={{\n            left: x,\n            top: y,\n            position: 'absolute',\n          }}\n        />\n      </LegacyPopover>\n    );\n  }\n}\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Utils from '../../common/utils/Utils';\nimport RequestStateWrapper from '../../common/components/RequestStateWrapper';\nimport { getMetricHistoryApi, getRunApi } from '../actions';\nimport _ from 'lodash';\nimport { MetricsPlotView } from './MetricsPlotView';\nimport { getRunInfo } from '../reducers/Reducers';\nimport { MetricsPlotControls, X_AXIS_WALL, X_AXIS_RELATIVE, X_AXIS_STEP } from './MetricsPlotControls';\nimport MetricsSummaryTable from './MetricsSummaryTable';\nimport qs from 'qs';\nimport { withRouterNext } from '../../common/utils/withRouterNext';\nimport Routes from '../routes';\nimport { RunLinksPopover } from './RunLinksPopover';\nimport { getUUID } from '../../common/utils/ActionUtils';\nimport { saveAs } from 'file-saver';\nimport { Spinner } from '@databricks/design-system';\nimport { normalizeMetricsHistoryEntry } from '../utils/MetricsUtils';\nimport type { Location, NavigateFunction } from '../../common/utils/RoutingUtils';\n\nexport const CHART_TYPE_LINE = 'line';\nexport const CHART_TYPE_BAR = 'bar';\n\nexport const METRICS_PLOT_POLLING_INTERVAL_MS = 10 * 1000; // 10 seconds\n// A run is considered as 'hanging' if its status is 'RUNNING' but its latest metric was logged\n// prior to this threshold. The metrics plot doesn't automatically update hanging runs.\nexport const METRICS_PLOT_HANGING_RUN_THRESHOLD_MS = 3600 * 24 * 7 * 1000; // 1 week\nconst MAXIMUM_METRIC_DATA_POINTS = 100_000;\nconst GET_METRIC_HISTORY_MAX_RESULTS = 25000;\n\nexport const convertMetricsToCsv = (metrics: any) => {\n  const header = ['run_id', ...Object.keys(metrics[0].history[0])];\n  const rows = metrics.flatMap(({ runUuid, history }: any) =>\n    history.map((metric: any) => [runUuid, ...Object.values(metric)]),\n  );\n  return [header]\n    .concat(rows)\n    .map((row) => row.join(','))\n    .join('\\n');\n};\n\ntype OwnMetricsPlotPanelProps = {\n  experimentIds: string[];\n  runUuids: string[];\n  completedRunUuids: string[];\n  metricKey: string;\n  latestMetricsByRunUuid: any;\n  distinctMetricKeys: string[];\n  metricsWithRunInfoAndHistory: any[];\n  getMetricHistoryApi: (...args: any[]) => any;\n  getRunApi: (...args: any[]) => any;\n  location: Location;\n  navigate: NavigateFunction;\n  runDisplayNames: string[];\n  containsInfinities: boolean;\n};\n\ntype MetricsPlotPanelState = any;\n\ntype MetricsPlotPanelProps = OwnMetricsPlotPanelProps & typeof MetricsPlotPanel.defaultProps;\n\nexport class MetricsPlotPanel extends React.Component<MetricsPlotPanelProps, MetricsPlotPanelState> {\n  _isMounted = false;\n\n  static defaultProps = {\n    containsInfinities: false,\n  };\n\n  displayPopover: any;\n  intervalId: any;\n\n  // The fields below are exposed as instance attributes rather than component state so that they\n  // can be updated without triggering a rerender.\n  //\n  // ID of Javascript future (created via setTimeout()) used to trigger legend-click events after a\n  // delay, to allow time for double-click events to occur\n  legendClickTimeout = null;\n  // Time (millis after Unix epoch) since last legend click - if two clicks occur in short\n  // succession, we trigger a double-click event & cancel the pending single-click.\n  prevLegendClickTime = (Math as any).inf;\n\n  // Last curve ID clicked in the legend, used to determine if we're double-clicking on a specific\n  // legend curve\n  lastClickedLegendCurveId = null;\n\n  // Max time interval (in milliseconds) between two successive clicks on the metric plot legend\n  // that constitutes a double-click\n  MAX_DOUBLE_CLICK_INTERVAL_MS = 300;\n\n  // Delay (in ms) between when a user clicks on the metric plot legend & when event-handler logic\n  // (to toggle display of the selected curve on or off) actually fires. Set to a larger value than\n  // MAX_DOUBLE_CLICK_INTERVAL_MS to allow time for the double-click handler to fire before firing\n  // a single-click event.\n  SINGLE_CLICK_EVENT_DELAY_MS = this.MAX_DOUBLE_CLICK_INTERVAL_MS + 10;\n\n  constructor(props: MetricsPlotPanelProps) {\n    super(props);\n    this.state = {\n      historyRequestIds: [],\n      popoverVisible: false,\n      popoverX: 0,\n      popoverY: 0,\n      popoverRunItems: [],\n      focused: true,\n      loading: false,\n    };\n    this.displayPopover = false;\n    this.intervalId = null;\n  }\n\n  hasMultipleExperiments() {\n    return this.props.experimentIds && this.props.experimentIds.length > 1;\n  }\n\n  onFocus = () => {\n    this.setState({ focused: true });\n  };\n\n  onBlur = () => {\n    this.setState({ focused: false });\n  };\n\n  clearEventListeners = () => {\n    // `window.removeEventListener` does nothing when called with an unregistered event listener:\n    // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\n    window.removeEventListener('focus', this.onFocus);\n    window.removeEventListener('blur', this.onBlur);\n  };\n\n  clearInterval = () => {\n    // `clearInterval` does nothing when called with `null` or `undefine`:\n    // https://www.w3.org/TR/2011/WD-html5-20110525/timers.html#dom-windowtimers-cleartimeout\n    clearInterval(this.intervalId);\n    this.intervalId = null;\n  };\n\n  allRunsCompleted = () => {\n    return this.props.completedRunUuids.length === this.props.runUuids.length;\n  };\n\n  isHangingRunUuid = (activeRunUuid: any) => {\n    const metrics = this.props.latestMetricsByRunUuid[activeRunUuid];\n    if (!metrics) {\n      return false;\n    }\n    // @ts-expect-error TS(2345): Argument of type '({ timestamp }: { timestamp: any... Remove this comment to see the full error message\n    const timestamps = Object.values(metrics).map(({ timestamp }) => timestamp);\n    // @ts-expect-error TS(2345): Argument of type 'unknown' is not assignable to pa... Remove this comment to see the full error message\n    const latestTimestamp = Math.max(...timestamps);\n    return new Date().getTime() - latestTimestamp > METRICS_PLOT_HANGING_RUN_THRESHOLD_MS;\n  };\n\n  getActiveRunUuids = () => {\n    const { completedRunUuids, runUuids } = this.props;\n    const activeRunUuids = _.difference(runUuids, completedRunUuids);\n    return activeRunUuids.filter(_.negate(this.isHangingRunUuid)); // Exclude hanging runs\n  };\n\n  shouldPoll = () => {\n    return !(this.allRunsCompleted() || this.getActiveRunUuids().length === 0);\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.loadMetricHistory(this.props.runUuids, this.getUrlState().selectedMetricKeys);\n    if (this.shouldPoll()) {\n      // Set event listeners to detect when this component gains/loses focus,\n      // e.g., a user switches to a different browser tab or app.\n      window.addEventListener('blur', this.onBlur);\n      window.addEventListener('focus', this.onFocus);\n      this.intervalId = setInterval(() => {\n        // Skip polling if this component is out of focus.\n        // @ts-expect-error TS(4111): Property 'focused' comes from an index signature, ... Remove this comment to see the full error message\n        if (this.state.focused) {\n          const activeRunUuids = this.getActiveRunUuids();\n          this.loadMetricHistory(activeRunUuids, this.getUrlState().selectedMetricKeys);\n          this.loadRuns(activeRunUuids);\n\n          if (!this.shouldPoll()) {\n            this.clearEventListeners();\n            this.clearInterval();\n          }\n        }\n      }, METRICS_PLOT_POLLING_INTERVAL_MS);\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    this.clearEventListeners();\n    this.clearInterval();\n  }\n\n  getUrlState() {\n    return Utils.getMetricPlotStateFromUrl(this.props.location.search);\n  }\n\n  static predictChartType(metrics: any) {\n    // Show bar chart when every metric has exactly 1 metric history\n    if (metrics && metrics.length && _.every(metrics, (metric) => metric.history && metric.history.length === 1)) {\n      return CHART_TYPE_BAR;\n    }\n    return CHART_TYPE_LINE;\n  }\n\n  static isComparing(search: any) {\n    const params = qs.parse(search);\n    const runs = params && params['?runs'];\n    // @ts-expect-error TS(2345): Argument of type 'string | string[] | ParsedQs | P... Remove this comment to see the full error message\n    return runs ? JSON.parse(runs).length > 1 : false;\n  }\n\n  // Update page URL from component state. Intended to be called after React applies component\n  // state updates, e.g. in a setState callback\n  updateUrlState = (updatedState: any) => {\n    const { runUuids, metricKey, location, navigate } = this.props;\n    // @ts-expect-error TS(2345): Argument of type 'string | string[] | ParsedQs | P... Remove this comment to see the full error message\n    const experimentIds = JSON.parse(qs.parse(location.search)['experiments']);\n    const newState = {\n      ...this.getUrlState(),\n      ...updatedState,\n    };\n    const {\n      selectedXAxis,\n      selectedMetricKeys,\n      showPoint,\n      yAxisLogScale,\n      lineSmoothness,\n      layout,\n      deselectedCurves,\n      lastLinearYAxisRange,\n    } = newState;\n    navigate(\n      Routes.getMetricPageRoute(\n        runUuids,\n        metricKey,\n        experimentIds,\n        selectedMetricKeys,\n        layout,\n        selectedXAxis,\n        yAxisLogScale,\n        lineSmoothness,\n        showPoint,\n        deselectedCurves,\n        lastLinearYAxisRange,\n      ),\n      {\n        replace: true,\n      },\n    );\n  };\n\n  getNumTotalMetrics = () => {\n    return this.props.metricsWithRunInfoAndHistory.map(({ history }) => history.length).reduce((a, b) => a + b, 0);\n  };\n\n  loadMetricHistory = (runUuids: any, metricKeys: any) => {\n    if (this.getNumTotalMetrics() >= MAXIMUM_METRIC_DATA_POINTS) {\n      Utils.logErrorAndNotifyUser(\n        'The total number of metric data points exceeded 100,000. Cannot fetch more metrics.',\n      );\n      return Promise.resolve([]);\n    }\n    this.setState({ loading: true });\n    const promises = runUuids\n      .flatMap((id: any) =>\n        metricKeys.map((key: any) => ({\n          runUuid: id,\n          metricKey: key,\n        })),\n      )\n      // Avoid fetching non existing metrics\n      .filter(({ runUuid, metricKey }: any) => this.props.latestMetricsByRunUuid[runUuid].hasOwnProperty(metricKey))\n      .map(async ({ runUuid, metricKey }: any) => {\n        const requestIds = [];\n        const id = getUUID();\n        requestIds.push(id);\n        const firstPageResp = await this.props.getMetricHistoryApi(\n          runUuid,\n          metricKey,\n          GET_METRIC_HISTORY_MAX_RESULTS,\n          undefined,\n          id,\n        );\n\n        let nextPageToken = firstPageResp.value.next_page_token;\n        while (nextPageToken) {\n          if (this.getNumTotalMetrics() >= MAXIMUM_METRIC_DATA_POINTS) {\n            return { requestIds, success: false };\n          }\n\n          const uid = getUUID();\n          requestIds.push(uid);\n          /* eslint-disable no-await-in-loop */\n          const nextPageResp = await this.props.getMetricHistoryApi(\n            runUuid,\n            metricKey,\n            GET_METRIC_HISTORY_MAX_RESULTS,\n            nextPageToken,\n            uid,\n          );\n          nextPageToken = nextPageResp.value.next_page_token;\n        }\n        return { requestIds, success: true };\n      });\n    return Promise.all(promises).then((results) => {\n      // Ensure we don't set state if component is unmounted\n      if (this._isMounted) {\n        this.setState({ loading: false });\n      }\n      if (!results.every(({ success }) => success)) {\n        Utils.logErrorAndNotifyUser(\n          'The total number of metric data points exceeded 100,000. Aborted fetching metrics.',\n        );\n      }\n      return results.flatMap(({ requestIds }) => requestIds);\n    });\n  };\n\n  loadRuns = (runUuids: any) => {\n    const requestIds: any = [];\n    runUuids.forEach((runUuid: any) => {\n      const id = getUUID();\n      this.props.getRunApi(runUuid);\n      requestIds.push(id);\n    });\n    return requestIds;\n  };\n\n  getMetrics = () => {\n    /* eslint-disable no-param-reassign */\n    const state = this.getUrlState();\n    const selectedMetricsSet = new Set(state.selectedMetricKeys);\n    const { selectedXAxis } = state;\n    const { metricsWithRunInfoAndHistory } = this.props;\n\n    // Take only selected metrics\n    const metrics = metricsWithRunInfoAndHistory.filter((m) => selectedMetricsSet.has(m.metricKey));\n\n    // Sort metric history based on selected x-axis\n    metrics.forEach((metric) => {\n      const isStep = selectedXAxis === X_AXIS_STEP && metric.history[0] && _.isNumber(metric.history[0].step);\n      // Metric history can be large. Doing an in-place here to save memory\n      metric.history.sort(isStep ? Utils.compareByStepAndTimestamp : Utils.compareByTimestamp);\n    });\n\n    return metrics;\n  };\n\n  /**\n   * Handle changes in the scale type of the y-axis\n   * @param yAxisLogScale: Boolean - if true, y-axis should be converted to log scale, and if false,\n   * y-axis scale should be converted to a linear scale.\n   */\n  handleYAxisLogScaleChange = (yAxisLogScale: any) => {\n    const state = this.getUrlState();\n    const newLayout = _.cloneDeep(state.layout);\n    const newAxisType = yAxisLogScale ? 'log' : 'linear';\n\n    // Handle special case of a linear y-axis scale with negative values converted to log scale &\n    // now being restored to linear scale, by restoring the old linear-axis range from\n    // state.linearYAxisRange. In particular, we assume that if state.linearYAxisRange\n    // is non-empty, it contains a linear y axis range with negative values.\n    if (!yAxisLogScale && (state as any).lastLinearYAxisRange && (state as any).lastLinearYAxisRange.length > 0) {\n      newLayout.yaxis = {\n        type: 'linear',\n        range: (state as any).lastLinearYAxisRange,\n      };\n      this.updateUrlState({ layout: newLayout, lastLinearYAxisRange: [] });\n      return;\n    }\n\n    // Otherwise, if plot previously had no y axis range configured, simply set the axis type to\n    // log or linear scale appropriately\n    if (!state.layout.yaxis || !state.layout.yaxis.range) {\n      newLayout.yaxis = {\n        type: newAxisType,\n        autorange: true,\n        ...(newAxisType === 'log' ? { exponentformat: 'e' } : {}),\n      };\n      this.updateUrlState({ layout: newLayout, lastLinearYAxisRange: [] });\n      return;\n    }\n\n    // lastLinearYAxisRange contains the last range used for a linear-scale y-axis. We set\n    // this state attribute if and only if we're converting from a linear-scale y-axis with\n    // negative bounds to a log scale axis, so that we can restore the negative bounds if we\n    // subsequently convert back to a linear scale axis. Otherwise, we reset this attribute to an\n    // empty array\n    let lastLinearYAxisRange = [];\n\n    // At this point, we know the plot previously had a y axis specified with range bounds\n    // Convert the range to/from log scale as appropriate\n    const oldLayout = state.layout;\n    const oldYRange = oldLayout.yaxis.range;\n    if (yAxisLogScale) {\n      if (oldYRange[0] <= 0) {\n        lastLinearYAxisRange = oldYRange;\n        // When converting to log scale, handle negative values (which have no log-scale\n        // representation as taking the log of a negative number is not possible) as follows:\n        // If bottom of old Y range is negative, then tell plotly to infer the log y-axis scale\n        // (set 'autorange' to true), and preserve the old range in the lastLinearYAxisRange\n        // state attribute so that we can restore it if the user converts back to a linear-scale\n        // y axis. We defer to Plotly's autorange here under the assumption that it will produce\n        // a reasonable y-axis log scale for plots containing negative values.\n        newLayout.yaxis = {\n          type: 'log',\n          autorange: true,\n          exponentformat: 'e',\n        };\n      } else {\n        newLayout.yaxis = {\n          type: 'log',\n          range: [Math.log(oldYRange[0]) / Math.log(10), Math.log(oldYRange[1]) / Math.log(10)],\n          exponentformat: 'e',\n        };\n      }\n    } else {\n      // Otherwise, convert from log to linear scale normally\n      newLayout.yaxis = {\n        type: 'linear',\n        range: [Math.pow(10, oldYRange[0]), Math.pow(10, oldYRange[1])],\n      };\n    }\n    this.updateUrlState({ layout: newLayout, lastLinearYAxisRange });\n  };\n\n  /**\n   * Handle changes in the type of the metric plot's X axis (e.g. changes from wall-clock\n   * scale to relative-time scale to step-based scale).\n   * @param e: Selection event such that e.target.value is a string containing the new X axis type\n   */\n  handleXAxisChange = (e: any) => {\n    // Set axis value type, & reset axis scaling via autorange\n    const state = this.getUrlState();\n    const axisEnumToPlotlyType = {\n      [X_AXIS_WALL]: 'date',\n      [X_AXIS_RELATIVE]: 'linear',\n      [X_AXIS_STEP]: 'linear',\n    };\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    const axisType = axisEnumToPlotlyType[e.target.value] || 'linear';\n    const newLayout = {\n      ...state.layout,\n      xaxis: {\n        autorange: true,\n        type: axisType,\n      },\n    };\n    this.updateUrlState({ selectedXAxis: e.target.value, layout: newLayout });\n  };\n\n  getAxisType() {\n    const state = this.getUrlState();\n    return state.layout && state.layout.yaxis && state.layout.yaxis.type === 'log' ? 'log' : 'linear';\n  }\n\n  /**\n   * Handle changes to metric plot layout (x & y axis ranges), e.g. specifically if the user\n   * zooms in or out on the plot.\n   *\n   * @param newLayout: Object containing the new Plot layout. See\n   * https://plot.ly/javascript/plotlyjs-events/#update-data for details on the object's fields\n   * and schema.\n   */\n  handleLayoutChange = (newLayout: any) => {\n    this.displayPopover = false;\n    const state = this.getUrlState();\n    // Unfortunately, we need to parse out the x & y axis range changes from the onLayout event...\n    // see https://plot.ly/javascript/plotlyjs-events/#update-data\n    const {\n      'xaxis.range[0]': newXRange0,\n      'xaxis.range[1]': newXRange1,\n      'yaxis.range[0]': newYRange0,\n      'yaxis.range[1]': newYRange1,\n      'xaxis.autorange': xAxisAutorange,\n      'yaxis.autorange': yAxisAutorange,\n      'yaxis.showspikes': yAxisShowSpikes,\n      'xaxis.showspikes': xAxisShowSpikes,\n      ...restFields\n    } = newLayout;\n\n    let mergedLayout = {\n      ...state.layout,\n      ...restFields,\n    };\n    let lastLinearYAxisRange = [...(state as any).lastLinearYAxisRange];\n\n    // Set fields for x axis\n    const newXAxis = mergedLayout.xaxis || {};\n    if (newXRange0 !== undefined && newXRange1 !== undefined) {\n      newXAxis.range = [newXRange0, newXRange1];\n      newXAxis.autorange = false;\n    }\n    if (xAxisShowSpikes) {\n      newXAxis.showspikes = true;\n    }\n    if (xAxisAutorange) {\n      newXAxis.autorange = true;\n    }\n    // Set fields for y axis\n    const newYAxis = mergedLayout.yaxis || {};\n    if (newYRange0 !== undefined && newYRange1 !== undefined) {\n      newYAxis.range = [newYRange0, newYRange1];\n      newYAxis.autorange = false;\n    }\n    if (yAxisShowSpikes) {\n      newYAxis.showspikes = true;\n    }\n    if (yAxisAutorange) {\n      lastLinearYAxisRange = [];\n      const axisType = state.layout && state.layout.yaxis && state.layout.yaxis.type === 'log' ? 'log' : 'linear';\n      newYAxis.autorange = true;\n      newYAxis.type = axisType;\n    }\n    if (newYAxis.type === 'log') {\n      newYAxis.exponentformat = 'e';\n    }\n    // Merge new X & Y axis info into layout\n    mergedLayout = {\n      ...mergedLayout,\n      xaxis: newXAxis,\n      yaxis: newYAxis,\n    };\n    this.updateUrlState({ layout: mergedLayout, lastLinearYAxisRange });\n  };\n\n  handleDownloadCsv = () => {\n    const csv = convertMetricsToCsv(this.props.metricsWithRunInfoAndHistory);\n    const blob = new Blob([csv], { type: 'application/csv;charset=utf-8' });\n    saveAs(blob, 'metrics.csv');\n  };\n\n  // Return unique key identifying the curve or bar chart corresponding to the specified\n  // Plotly plot data element\n  static getCurveKey(plotDataElem: any) {\n    // In bar charts, each legend item consists of a single run ID (all bars for that run are\n    // associated with & toggled by that legend item)\n    if (plotDataElem.type === 'bar') {\n      return plotDataElem.runId;\n    } else {\n      // In line charts, each (run, metricKey) tuple has its own legend item, so construct\n      // a unique legend item identifier by concatenating the run id & metric key\n      return Utils.getCurveKey(plotDataElem.runId, plotDataElem.metricName);\n    }\n  }\n\n  /**\n   * Handle clicking on a single curve within the plot legend in order to toggle its display\n   * on/off.\n   */\n  handleLegendClick = ({ curveNumber, data }: any) => {\n    // If two clicks in short succession, trigger double-click event\n    const state = this.getUrlState();\n    const currentTime = Date.now();\n    if (\n      currentTime - this.prevLegendClickTime < this.MAX_DOUBLE_CLICK_INTERVAL_MS &&\n      curveNumber === this.lastClickedLegendCurveId\n    ) {\n      this.handleLegendDoubleClick({ curveNumber, data });\n      this.prevLegendClickTime = (Math as any).inf;\n    } else {\n      // Otherwise, record time of current click & trigger click event\n      // Wait full double-click window to trigger setting state, and only if there was no\n      // double-click do we run the single-click logic (we wait a little extra to be safe)\n      const curveKey = MetricsPlotPanel.getCurveKey(data[curveNumber]);\n      // @ts-expect-error TS(2322): Type 'number' is not assignable to type 'null'.\n      this.legendClickTimeout = window.setTimeout(() => {\n        const existingDeselectedCurves = new Set((state as any).deselectedCurves);\n        if (existingDeselectedCurves.has(curveKey)) {\n          existingDeselectedCurves.delete(curveKey);\n        } else {\n          existingDeselectedCurves.add(curveKey);\n        }\n        this.updateUrlState({ deselectedCurves: Array.from(existingDeselectedCurves) });\n      }, this.SINGLE_CLICK_EVENT_DELAY_MS);\n      this.prevLegendClickTime = currentTime;\n    }\n    this.lastClickedLegendCurveId = curveNumber;\n    // Return false to disable plotly event handler\n    return false;\n  };\n\n  /**\n   * Handle double-clicking on a single curve within the plot legend in order to toggle display\n   * of the selected curve on (and disable display of all other curves).\n   */\n  handleLegendDoubleClick = ({ curveNumber, data }: any) => {\n    // @ts-expect-error TS(2769): No overload matches this call.\n    window.clearTimeout(this.legendClickTimeout);\n    // Exclude everything besides the current curve key\n    const curveKey = MetricsPlotPanel.getCurveKey(data[curveNumber]);\n    const allCurveKeys = data.map((elem: any) => MetricsPlotPanel.getCurveKey(elem));\n    const newDeselectedCurves = allCurveKeys.filter((curvePair: any) => curvePair !== curveKey);\n    this.updateUrlState({ deselectedCurves: newDeselectedCurves });\n    return false;\n  };\n\n  handleMetricsSelectChange = (metricKeys: any) => {\n    const existingMetricKeys = this.getUrlState().selectedMetricKeys || [];\n    const newMetricKeys = metricKeys.filter((k: any) => !existingMetricKeys.includes(k));\n    this.updateUrlState({ selectedMetricKeys: metricKeys });\n    this.loadMetricHistory(this.props.runUuids, newMetricKeys).then((requestIds) => {\n      this.setState({ loading: false });\n      this.setState((prevState: any) => ({\n        historyRequestIds: [...prevState.historyRequestIds, ...requestIds],\n      }));\n    });\n  };\n\n  handleShowPointChange = (showPoint: any) => this.updateUrlState({ showPoint });\n\n  handleLineSmoothChange = (lineSmoothness: any) => this.updateUrlState({ lineSmoothness });\n\n  handleKeyDownOnPopover = ({ key }: { key: string }) => {\n    if (key === 'Escape') {\n      this.setState({ popoverVisible: false });\n    }\n  };\n\n  updatePopover = (data: any) => {\n    this.displayPopover = !this.displayPopover;\n\n    // Ignore double click.\n    setTimeout(() => {\n      if (this.displayPopover) {\n        this.displayPopover = false;\n        const { popoverVisible, popoverX, popoverY } = this.state;\n        const {\n          points,\n          event: { clientX, clientY },\n        } = data;\n        const samePointClicked = popoverX === clientX && popoverY === clientY;\n        const runItems = points\n          .sort((a: any, b: any) => b.y - a.y)\n          .map((point: any) => ({\n            runId: point.data.runId,\n            name: point.data.name,\n            color: point.fullData.marker.color,\n            y: point.y,\n          }));\n\n        this.setState({\n          popoverVisible: !popoverVisible || !samePointClicked,\n          popoverX: clientX,\n          popoverY: clientY,\n          popoverRunItems: runItems,\n        });\n      }\n    }, 300);\n  };\n\n  render() {\n    const { experimentIds, runUuids, runDisplayNames, distinctMetricKeys, location } = this.props;\n    const { popoverVisible, popoverX, popoverY, popoverRunItems, loading } = this.state;\n    const state = this.getUrlState();\n    const { showPoint, selectedXAxis, selectedMetricKeys, lineSmoothness } = state;\n    const yAxisLogScale = this.getAxisType() === 'log';\n    const { historyRequestIds } = this.state;\n    const metrics = this.getMetrics();\n    const chartType = MetricsPlotPanel.predictChartType(metrics);\n    return (\n      <div className=\"mlflow-metrics-plot-container\">\n        <MetricsPlotControls\n          // @ts-expect-error TS(2322): Type '{ numRuns: number; numCompletedRuns: number;... Remove this comment to see the full error message\n          numRuns={this.props.runUuids.length}\n          numCompletedRuns={this.props.completedRunUuids.length}\n          distinctMetricKeys={distinctMetricKeys}\n          selectedXAxis={selectedXAxis}\n          selectedMetricKeys={selectedMetricKeys}\n          handleXAxisChange={this.handleXAxisChange}\n          handleMetricsSelectChange={this.handleMetricsSelectChange}\n          handleShowPointChange={this.handleShowPointChange}\n          handleYAxisLogScaleChange={this.handleYAxisLogScaleChange}\n          handleLineSmoothChange={this.handleLineSmoothChange}\n          chartType={chartType}\n          lineSmoothness={lineSmoothness}\n          yAxisLogScale={yAxisLogScale}\n          showPoint={showPoint}\n          handleDownloadCsv={this.handleDownloadCsv}\n          disableSmoothnessControl={this.props.containsInfinities}\n        />\n        <div className=\"metrics-plot-data\">\n          <RequestStateWrapper\n            requestIds={historyRequestIds}\n            // In this case where there are no history request IDs (e.g. on the\n            // initial page load / before we try to load additional metrics),\n            // optimistically render the children\n            shouldOptimisticallyRender={historyRequestIds.length === 0}\n          >\n            {this.hasMultipleExperiments() ? null : (\n              <RunLinksPopover\n                experimentId={experimentIds[0]}\n                visible={popoverVisible}\n                x={popoverX}\n                y={popoverY}\n                runItems={popoverRunItems}\n                handleKeyDown={this.handleKeyDownOnPopover}\n                handleClose={() => this.setState({ popoverVisible: false })}\n                handleVisibleChange={(visible) => this.setState({ popoverVisible: visible })}\n              />\n            )}\n            <Spinner size=\"large\" css={{ visibility: loading ? 'visible' : 'hidden' }} />\n            <MetricsPlotView\n              // @ts-expect-error TS(2322): Type '{ runUuids: string[]; runDisplayNames: strin... Remove this comment to see the full error message\n              runUuids={runUuids}\n              runDisplayNames={runDisplayNames}\n              xAxis={selectedXAxis}\n              metrics={this.getMetrics()}\n              metricKeys={selectedMetricKeys}\n              showPoint={showPoint}\n              chartType={chartType}\n              isComparing={MetricsPlotPanel.isComparing(location.search)}\n              lineSmoothness={lineSmoothness}\n              extraLayout={state.layout}\n              deselectedCurves={(state as any).deselectedCurves}\n              onLayoutChange={this.handleLayoutChange}\n              onClick={this.updatePopover}\n              onLegendClick={this.handleLegendClick}\n              onLegendDoubleClick={this.handleLegendDoubleClick}\n            />\n            <MetricsSummaryTable\n              runUuids={runUuids}\n              runDisplayNames={runDisplayNames}\n              metricKeys={selectedMetricKeys}\n            />\n          </RequestStateWrapper>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids } = ownProps;\n  const completedRunUuids = runUuids.filter((runUuid: any) => getRunInfo(runUuid, state).status !== 'RUNNING');\n  const { latestMetricsByRunUuid, metricsByRunUuid } = state.entities;\n\n  // All metric keys from all runUuids, non-distinct\n  const metricKeys = _.flatMap(runUuids, (runUuid) => {\n    const latestMetrics = latestMetricsByRunUuid[runUuid];\n    return latestMetrics ? Object.keys(latestMetrics) : [];\n  });\n  const distinctMetricKeys = [...new Set(metricKeys)].sort();\n  const runDisplayNames: any = [];\n\n  let containsInfinities = false;\n\n  // Flat array of all metrics, with history and information of the run it belongs to\n  // This is used for underlying MetricsPlotView & predicting chartType for MetricsPlotControls\n  const metricsWithRunInfoAndHistory = _.flatMap(runUuids, (runUuid) => {\n    const runDisplayName = Utils.getRunDisplayName(getRunInfo(runUuid, state), runUuid);\n    runDisplayNames.push(runDisplayName);\n    const metricsHistory = metricsByRunUuid[runUuid];\n    return metricsHistory\n      ? Object.keys(metricsHistory).map((metricKey) => {\n          const history = metricsHistory[metricKey].map((entry: any) => normalizeMetricsHistoryEntry(entry));\n          if (history.some(({ value }: any) => typeof value === 'number' && !isNaN(value) && !isFinite(value))) {\n            containsInfinities = true;\n          }\n          return { metricKey, history, runUuid, runDisplayName };\n        })\n      : [];\n  });\n\n  return {\n    runDisplayNames,\n    latestMetricsByRunUuid,\n    distinctMetricKeys,\n    metricsWithRunInfoAndHistory,\n    completedRunUuids,\n    containsInfinities,\n  };\n};\n\nconst mapDispatchToProps = { getMetricHistoryApi, getRunApi };\n\nexport default withRouterNext(connect(mapStateToProps, mapDispatchToProps)(MetricsPlotPanel));\n","import { useDesignSystemTheme } from '@databricks/design-system';\nimport { Input, Slider } from '@databricks/design-system';\nimport { clamp, isEmpty, isUndefined, keys } from 'lodash';\nimport { useState } from 'react';\n\nconst TRACK_SIZE = 20;\nconst THUMB_SIZE = 14;\nconst MARK_SIZE = 8;\nconst MARK_OFFSET_X = (THUMB_SIZE - MARK_SIZE) / 2;\nconst MARK_OFFSET_Y = (TRACK_SIZE - MARK_SIZE) / 2;\n\nconst ZINDEX_MARK = 1;\nconst ZINDEX_THUMB = 2;\n\nconst STEP_MARKS_DISPLAY_THRESHOLD = 10;\n\ninterface LineSmoothSliderProps {\n  max?: number;\n  min?: number;\n  step?: number;\n  marks?: Record<number, any>;\n  value: number | undefined;\n  onChange: (value: number) => void;\n  disabled?: boolean;\n  componentId?: string;\n  onAfterChange?: (value: number) => void;\n  className?: string;\n}\n\n// Internal helper function: finds the closest value to the given value from the marks\nconst getClosestValue = (marks: Record<number, string>, value: number, defaultValue: number) =>\n  keys(marks).reduce(\n    (prev, curr) => (Math.abs(Number(curr) - value) < Math.abs(prev - value) ? Number(curr) : Number(prev)),\n    defaultValue,\n  );\n\n// Internal helper function: finds the next value based on direction (down or up) from the marks\nconst getNextValue = (marks: Record<number, string>, currentValue: number, direction: 'down' | 'up') =>\n  direction === 'down'\n    ? Math.max(\n        ...Object.keys(marks)\n          .filter((mark) => Number(mark) < currentValue)\n          .map(Number),\n      )\n    : Math.min(\n        ...Object.keys(marks)\n          .filter((mark) => Number(mark) > currentValue)\n          .map(Number),\n      );\n\nexport const LineSmoothSlider = ({\n  max = 1,\n  min = 0,\n  step,\n  marks,\n  value,\n  onChange,\n  disabled,\n  onAfterChange,\n  componentId,\n  className,\n}: LineSmoothSliderProps) => {\n  const { theme } = useDesignSystemTheme();\n  const shouldUseMarks = !isEmpty(marks);\n  const shouldDisplayMarks = shouldUseMarks && Object.keys(marks).length < STEP_MARKS_DISPLAY_THRESHOLD;\n\n  // Temporary value is used to store the value of the input field before it is committed\n  const [temporaryValue, setTemporaryValue] = useState<number | undefined>(undefined);\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        height: theme.general.heightSm,\n        gap: theme.spacing.md,\n        alignItems: 'center',\n      }}\n    >\n      <Slider.Root\n        disabled={disabled}\n        css={{\n          flex: 1,\n          position: 'relative',\n          'span:last-child': { zIndex: ZINDEX_THUMB },\n        }}\n        className={className}\n        min={min}\n        max={max}\n        value={[value ?? 0]}\n        onValueCommit={([newValue]) => onAfterChange?.(newValue)}\n        onKeyDown={(e) => {\n          // If marks are used, we want to find the next value based on direction (arrow left/down or arrow right/up)\n          if (shouldUseMarks) {\n            e.preventDefault();\n\n            if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {\n              const nextValue = getNextValue(\n                marks,\n                value ?? 0,\n                e.key === 'ArrowLeft' || e.key === 'ArrowDown' ? 'down' : 'up',\n              );\n\n              onAfterChange?.(nextValue);\n              onChange(nextValue);\n            }\n          }\n        }}\n        onValueChange={([newValue]) => {\n          if (shouldUseMarks) {\n            onChange(getClosestValue(marks, newValue, value ?? 0));\n            return;\n          }\n          onChange(newValue);\n        }}\n        step={step ?? undefined}\n      >\n        {/* Render marks if needed */}\n        {shouldDisplayMarks && (\n          <div css={{ position: 'absolute', inset: 0, marginRight: THUMB_SIZE }}>\n            {keys(marks).map((markPosition) => (\n              <div\n                key={markPosition}\n                css={{\n                  position: 'absolute',\n                  zIndex: ZINDEX_MARK,\n                  top: 0,\n                  right: 0,\n                  bottom: 0,\n                  marginLeft: -MARK_OFFSET_X / 2,\n                  marginTop: MARK_OFFSET_Y,\n                  pointerEvents: 'none',\n                  borderRadius: '100%',\n                  backgroundColor: theme.colors.actionPrimaryBackgroundDefault,\n                  height: MARK_SIZE,\n                  width: MARK_SIZE,\n                  opacity: 0.5,\n                }}\n                style={{\n                  left: `${(Number(markPosition) / (max - min)) * 100}%`,\n                }}\n              />\n            ))}\n          </div>\n        )}\n        <Slider.Track className=\"TRACK\">\n          <Slider.Range />\n        </Slider.Track>\n        <Slider.Thumb css={{ position: 'relative', height: THUMB_SIZE, width: THUMB_SIZE }} />\n      </Slider.Root>\n      <Input\n        componentId={componentId ?? 'mlflow.experiment_tracking.common.line_smooth_slider'}\n        type=\"number\"\n        disabled={disabled}\n        min={min}\n        max={max}\n        css={{ width: 'min-content' }}\n        step={step}\n        value={temporaryValue ?? value}\n        onBlur={() => {\n          // If temporary value is set, we want to commit it to the value\n          if (!isUndefined(temporaryValue)) {\n            if (shouldUseMarks) {\n              onAfterChange?.(getClosestValue(marks, temporaryValue, value ?? 0));\n              onChange(getClosestValue(marks, temporaryValue, value ?? 0));\n            } else {\n              onAfterChange?.(clamp(temporaryValue, min, max));\n              onChange(clamp(temporaryValue, min, max));\n            }\n            setTemporaryValue(undefined);\n          }\n        }}\n        onChange={({ target, nativeEvent }) => {\n          // If the input event is an input event, we want to set the temporary value\n          // to be commited on blur instead of directly setting the value\n          if (nativeEvent instanceof InputEvent) {\n            setTemporaryValue(Number(target.value));\n            return;\n          }\n\n          // If using marks, find the next value based on the direction of the change\n          if (shouldUseMarks) {\n            const nextValue = getNextValue(marks, value ?? 0, Number(target.value) < Number(value) ? 'down' : 'up');\n\n            onChange(nextValue);\n            return;\n          }\n\n          // If not using marks, clamp the value to the min and max\n          onChange(clamp(Number(target.value), min, max));\n        }}\n      />\n    </div>\n  );\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport Utils from '../../utils/Utils';\n\ntype Props = {\n  showServerError?: boolean;\n};\n\ntype State = any;\n\nexport class SectionErrorBoundary extends React.Component<Props, State> {\n  state = { error: null };\n\n  componentDidCatch(error: any, errorInfo: any) {\n    this.setState({ error });\n    // eslint-disable-next-line no-console -- TODO(FEINF-3587)\n    console.error(error, errorInfo);\n  }\n\n  renderErrorMessage(error: any) {\n    return this.props.showServerError ? <div>Error message: {error.message}</div> : '';\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error } = this.state;\n    if (error) {\n      return (\n        <div>\n          <p>\n            <i\n              data-testid=\"icon-fail\"\n              className=\"fa fa-exclamation-triangle mlflow-icon-fail\"\n              css={classNames.wrapper}\n            />\n            <span> Something went wrong with this section. </span>\n            <span>If this error persists, please report an issue </span>\n            {/* Reported during ESLint upgrade */}\n            {/* eslint-disable-next-line react/jsx-no-target-blank */}\n            <a href={Utils.getSupportPageUrl()} target=\"_blank\">\n              here\n            </a>\n            .{this.renderErrorMessage(error)}\n          </p>\n        </div>\n      );\n    }\n\n    return children;\n  }\n}\n\nconst classNames = {\n  wrapper: {\n    marginLeft: -2, // to align the failure icon with the collapsable section caret toggle\n  },\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getApis } from '../../experiment-tracking/reducers/Reducers';\nimport { Spinner } from './Spinner';\nimport { ErrorCodes } from '../constants';\nimport { ErrorWrapper } from '../utils/ErrorWrapper';\nimport { ReduxState } from '../../redux-types';\n\nexport const DEFAULT_ERROR_MESSAGE = 'A request error occurred.';\n\ntype RequestStateWrapperProps = {\n  children?: React.ReactNode;\n  customSpinner?: React.ReactNode;\n  shouldOptimisticallyRender?: boolean;\n  requests: any[];\n  requestIds?: string[];\n  requestIdsWith404sToIgnore?: string[];\n  description?: any; // TODO: PropTypes.oneOf(Object.values(LoadingDescription))\n  permissionDeniedView?: React.ReactNode;\n  suppressErrorThrow?: boolean;\n  customRequestErrorHandlerFn?: (\n    failedRequests: {\n      id: string;\n      active?: boolean;\n      error: Error | ErrorWrapper;\n    }[],\n  ) => void;\n};\n\ntype RequestStateWrapperState = any;\n\nexport class RequestStateWrapper extends Component<RequestStateWrapperProps, RequestStateWrapperState> {\n  static defaultProps = {\n    requests: [],\n    requestIdsWith404sToIgnore: [],\n    shouldOptimisticallyRender: false,\n  };\n\n  state = {\n    shouldRender: false,\n    shouldRenderError: false,\n  };\n\n  static getErrorRequests(requests: any, requestIdsWith404sToIgnore: any) {\n    return requests.filter((r: any) => {\n      if (r.error !== undefined) {\n        return !(\n          requestIdsWith404sToIgnore &&\n          requestIdsWith404sToIgnore.includes(r.id) &&\n          r.error.getErrorCode() === ErrorCodes.RESOURCE_DOES_NOT_EXIST\n        );\n      }\n      return false;\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps: any) {\n    const shouldRender = nextProps.requests.length\n      ? nextProps.requests.every((r: any) => r && r.active === false)\n      : false;\n\n    const requestErrors = RequestStateWrapper.getErrorRequests(\n      nextProps.requests,\n      nextProps.requestIdsWith404sToIgnore,\n    );\n\n    return {\n      shouldRender,\n      shouldRenderError: requestErrors.length > 0,\n      requestErrors,\n    };\n  }\n\n  getRenderedContent() {\n    const { children, requests, customSpinner, permissionDeniedView, suppressErrorThrow, customRequestErrorHandlerFn } =\n      this.props;\n    // @ts-expect-error TS(2339): Property 'requestErrors' does not exist on type '{... Remove this comment to see the full error message\n    const { shouldRender, shouldRenderError, requestErrors } = this.state;\n    const permissionDeniedErrors = requestErrors.filter((failedRequest: any) => {\n      return failedRequest.error.getErrorCode() === ErrorCodes.PERMISSION_DENIED;\n    });\n\n    if (typeof children === 'function') {\n      return children(!shouldRender, shouldRenderError, requests, requestErrors);\n    } else if (shouldRender || shouldRenderError || this.props.shouldOptimisticallyRender) {\n      if (permissionDeniedErrors.length > 0 && permissionDeniedView) {\n        return permissionDeniedView;\n      }\n      if (shouldRenderError && !suppressErrorThrow) {\n        customRequestErrorHandlerFn ? customRequestErrorHandlerFn(requestErrors) : triggerError(requestErrors);\n      }\n\n      return children;\n    }\n\n    return customSpinner || <Spinner />;\n  }\n\n  render() {\n    return this.getRenderedContent();\n  }\n}\n\nexport const triggerError = (requests: any) => {\n  // This triggers the OOPS error boundary.\n  // eslint-disable-next-line no-console -- TODO(FEINF-3587)\n  console.error('ERROR', requests);\n  throw Error(`${DEFAULT_ERROR_MESSAGE}: ${requests.error}`);\n};\n\nconst mapStateToProps = (state: ReduxState, ownProps: Omit<RequestStateWrapperProps, 'requests'>) => ({\n  requests: getApis(ownProps.requestIds, state),\n});\n\nexport default connect(mapStateToProps)(RequestStateWrapper);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { LegacySkeleton } from '@databricks/design-system';\nimport { SectionErrorBoundary } from '../../common/components/error-boundaries/SectionErrorBoundary';\n\nconst Plot = React.lazy(() => import('react-plotly.js'));\n\nexport const LazyPlot = ({ fallback, ...props }: any) => (\n  <SectionErrorBoundary>\n    <React.Suspense fallback={fallback ?? <LegacySkeleton active />}>\n      <Plot {...props} />\n    </React.Suspense>\n  </SectionErrorBoundary>\n);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport Utils from '../../common/utils/Utils';\nimport _ from 'lodash';\nimport { saveAs } from 'file-saver';\nimport { X_AXIS_STEP, X_AXIS_RELATIVE, MAX_LINE_SMOOTHNESS } from './MetricsPlotControls';\nimport { CHART_TYPE_BAR, convertMetricsToCsv } from './MetricsPlotPanel';\nimport { LazyPlot } from './LazyPlot';\nimport { generateInfinityAnnotations } from '../utils/MetricsUtils';\nimport { injectIntl, IntlShape } from 'react-intl';\n\nconst MAX_RUN_NAME_DISPLAY_LENGTH = 24;\nconst EMA_THRESHOLD = 1;\n\nexport const EMA = (mArray: any, smoothingWeight: any) => {\n  // If all elements in the set of metric values are constant, or if\n  // the degree of smoothing is set to the minimum value, return the\n  // original set of metric values\n  if (smoothingWeight <= 1 || !mArray || mArray.length <= EMA_THRESHOLD || mArray.every((v: any) => v === mArray[0])) {\n    return mArray;\n  }\n\n  const smoothness = smoothingWeight / (MAX_LINE_SMOOTHNESS + 1);\n  const smoothedArray = [];\n  let biasedElement = 0;\n  for (let i = 0; i < mArray.length; i++) {\n    if (!isNaN(mArray[i])) {\n      biasedElement = biasedElement * smoothness + (1 - smoothness) * mArray[i];\n      // To avoid biasing earlier elements toward smaller-than-accurate values, we divide\n      // all elements by a `debiasedWeight` that asymptotically increases and approaches\n      // 1 as the element index increases\n      const debiasWeight = 1.0 - Math.pow(smoothness, i + 1);\n      const debiasedElement = biasedElement / debiasWeight;\n      smoothedArray.push(debiasedElement);\n    } else {\n      smoothedArray.push(mArray[i]);\n    }\n  }\n  return smoothedArray;\n};\n\n// To avoid pulling in plotly.js (unlazily) and / or using a separate package, just duplicating here\n// Copied from https://github.com/plotly/plotly.js/blob/v2.5.1/src/fonts/ploticon.js#L100\nconst DISK_ICON = {\n  width: 857.1,\n  height: 1000,\n  // eslint-disable-next-line max-len\n  path: 'm214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z',\n  transform: 'matrix(1 0 0 -1 0 850)',\n};\n\ntype MetricsPlotViewImplProps = {\n  runUuids: string[];\n  runDisplayNames: string[];\n  metrics: any[];\n  xAxis: string;\n  metricKeys: string[];\n  showPoint: boolean;\n  chartType: string;\n  isComparing: boolean;\n  lineSmoothness?: number;\n  extraLayout?: any;\n  onLayoutChange: (...args: any[]) => any;\n  onClick: (...args: any[]) => any;\n  onLegendClick: (...args: any[]) => any;\n  onLegendDoubleClick: (...args: any[]) => any;\n  deselectedCurves: string[];\n  intl?: any;\n};\n\nexport class MetricsPlotViewImpl extends React.Component<MetricsPlotViewImplProps> {\n  static getLineLegend = (metricKey: any, runDisplayName: any, isComparing: any) => {\n    let legend = metricKey;\n    if (isComparing) {\n      legend += `, ${Utils.truncateString(runDisplayName, MAX_RUN_NAME_DISPLAY_LENGTH)}`;\n    }\n    return legend;\n  };\n\n  static getXValuesForLineChart(history: any, xAxisType: any, intl?: IntlShape) {\n    if (history.length === 0) {\n      return [];\n    }\n    switch (xAxisType) {\n      case X_AXIS_STEP:\n        return history.map(({ step }: any) => step);\n      case X_AXIS_RELATIVE: {\n        // @ts-expect-error TS(2339): Property 'timestamp' does not exist on type '{ toS... Remove this comment to see the full error message\n        const { timestamp: minTimestamp } = _.minBy(history, 'timestamp');\n        return history.map(({ timestamp }: any) => (timestamp - minTimestamp) / 1000);\n      }\n      default: // X_AXIS_WALL\n        return history.map(({ timestamp }: any) => timestamp);\n    }\n  }\n\n  /**\n   * Regenerates annotations and shapes for infinity and NaN values.\n   * Best called infrequently. Ideally should be called only when data input changes.\n   */\n  regenerateInfinityAnnotations = () => {\n    const { metrics, xAxis, extraLayout } = this.props;\n    const isYAxisLog = extraLayout?.yaxis?.type === 'log';\n    const annotationData = {};\n\n    metrics.forEach((metric) => {\n      const { metricKey, history } = metric;\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      annotationData[metricKey] = generateInfinityAnnotations({\n        xValues: (MetricsPlotView as any).getXValuesForLineChart(history, xAxis, this.props.intl),\n        yValues: history.map((entry: any) => (typeof entry.value === 'number' ? entry.value : Number(entry.value))),\n        isLogScale: isYAxisLog,\n        stringFormatter: (value) => this.props.intl.formatMessage(value, { metricKey }),\n      });\n    });\n\n    this.#annotationData = annotationData;\n  };\n\n  #annotationData = {};\n\n  getPlotPropsForLineChart = () => {\n    const { metrics, xAxis, showPoint, lineSmoothness, isComparing, deselectedCurves } = this.props;\n\n    const deselectedCurvesSet = new Set(deselectedCurves);\n    const shapes: any = [];\n    const annotations: any = [];\n\n    const data = metrics.map((metric) => {\n      const { metricKey, runDisplayName, history, runUuid } = metric;\n      const historyValues = history.map((entry: any) =>\n        typeof entry.value === 'number' ? entry.value : Number(entry.value),\n      );\n      // For metrics with exactly one non-NaN item, we set `isSingleHistory` to `true` in order\n      // to display the item as a point. For metrics with zero non-NaN items (i.e., empty metrics),\n      // we also set `isSingleHistory` to `true` in order to populate the plot legend with a\n      // point-style entry for each empty metric, although no data will be plotted for empty\n      // metrics\n      const isSingleHistory = historyValues.filter((value: any) => !isNaN(value)).length <= 1;\n\n      const visible = !deselectedCurvesSet.has(Utils.getCurveKey(runUuid, metricKey)) ? true : 'legendonly';\n\n      if (this.#annotationData && metricKey in this.#annotationData && visible === true) {\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        shapes.push(...this.#annotationData[metricKey].shapes);\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        annotations.push(...this.#annotationData[metricKey].annotations);\n      }\n\n      return {\n        name: (MetricsPlotView as any).getLineLegend(metricKey, runDisplayName, isComparing),\n        x: (MetricsPlotView as any).getXValuesForLineChart(history, xAxis),\n        y: (isSingleHistory ? historyValues : EMA(historyValues, lineSmoothness)).map((entry: any) =>\n          !isFinite(entry) ? NaN : entry,\n        ),\n        text: historyValues.map((value: any) => (isNaN(value) ? value : value.toFixed(5))),\n        type: 'scattergl',\n        mode: isSingleHistory ? 'markers' : 'lines+markers',\n        marker: { opacity: isSingleHistory || showPoint ? 1 : 0 },\n        hovertemplate: isSingleHistory || lineSmoothness === 1 ? '%{y}' : 'Value: %{text}<br>Smoothed: %{y}',\n        visible: visible,\n        runId: runUuid,\n        metricName: metricKey,\n      };\n    });\n    const props = { data };\n\n    (props as any).layout = {\n      ...(props as any).layout,\n      ...this.props.extraLayout,\n      shapes,\n      annotations,\n    };\n\n    return props;\n  };\n\n  getPlotPropsForBarChart = () => {\n    /* eslint-disable no-param-reassign */\n    const { runUuids, runDisplayNames, deselectedCurves } = this.props;\n\n    // A reverse lookup of `metricKey: { runUuid: value, metricKey }`\n    const historyByMetricKey = this.props.metrics.reduce((map, metric) => {\n      const { runUuid, metricKey, history } = metric;\n      const value = history[0] && history[0].value;\n      if (!map[metricKey]) {\n        map[metricKey] = { metricKey, [runUuid]: value };\n      } else {\n        map[metricKey][runUuid] = value;\n      }\n      return map;\n    }, {});\n\n    const arrayOfHistorySortedByMetricKey = _.sortBy(Object.values(historyByMetricKey), 'metricKey');\n\n    const sortedMetricKeys = arrayOfHistorySortedByMetricKey.map((history) => (history as any).metricKey);\n    const deselectedCurvesSet = new Set(deselectedCurves);\n    const data = runUuids.map((runUuid, i) => {\n      const visibility = deselectedCurvesSet.has(runUuid) ? { visible: 'legendonly' } : {};\n      return {\n        name: Utils.truncateString(runDisplayNames[i], MAX_RUN_NAME_DISPLAY_LENGTH),\n        x: sortedMetricKeys,\n        y: arrayOfHistorySortedByMetricKey.map((history) => (history as any)[runUuid]),\n        type: 'bar',\n        runId: runUuid,\n        ...visibility,\n      };\n    });\n\n    const layout = { barmode: 'group' };\n    const props = { data, layout };\n    props.layout = {\n      ...props.layout,\n      ...this.props.extraLayout,\n    };\n    return props;\n  };\n\n  componentDidMount() {\n    this.regenerateInfinityAnnotations();\n  }\n\n  componentDidUpdate() {\n    /**\n     * TODO: make sure that annotations are regenereated only when data changes.\n     * In fact, all internal recalculations should be done only then.\n     */\n    this.regenerateInfinityAnnotations();\n  }\n\n  render() {\n    const { onLayoutChange, onClick, onLegendClick, onLegendDoubleClick } = this.props;\n    const plotProps =\n      this.props.chartType === CHART_TYPE_BAR ? this.getPlotPropsForBarChart() : this.getPlotPropsForLineChart();\n\n    return (\n      <div className=\"metrics-plot-view-container\">\n        <LazyPlot\n          {...plotProps}\n          useResizeHandler\n          onRelayout={onLayoutChange}\n          onClick={onClick}\n          onLegendClick={onLegendClick}\n          onLegendDoubleClick={onLegendDoubleClick}\n          style={{ width: '100%', height: '100%' }}\n          layout={_.cloneDeep((plotProps as any).layout)}\n          config={{\n            displaylogo: false,\n            scrollZoom: true,\n            modeBarButtonsToRemove: ['sendDataToCloud'],\n            modeBarButtonsToAdd: [\n              {\n                name: 'Download plot data as CSV',\n                icon: DISK_ICON,\n                click: () => {\n                  const csv = convertMetricsToCsv(this.props.metrics);\n                  const blob = new Blob([csv], { type: 'application/csv;charset=utf-8' });\n                  saveAs(blob, 'metrics.csv');\n                },\n              },\n            ],\n          }}\n        />\n      </div>\n    );\n  }\n}\n\n// @ts-expect-error TS(2769): No overload matches this call.\nexport const MetricsPlotView = injectIntl(MetricsPlotViewImpl);\n","import { Theme } from '@emotion/react';\n\nexport interface ProgressProps {\n  percent: number;\n  format: (percent: number) => string;\n  className?: string;\n}\n\n/**\n * Recreates basic features of antd's <Progress /> component.\n * Temporary solution, waiting for this component to be included in DuBois.\n */\nexport const Progress = (props: ProgressProps) => {\n  return (\n    <div css={styles.wrapper} className={props.className}>\n      <div css={styles.track}>\n        <div css={styles.progressTrack} style={{ width: `${props.percent}%` }} />\n      </div>\n      {props.format(props.percent)}\n    </div>\n  );\n};\n\nconst styles = {\n  wrapper: (theme: Theme) => ({ display: 'flex', alignItems: 'center', gap: theme.spacing.sm }),\n  track: (theme: Theme) => ({\n    backgroundColor: theme.colors.backgroundSecondary,\n    height: theme.spacing.sm,\n    flex: 1,\n    borderRadius: theme.spacing.sm,\n  }),\n  progressTrack: (theme: Theme) => ({\n    backgroundColor: theme.colors.primary,\n    height: theme.spacing.sm,\n    borderRadius: theme.spacing.sm,\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport _ from 'lodash';\nimport { Button, LegacySelect, Switch, LegacyTooltip, Radio, QuestionMarkIcon } from '@databricks/design-system';\nimport { Progress } from '../../common/components/Progress';\nimport { CHART_TYPE_LINE, METRICS_PLOT_POLLING_INTERVAL_MS } from './MetricsPlotPanel';\n\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { LineSmoothSlider } from './LineSmoothSlider';\n\nconst RadioGroup = Radio.Group;\nexport const X_AXIS_WALL = 'wall';\nexport const X_AXIS_STEP = 'step';\nexport const X_AXIS_RELATIVE = 'relative';\nexport const MAX_LINE_SMOOTHNESS = 100;\n\ntype Props = {\n  distinctMetricKeys: string[];\n  selectedMetricKeys: string[];\n  selectedXAxis: string;\n  handleXAxisChange: (...args: any[]) => any;\n  handleShowPointChange: (...args: any[]) => any;\n  handleMetricsSelectChange: (...args: any[]) => any;\n  handleYAxisLogScaleChange: (...args: any[]) => any;\n  handleLineSmoothChange: (value: number) => void;\n  chartType: string;\n  lineSmoothness: number;\n  yAxisLogScale: boolean;\n  showPoint: boolean;\n  intl: {\n    formatMessage: (...args: any[]) => any;\n  };\n  numRuns: number;\n  numCompletedRuns: number;\n  handleDownloadCsv: (...args: any[]) => any;\n  disableSmoothnessControl: boolean;\n};\n\nclass MetricsPlotControlsImpl extends React.Component<Props> {\n  static defaultProps = {\n    disableSmoothnessControl: false,\n  };\n\n  handleMetricsSelectFilterChange = (text: any, option: any) =>\n    option.props.title.toUpperCase().includes(text.toUpperCase());\n\n  getAllMetricKeys = () => {\n    const { distinctMetricKeys } = this.props;\n    return distinctMetricKeys.map((metricKey) => ({\n      title: metricKey,\n      value: metricKey,\n      key: metricKey,\n    }));\n  };\n\n  render() {\n    const { chartType, yAxisLogScale, lineSmoothness, showPoint, numRuns, numCompletedRuns, disableSmoothnessControl } =\n      this.props;\n\n    const lineSmoothnessTooltipText = (\n      <FormattedMessage\n        // eslint-disable-next-line max-len\n        defaultMessage='Make the line between points \"smoother\" based on Exponential Moving Average. Smoothing can be useful for displaying the overall trend when the logging frequency is high.'\n        description=\"Helpful tooltip message to help with line smoothness for the metrics plot\"\n      />\n    );\n    const completedRunsTooltipText = (\n      <FormattedMessage\n        // eslint-disable-next-line max-len\n        defaultMessage=\"MLflow UI automatically fetches metric histories for active runs and updates the metrics plot with a {interval} second interval.\"\n        description=\"Helpful tooltip message to explain the automatic metrics plot update\"\n        values={{ interval: Math.round(METRICS_PLOT_POLLING_INTERVAL_MS / 1000) }}\n      />\n    );\n    return (\n      <div\n        className=\"plot-controls\"\n        css={[styles.controlsWrapper, chartType === CHART_TYPE_LINE && styles.centeredControlsWrapper]}\n      >\n        {chartType === CHART_TYPE_LINE ? (\n          <div>\n            <div className=\"inline-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"Completed Runs\"\n                  description=\"Label for the progress bar to show the number of completed runs\"\n                />{' '}\n                <LegacyTooltip title={completedRunsTooltipText}>\n                  <QuestionMarkIcon />\n                </LegacyTooltip>\n                <Progress\n                  percent={Math.round((100 * numCompletedRuns) / numRuns)}\n                  format={() => `${numCompletedRuns}/${numRuns}`}\n                />\n              </div>\n            </div>\n            <div className=\"inline-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"Points:\"\n                  // eslint-disable-next-line max-len\n                  description=\"Label for the toggle button to toggle to show points or not for the metric experiment run\"\n                />\n              </div>\n              <Switch\n                componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_120\"\n                data-testid=\"show-point-toggle\"\n                defaultChecked={showPoint}\n                onChange={this.props.handleShowPointChange}\n              />\n            </div>\n            {!disableSmoothnessControl && (\n              <div className=\"block-control\">\n                <div className=\"control-label\">\n                  <FormattedMessage\n                    defaultMessage=\"Line Smoothness\"\n                    description=\"Label for the smoothness slider for the graph plot for metrics\"\n                  />{' '}\n                  <LegacyTooltip title={lineSmoothnessTooltipText}>\n                    <QuestionMarkIcon />\n                  </LegacyTooltip>\n                </div>\n                <LineSmoothSlider\n                  data-testid=\"smoothness-toggle\"\n                  min={1}\n                  max={MAX_LINE_SMOOTHNESS}\n                  onChange={this.props.handleLineSmoothChange}\n                  value={lineSmoothness}\n                />\n              </div>\n            )}\n            <div className=\"block-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"X-axis:\"\n                  // eslint-disable-next-line max-len\n                  description=\"Label for the radio button to toggle the control on the X-axis of the metric graph for the experiment\"\n                />\n              </div>\n              <RadioGroup\n                componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_154\"\n                name=\"metrics-plot-x-axis-radio-group\"\n                css={styles.xAxisControls}\n                onChange={this.props.handleXAxisChange}\n                value={this.props.selectedXAxis}\n              >\n                <Radio value={X_AXIS_STEP} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Step\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the step control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n                <Radio value={X_AXIS_WALL} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Time (Wall)\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the time wall control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n                <Radio value={X_AXIS_RELATIVE} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Time (Relative)\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the time relative control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n              </RadioGroup>\n            </div>\n          </div>\n        ) : null}\n        <div className=\"block-control\">\n          <div className=\"control-label\">\n            <FormattedMessage\n              defaultMessage=\"Y-axis:\"\n              // eslint-disable-next-line max-len\n              description=\"Label where the users can choose the metric of the experiment run to be plotted on the Y-axis\"\n            />\n          </div>\n          <LegacySelect\n            placeholder={this.props.intl.formatMessage({\n              defaultMessage: 'Please select metric',\n              description:\n                // eslint-disable-next-line max-len\n                'Placeholder text where one can select metrics from the list of available metrics to render on the graph',\n            })}\n            value={this.props.selectedMetricKeys}\n            onChange={this.props.handleMetricsSelectChange}\n            mode=\"multiple\"\n            css={styles.axisSelector}\n          >\n            {this.getAllMetricKeys().map((key) => (\n              <LegacySelect.Option value={key.value} key={key.key}>\n                {key.title}\n              </LegacySelect.Option>\n            ))}\n          </LegacySelect>\n        </div>\n        <div className=\"inline-control\">\n          <div className=\"control-label\">\n            <FormattedMessage\n              defaultMessage=\"Y-axis Log Scale:\"\n              // eslint-disable-next-line max-len\n              description=\"Label for the radio button to toggle the Log scale on the Y-axis of the metric graph for the experiment\"\n            />\n          </div>\n          <Switch\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_220\"\n            defaultChecked={yAxisLogScale}\n            onChange={this.props.handleYAxisLogScaleChange}\n          />\n        </div>\n        <div className=\"inline-control\">\n          <Button\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_222\"\n            css={{\n              textAlign: 'justify',\n              textAlignLast: 'left',\n            }}\n            onClick={this.props.handleDownloadCsv}\n          >\n            <FormattedMessage\n              defaultMessage=\"Download data\"\n              // eslint-disable-next-line max-len\n              description=\"String for the download csv button to download metrics from this run offline in a CSV format\"\n            />\n            <i className=\"fa fa-download\" />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  xAxisControls: (theme: any) => ({\n    label: { marginTop: theme.spacing.xs, marginBottom: theme.spacing.xs },\n  }),\n  controlsWrapper: { minWidth: '20%', maxWidth: '30%' },\n  axisSelector: { width: '100%' },\n  centeredControlsWrapper: {\n    // Make controls aligned to plotly line chart\n    justifyContent: 'center',\n  },\n};\n\n// @ts-expect-error TS(2769): No overload matches this call.\nexport const MetricsPlotControls = injectIntl(MetricsPlotControlsImpl);\n","import spinner from '../static/mlflow-spinner.png';\nimport { Interpolation, keyframes, Theme } from '@emotion/react';\n\ntype Props = {\n  showImmediately?: boolean;\n};\n\nexport function Spinner({ showImmediately }: Props) {\n  return (\n    <div css={(theme) => styles.spinner(theme, showImmediately)}>\n      <img alt=\"Page loading...\" src={spinner} />\n    </div>\n  );\n}\n\nconst styles = {\n  spinner: (theme: Theme, immediate?: boolean): Interpolation<Theme> => ({\n    width: 100,\n    marginTop: 100,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n\n    img: {\n      position: 'absolute',\n      opacity: 0,\n      top: '50%',\n      left: '50%',\n      width: theme.general.heightBase * 2,\n      height: theme.general.heightBase * 2,\n      marginTop: -theme.general.heightBase,\n      marginLeft: -theme.general.heightBase,\n      animation: `${keyframes`\n          0% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 1;\n            -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n            }\n          `} 3s linear infinite`,\n      animationDelay: immediate ? '0s' : '0.5s',\n    },\n  }),\n};\n"],"names":["HtmlTableView","columns","values","styles","testId","scroll","_jsx","LegacyTable","className","dataSource","size","pagination","style","MetricsSummaryTable","React","render","runUuids","this","props","children","length","renderMetricTables","renderRunTable","runUuid","metricKeys","latestMetrics","minMetrics","maxMetrics","intl","title","formatMessage","id","defaultMessage","dataIndex","sorter","a","b","metricKey","width","dataColumns","getRunValuesByMetric","y","runExperimentIds","runDisplayNames","runName","map","_jsxs","Fragment","getMetricValuesByRun","latestValue","ellipsis","minValue","maxValue","runIdx","runLink","Link","to","Routes","getRunPageRoute","key","rowData","_ref","name","_ref2","_ref3","latestMetric","getMetric","minMetric","maxMetric","getValue","latestFormatted","css","formatMetric","minFormatted","maxFormatted","valuesMap","metric","value","undefined","step","MetricsSummaryTableWithIntl","injectIntl","connect","mapStateToProps","state","ownProps","forEach","runInfo","getRunInfo","experimentId","getLatestMetrics","getMinMetrics","getMaxMetrics","IconButton","icon","onClick","restProps","Button","componentId","type","padding","RunLinksPopover","constructor","args","renderContent","runItems","runId","color","index","marginRight","Utils","renderTitle","handleClose","float","marginLeft","componentDidMount","document","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","visible","x","handleVisibleChange","LegacyPopover","content","placement","onVisibleChange","left","top","position","CHART_TYPE_LINE","CHART_TYPE_BAR","METRICS_PLOT_POLLING_INTERVAL_MS","MAXIMUM_METRIC_DATA_POINTS","convertMetricsToCsv","metrics","header","Object","keys","history","rows","flatMap","concat","row","join","MetricsPlotPanel","super","_isMounted","displayPopover","intervalId","legendClickTimeout","prevLegendClickTime","Math","inf","lastClickedLegendCurveId","MAX_DOUBLE_CLICK_INTERVAL_MS","SINGLE_CLICK_EVENT_DELAY_MS","onFocus","setState","focused","onBlur","clearEventListeners","window","clearInterval","allRunsCompleted","completedRunUuids","isHangingRunUuid","activeRunUuid","latestMetricsByRunUuid","timestamps","timestamp","latestTimestamp","max","Date","getTime","getActiveRunUuids","_","filter","shouldPoll","updateUrlState","updatedState","location","navigate","experimentIds","JSON","parse","qs","search","newState","getUrlState","selectedXAxis","selectedMetricKeys","showPoint","yAxisLogScale","lineSmoothness","layout","deselectedCurves","lastLinearYAxisRange","getMetricPageRoute","replace","getNumTotalMetrics","metricsWithRunInfoAndHistory","reduce","loadMetricHistory","logErrorAndNotifyUser","Promise","resolve","loading","promises","hasOwnProperty","async","requestIds","getUUID","push","nextPageToken","getMetricHistoryApi","next_page_token","success","uid","all","then","results","every","loadRuns","getRunApi","getMetrics","selectedMetricsSet","Set","m","has","isStep","X_AXIS_STEP","sort","compareByStepAndTimestamp","compareByTimestamp","handleYAxisLogScaleChange","newLayout","newAxisType","yaxis","range","autorange","exponentformat","oldYRange","log","pow","handleXAxisChange","e","axisType","X_AXIS_WALL","X_AXIS_RELATIVE","target","xaxis","handleLayoutChange","newXRange0","newXRange1","newYRange0","newYRange1","xAxisAutorange","yAxisAutorange","yAxisShowSpikes","xAxisShowSpikes","restFields","mergedLayout","newXAxis","showspikes","newYAxis","handleDownloadCsv","csv","blob","Blob","saveAs","handleLegendClick","curveNumber","data","currentTime","now","handleLegendDoubleClick","curveKey","getCurveKey","setTimeout","existingDeselectedCurves","delete","add","Array","from","clearTimeout","newDeselectedCurves","elem","curvePair","handleMetricsSelectChange","existingMetricKeys","newMetricKeys","k","includes","prevState","historyRequestIds","handleShowPointChange","handleLineSmoothChange","handleKeyDownOnPopover","popoverVisible","updatePopover","popoverX","popoverY","points","event","clientX","clientY","samePointClicked","point","fullData","marker","popoverRunItems","hasMultipleExperiments","setInterval","activeRunUuids","getMetricPlotStateFromUrl","predictChartType","isComparing","params","runs","getAxisType","plotDataElem","metricName","distinctMetricKeys","chartType","MetricsPlotControls","numRuns","numCompletedRuns","disableSmoothnessControl","containsInfinities","RequestStateWrapper","shouldOptimisticallyRender","Spinner","_css","visibility","MetricsPlotView","xAxis","extraLayout","onLayoutChange","onLegendClick","onLegendDoubleClick","defaultProps","mapDispatchToProps","withRouterNext","status","metricsByRunUuid","entities","runDisplayName","getRunDisplayName","metricsHistory","entry","normalizeMetricsHistoryEntry","some","isNaN","isFinite","getClosestValue","marks","defaultValue","prev","curr","abs","Number","getNextValue","currentValue","direction","mark","min","LineSmoothSlider","onChange","disabled","onAfterChange","theme","useDesignSystemTheme","shouldUseMarks","isEmpty","shouldDisplayMarks","temporaryValue","setTemporaryValue","useState","display","height","general","heightSm","gap","spacing","md","alignItems","Slider","Root","flex","zIndex","onValueCommit","newValue","onKeyDown","preventDefault","nextValue","onValueChange","inset","markPosition","right","bottom","marginTop","pointerEvents","borderRadius","backgroundColor","colors","actionPrimaryBackgroundDefault","opacity","Track","Range","Thumb","Input","isUndefined","clamp","nativeEvent","InputEvent","SectionErrorBoundary","error","componentDidCatch","errorInfo","console","renderErrorMessage","showServerError","message","classNames","wrapper","href","getSupportPageUrl","Component","shouldRender","shouldRenderError","getErrorRequests","requests","requestIdsWith404sToIgnore","r","getErrorCode","ErrorCodes","RESOURCE_DOES_NOT_EXIST","getDerivedStateFromProps","nextProps","active","requestErrors","getRenderedContent","customSpinner","permissionDeniedView","suppressErrorThrow","customRequestErrorHandlerFn","permissionDeniedErrors","failedRequest","PERMISSION_DENIED","triggerError","Error","getApis","Plot","LazyPlot","fallback","LegacySkeleton","EMA","mArray","smoothingWeight","v","smoothness","MAX_LINE_SMOOTHNESS","smoothedArray","biasedElement","i","debiasedElement","DISK_ICON","path","transform","_annotationData","_classPrivateFieldLooseKey","MetricsPlotViewImpl","regenerateInfinityAnnotations","_extraLayout$yaxis","isYAxisLog","annotationData","generateInfinityAnnotations","xValues","getXValuesForLineChart","yValues","isLogScale","stringFormatter","_classPrivateFieldLooseBase","defineProperty","writable","getPlotPropsForLineChart","deselectedCurvesSet","shapes","annotations","historyValues","isSingleHistory","getLineLegend","NaN","text","toFixed","mode","hovertemplate","getPlotPropsForBarChart","historyByMetricKey","arrayOfHistorySortedByMetricKey","sortedMetricKeys","truncateString","barmode","xAxisType","minTimestamp","componentDidUpdate","plotProps","useResizeHandler","onRelayout","config","displaylogo","scrollZoom","modeBarButtonsToRemove","modeBarButtonsToAdd","click","legend","Progress","track","progressTrack","percent","format","sm","backgroundSecondary","primary","RadioGroup","Radio","Group","MetricsPlotControlsImpl","handleMetricsSelectFilterChange","option","toUpperCase","getAllMetricKeys","lineSmoothnessTooltipText","FormattedMessage","completedRunsTooltipText","interval","round","controlsWrapper","centeredControlsWrapper","LegacyTooltip","QuestionMarkIcon","Switch","defaultChecked","xAxisControls","LegacySelect","placeholder","axisSelector","Option","label","xs","marginBottom","minWidth","maxWidth","justifyContent","showImmediately","spinner","alt","src","immediate","img","heightBase","animation","keyframes","animationDelay"],"sourceRoot":""}