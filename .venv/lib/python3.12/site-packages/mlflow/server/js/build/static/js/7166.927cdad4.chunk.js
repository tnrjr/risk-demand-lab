"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7166],{26626:function(e,n,i){i.d(n,{b:function(){return r}});var t=i(74823);const r=e=>{if(e)return e instanceof t.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.toString())).join(", "):"message"in e?e.message:e.toString()}},55045:function(e,n,i){i.r(n),i.d(n,{default:function(){return Q}});var t=i(89555),r=i(31014),a=i(59403),s=i(23823),o=i(68048),d=i(39416),l=i(4877),c=i.n(l),m=i(48624),u=i(30214),g=i(88443),p=i(58481),f=i(53660),h=i(91144),v=i(25866),b=i(50111);const x=({experimentId:e="",activeTab:n})=>{const{theme:i}=(0,a.u)(),r=n=>[p.Ay.getExperimentPageRoute(e),[f.b,n].join("=")].join("?"),s=(0,b.Y)(g.A,{id:"SCqKp8",defaultMessage:"Evaluation"}),d=(0,b.FD)("span",{css:(0,t.AH)({display:"inline-flex",gap:i.spacing.xs,alignItems:"center"},""),children:[(0,b.Y)(a.T.Text,{disabled:!0,bold:!0,children:s}),(0,b.Y)(o.InfoPopover,{popoverProps:{maxWidth:350},children:(0,b.Y)(g.A,{id:"sFPlmE",defaultMessage:'Accessing artifact evaluation by "Evaluation" tab is being discontinued. In order to use this feature, use <link>"Artifacts evaluation" mode in Runs tab</link> instead.',values:{link:e=>(0,b.Y)(m.N_,{to:r("ARTIFACT"),children:e})}})})]}),l=(0,h.GV)()?(0,b.Y)(b.FK,{children:d}):(0,b.FD)(m.N_,{to:r("ARTIFACT"),children:[s,(0,b.Y)(u.W,{})]});return(0,b.Y)(o.NavigationMenu.Root,{children:(0,b.FD)(o.NavigationMenu.List,{css:(0,t.AH)({marginBottom:0,li:{lineHeight:i.typography.lineHeightBase,marginRight:i.spacing.lg,paddingTop:1.5*i.spacing.xs,paddingBottom:1.5*i.spacing.xs,"&>a":{padding:0},alignItems:"center"},"li+li":{marginLeft:.5*i.spacing.xs}},""),children:[(0,b.Y)(o.NavigationMenu.Item,{children:(0,b.Y)(m.N_,{to:r("TABLE"),children:(0,b.Y)(g.A,{id:"qpFaad",defaultMessage:"Runs"})})},"RUNS"),(0,b.Y)(o.NavigationMenu.Item,{active:n===v.fM.Models,children:(0,b.FD)(m.N_,{to:p.Ay.getExperimentPageTabRoute(e,v.fM.Models),children:[(0,b.Y)(g.A,{id:"b8rdDM",defaultMessage:"Models"}),(0,b.Y)(u.W,{})]})},"MODELS"),(0,b.Y)(o.NavigationMenu.Item,{children:l},"ARTIFACT"),(0,b.Y)(o.NavigationMenu.Item,{children:(0,b.Y)(m.N_,{to:r("TRACES"),children:(0,b.Y)(g.A,{id:"AGQOPV",defaultMessage:"Traces"})})},"TRACES")]})})};var Y=i(72314),E=i(10811),T=i(26809),M=i(7204),A=i(9133);var I=i(42809),S=i(62702),N=i(56928),y=i(26626),F=i(22647);const R=({experiment:e,loading:n,onNoteUpdated:i,error:s,experimentKindSelector:d,inferredExperimentKind:l})=>{var c,m;const{theme:u}=(0,a.u)(),[p,f]=(0,r.useState)(!0),[v,x]=(0,r.useState)(!1),Y=(0,r.useMemo)((()=>{const n=e;return n?{...n,creationTime:Number(null===n||void 0===n?void 0:n.creationTime),lastUpdateTime:Number(null===n||void 0===n?void 0:n.lastUpdateTime)}:null}),[e]),E=null===Y||void 0===Y||null===(c=Y.tags)||void 0===c||null===(m=c.find((e=>e.key===N.e)))||void 0===m?void 0:m.value,T=(0,y.b)(s);return n?(0,h.w7)()?(0,b.Y)(F.l,{}):(0,b.Y)(I.J,{}):T?(0,b.Y)("div",{css:(0,t.AH)({height:u.general.heightBase,marginTop:u.spacing.sm,marginBottom:u.spacing.md},""),children:(0,b.Y)(o.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,b.Y)(g.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:T}}),closable:!1})}):Y?(0,b.FD)(b.FK,{children:[(0,h.w7)()?(0,b.Y)(F.i,{experiment:Y,inferredExperimentKind:l,setEditing:x,experimentKindSelector:d}):(0,b.Y)(I.i,{experiment:Y,showAddDescriptionButton:p,setEditing:x}),(0,b.Y)(S.A,{experiment:Y,setShowAddDescriptionButton:f,editing:v,setEditing:x,onNoteUpdated:i,defaultValue:E})]}):null};var k=i(81313),L=i(62230),P=i(11039),D=i(83667),K=i(7355),B=i(15543);const w=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,b.FD)(b.FK,{children:[(0,b.Y)(s.S,{size:"sm",shrinks:!1}),(0,b.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]})};var _={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const H=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,b.Y)(o.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:n,css:_,children:(0,b.FD)(o.Tabs.List,{children:[(0,b.Y)(o.Tabs.Trigger,{value:v.fM.LabelingSessions,children:(0,b.Y)(m.N_,{css:(0,t.AH)({color:i.colors.textPrimary},""),to:p.Ay.getExperimentPageTabRoute(e,v.fM.LabelingSessions),children:(0,b.Y)(g.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,b.Y)(o.Tabs.Trigger,{value:v.fM.LabelingSchemas,children:(0,b.Y)(m.N_,{css:(0,t.AH)({color:i.colors.textPrimary},""),to:p.Ay.getExperimentPageTabRoute(e,v.fM.LabelingSchemas),children:(0,b.Y)(g.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var C=i(24011),G=i(80847);const V=r.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(4175),i.e(8846),i.e(7262),i.e(7021),i.e(2025),i.e(8238),i.e(7836),i.e(1107),i.e(3885),i.e(8521),i.e(7681),i.e(939),i.e(571),i.e(5194),i.e(4651),i.e(505)]).then(i.bind(i,21339)))),z=r.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(4175),i.e(7262),i.e(2025),i.e(8238),i.e(7836),i.e(3885),i.e(939),i.e(571),i.e(5194),i.e(4765)]).then(i.bind(i,90355)))),O=r.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(8846),i.e(7262),i.e(7021),i.e(1570),i.e(8238),i.e(1107),i.e(8521),i.e(7681),i.e(2149),i.e(47),i.e(4588),i.e(8655)]).then(i.bind(i,54588)))),U=()=>{const{experimentId:e,tabName:n}=(0,m.g)(),{theme:i}=(0,a.u)(),l=(0,m.Zp)(),{tabName:u}=(0,C.H)(),g=null!==u&&void 0!==u?u:(0,k.SK)(v.fM,n,v.fM.Models);c()(e,"Experiment ID must be defined"),(0,h.BV)()||c()(n,"Tab name must be defined");const{data:f,loading:I,refetch:S,apiError:N,apolloError:y}=(0,Y.L)({experimentId:e}),{mutate:F,isLoading:_}=(0,L.G)(S),U=null!==N&&void 0!==N?N:y;if((e=>{const n=(0,E.wA)();(0,r.useEffect)((()=>{const i=(0,A.get)(e,"experimentId");e&&i&&n(((n,t)=>{var r,a;Boolean(null===(r=t().entities)||void 0===r||null===(a=r.experimentsById)||void 0===a?void 0:a[i])||n({type:(0,M.ec)(T.gT),payload:{experiment:e}})}))}),[e,n])})(f),U instanceof d.ZR)throw U;const Q=f&&"tags"in f?null===f||void 0===f?void 0:f.tags:[],W=(0,D.BH)(Q),{inferredExperimentKind:j,inferredExperimentPageTab:Z,isLoading:$,dismiss:q}=(0,K.F)({experimentId:e,isLoadingExperiment:I,enabled:(0,h.XQ)()&&!W,experimentTags:Q,updateExperimentKind:F}),{pathname:X}=(0,m.zy)(),J=Boolean((0,m.B6)(p.AY.experimentPage,X));return(0,G.B)({enabled:(0,h.BV)()&&J,experimentId:e}),(0,r.useEffect)((()=>{Z&&l(p.Ay.getExperimentPageTabRoute(e,Z),{replace:!0})}),[e,l,Z]),j===v.Gk.NO_INFERRED_TYPE&&(0,h.XQ)()?(0,b.Y)(B.T,{onConfirm:n=>{F({experimentId:e,kind:n},{onSettled:()=>{q(),(0,h.BV)()&&n===v.Gk.GENAI_DEVELOPMENT&&l(p.Ay.getExperimentPageTabRoute(e,v.fM.Traces),{replace:!0})}})},onDismiss:q}):(0,b.FD)(b.FK,{children:[(0,b.Y)(R,{experiment:f,loading:I||$,onNoteUpdated:S,error:U,inferredExperimentKind:j,experimentKindSelector:(0,b.Y)(P.f,{value:W,inferredExperimentKind:j,onChange:n=>F({experimentId:e,kind:n}),isUpdating:_||$,readOnly:!1},j)}),(0,h.w7)()?g===v.fM.EvaluationRuns||g===v.fM.Datasets?(0,b.Y)(w,{experimentId:e,activeTab:g}):g===v.fM.LabelingSessions||g===v.fM.LabelingSchemas?(0,b.Y)(H,{experimentId:e,activeTab:g}):(0,b.FD)(b.FK,{children:[(0,b.Y)(s.S,{size:"sm",shrinks:!1}),(0,b.Y)("div",{css:(0,t.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]}):(0,b.Y)(b.FK,{children:(0,b.Y)(x,{experimentId:e,activeTab:g})}),(0,b.Y)(s.S,{size:"sm",shrinks:!1}),(0,b.Y)(r.Suspense,{fallback:(0,b.Y)(b.FK,{children:[...Array(8).keys()].map((e=>(0,b.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))}),children:(0,h.BV)()?(0,b.Y)(m.sv,{}):(0,b.FD)(b.FK,{children:[g===v.fM.Traces&&(0,b.Y)(z,{}),g===v.fM.Runs&&(0,b.Y)(V,{}),g===v.fM.Models&&(0,b.Y)(O,{})]})})]})};var Q=()=>{const{theme:e}=(0,a.u)();return(0,b.Y)("div",{css:(0,t.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,height:"100%"},""),children:(0,b.Y)(U,{})})}},80847:function(e,n,i){i.d(n,{B:function(){return c}});var t=i(31014),r=i(48624),a=i(58481),s=i(25866),o=i(72314),d=i(83667),l=i(81313);const c=({enabled:e,experimentId:n})=>{const i=(0,r.Zp)(),{data:c,loading:m}=(0,o.L)({experimentId:n,options:{skip:!e}}),u=(0,t.useMemo)((()=>{if(m||!c)return null;const e=c&&"tags"in c?null===c||void 0===c?void 0:c.tags:[];if(c){const n=(0,d.BH)(e);return(0,l.SK)(s.Gk,n,s.Gk.NO_INFERRED_TYPE)}return null}),[c,m]);return(0,t.useEffect)((()=>{if(!e||!u)return;let t=s.fM.Runs;u===s.Gk.GENAI_DEVELOPMENT&&(t=s.fM.Traces),i(a.Ay.getExperimentPageTabRoute(n,t),{replace:!0})}),[i,n,e,u]),{isEnabled:e,isLoading:e&&m}}}}]);
//# sourceMappingURL=7166.927cdad4.chunk.js.map