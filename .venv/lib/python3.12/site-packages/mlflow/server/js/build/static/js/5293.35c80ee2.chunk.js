"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[5293,8655],{688:function(e,n,t){t.d(n,{f:function(){return v}});var r=t(89555),o=t(59403),i=t(68048),a=t(23823),s=t(36118),l=t(31014),d=t(20193),u=t(88464),c=t(88443),m=t(50111);var g={name:"1v0pok0",styles:"min-width:300px"},p={name:"11jf4ye",styles:"display:flex;gap:8px"},h={name:"bsla3r",styles:"max-height:300px;overflow:auto"};const v=({globalLineChartConfig:e,metricKeyList:n,updateUIState:t})=>{const{theme:v}=(0,o.u)(),f=(0,u.A)(),{lineSmoothness:y,selectedXAxisMetricKey:Y,xAxisKey:x}=e||{},M=(0,l.useCallback)((e=>t((n=>({...n,globalLineChartConfig:{...n.globalLineChartConfig,...e}})))),[t]),I=x===s.fj.METRIC,b=f.formatMessage({id:"Kkr/RI",defaultMessage:"Configure charts"});return(0,m.FD)(i.DropdownMenu.Root,{modal:!1,children:[(0,m.Y)(a.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_44",content:b,children:(0,m.Y)(i.DropdownMenu.Trigger,{asChild:!0,children:(0,m.Y)(o.B,{componentId:"mlflow.charts.controls.global_chart_setup_dropdown",icon:(0,m.Y)(i.GearIcon,{}),"aria-label":b})})}),(0,m.FD)(i.DropdownMenu.Content,{align:"end",css:g,children:[(0,m.FD)(i.DropdownMenu.Group,{role:"region","aria-label":f.formatMessage({id:"Jp79WH",defaultMessage:"X-axis"}),children:[(0,m.Y)(i.DropdownMenu.Label,{css:p,children:(0,m.Y)(c.A,{id:"Jp79WH",defaultMessage:"X-axis"})}),(0,m.FD)(i.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_68",checked:x===s.fj.STEP,onClick:()=>M({xAxisKey:s.fj.STEP}),children:[(0,m.Y)(i.DropdownMenu.ItemIndicator,{}),(0,m.Y)(c.A,{id:"53b+wP",defaultMessage:"Step"})]}),(0,m.FD)(i.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_78",checked:x===s.fj.TIME,onClick:()=>M({xAxisKey:s.fj.TIME}),children:[(0,m.Y)(i.DropdownMenu.ItemIndicator,{}),(0,m.Y)(c.A,{id:"/QYbzP",defaultMessage:"Time (wall)"})]}),(0,m.FD)(i.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_88",checked:x===s.fj.TIME_RELATIVE,onClick:()=>M({xAxisKey:s.fj.TIME_RELATIVE}),children:[(0,m.Y)(i.DropdownMenu.ItemIndicator,{}),(0,m.Y)(c.A,{id:"sIC5K3",defaultMessage:"Time (relative)"})]}),(0,m.FD)(i.DropdownMenu.Sub,{children:[(0,m.FD)(i.DropdownMenu.SubTrigger,{css:(0,r.AH)({paddingLeft:v.spacing.xs+v.spacing.sm},""),children:[(0,m.Y)(i.DropdownMenu.IconWrapper,{children:(0,m.Y)(a.C,{css:(0,r.AH)({visibility:I?"visible":"hidden"},"")})}),(0,m.Y)(c.A,{id:"yCncIr",defaultMessage:"Metric"})]}),(0,m.Y)(i.DropdownMenu.SubContent,{css:h,children:n.map((e=>(0,m.FD)(i.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsglobalchartsettingsdropdown.tsx_118",checked:Y===e&&I,onClick:()=>M({xAxisKey:s.fj.METRIC,selectedXAxisMetricKey:e}),children:[(0,m.Y)(i.DropdownMenu.ItemIndicator,{}),e]},e)))})]})]}),(0,m.FD)(i.DropdownMenu.Group,{role:"region","aria-label":f.formatMessage({id:"qkRBUr",defaultMessage:"Line smoothing"}),children:[(0,m.Y)(i.DropdownMenu.Label,{children:(0,m.Y)(c.A,{id:"qkRBUr",defaultMessage:"Line smoothing"})}),(0,m.Y)("div",{css:(0,r.AH)({padding:v.spacing.sm},""),children:(0,m.Y)(d.o,{min:0,max:100,onChange:e=>M({lineSmoothness:e}),value:y||0})})]})]})]})}},4972:function(e,n,t){t.d(n,{$:function(){return o}});var r=t(31014);const o=()=>{const[e,n]=(0,r.useState)("visible"===document.visibilityState);return(0,r.useEffect)((()=>{document.addEventListener("visibilitychange",(e=>{n("visible"===document.visibilityState)}))}),[]),e}},23476:function(e,n,t){t.r(n),t.d(n,{RunPage:function(){return gt},default:function(){return pt}});var r=t(89555),o=t(68048),i=t(59403),a=t(10811),s=t(4877),l=t.n(s),d=t(31014),u=t(48588),c=t(48624),m=t(76010),g=t(25866),p=t(53677),h=t(5643),v=t(94026),f=t(50111);const y=({runTags:e,experimentId:n,runOutputs:t,artifactUri:o,runUuid:a})=>{const{theme:s}=(0,i.u)(),l=(0,v.Ub)(`(min-width: ${s.responsive.breakpoints.sm}px)`);return(0,f.Y)("div",{css:(0,r.AH)({flex:1,overflow:"hidden",display:"flex",paddingBottom:s.spacing.md,position:"relative"},""),children:(0,f.Y)(h.Ay,{runUuid:a,runTags:e,runOutputs:t,useAutoHeight:l,artifactRootUri:o,experimentId:n})})};var Y=t(88443),x=t(79085),M=t(58481);const I=()=>{const{"*":e}=(0,c.g)();return"model-metrics"===e?g.N3.MODEL_METRIC_CHARTS:"system-metrics"===e?g.N3.SYSTEM_METRIC_CHARTS:"traces"===e?g.N3.TRACES:null!==e&&void 0!==e&&e.match(/^(artifactPath|artifacts)/)?g.N3.ARTIFACTS:g.N3.OVERVIEW},b=[g.N3.ARTIFACTS,g.N3.EVALUATIONS],_=()=>{const{experimentId:e,runUuid:n}=(0,c.g)(),t=(0,c.Zp)(),{theme:r}=(0,i.u)(),a=I(),[s,l]=(0,d.useState)(b.includes(a));return(0,f.FD)(o.LegacyTabs,{activeKey:a,onChange:r=>{e&&n&&a!==r&&(l(b.includes(r)),r!==g.N3.OVERVIEW?t(M.Ay.getRunPageTabRoute(e,n,r)):t(M.Ay.getRunPageRoute(e,n)))},tabBarStyle:{margin:s&&"0px"},children:[(0,f.Y)(o.LegacyTabs.TabPane,{tab:(0,f.Y)(Y.A,{id:"kA+QJr",defaultMessage:"Overview"})},g.N3.OVERVIEW),(0,f.Y)(o.LegacyTabs.TabPane,{tab:(0,f.Y)(Y.A,{id:"j25Ttg",defaultMessage:"Model metrics"})},g.N3.MODEL_METRIC_CHARTS),(0,f.Y)(o.LegacyTabs.TabPane,{tab:(0,f.Y)(Y.A,{id:"hFlaPP",defaultMessage:"System metrics"})},g.N3.SYSTEM_METRIC_CHARTS),(0,f.Y)(o.LegacyTabs.TabPane,{tab:(0,f.Y)(Y.A,{id:"s8a93+",defaultMessage:"Traces"})},g.N3.TRACES),(0,f.Y)(o.LegacyTabs.TabPane,{tab:(0,f.Y)(Y.A,{id:"vPqFJE",defaultMessage:"Artifacts"})},g.N3.ARTIFACTS)]})};var T=t(9133),S=t(85466),A=t(81866),C=(t(69869),t(21317));var w={name:"s5xdrg",styles:"display:flex;align-items:center"},D={name:"2ecpu6",styles:"margin-left:8px;margin-right:4px"};function R({models:e,onRegisterClick:n,experimentId:t,runUuid:a}){const{theme:s}=(0,i.u)(),l=(e,l)=>(0,f.FD)(o.DropdownMenu.Group,{children:[(0,f.Y)(o.DropdownMenu.Label,{children:e}),l.map((e=>{const l=(0,T.first)(e.registeredModelVersionSummaries);if(!l)return(0,f.FD)(o.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_50",onClick:()=>n(e),children:[(0,f.Y)("div",{css:(0,r.AH)({marginRight:s.spacing.md},""),children:(0,T.last)(e.path.split("/"))}),(0,f.Y)(o.DropdownMenu.HintColumn,{children:(0,f.Y)(c.N_,{target:"_blank",to:M.Ay.getRunPageTabRoute(t,a,"artifacts/"+e.path),children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_58",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,f.Y)(i.av,{}),children:(0,f.Y)(Y.A,{id:"NqEELO",defaultMessage:"View model"})})})})]},e.absolutePath);const{status:d,displayedName:u,version:m,link:g}=l;return(0,f.Y)(c.N_,{target:"_blank",to:g,children:(0,f.FD)(o.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_80",children:[(0,f.Y)(o.DropdownMenu.IconWrapper,{css:w,children:"READY"===d?(0,f.Y)(C.h,{}):d?A.UA[d]:null}),(0,f.FD)("span",{css:(0,r.AH)({marginRight:s.spacing.md},""),children:[u,(0,f.FD)(o.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_90",css:D,children:["v",m]})]}),(0,f.Y)(o.DropdownMenu.HintColumn,{children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_89",type:"link",size:"small",onClick:e=>{e.stopPropagation()},endIcon:(0,f.Y)(i.av,{}),children:(0,f.Y)(Y.A,{id:"T1sd79",defaultMessage:"Go to model"})})})]})},e.absolutePath)}))]}),d=e.filter((e=>e.registeredModelVersionSummaries.length>0)),u=e.filter((e=>!e.registeredModelVersionSummaries.length));return(0,f.FD)(f.FK,{children:[u.length?l("Unregistered models",u):null,u.length&&d.length?(0,f.Y)(o.DropdownMenu.Separator,{}):null,d.length?l("Registered models",d):null]})}const E=({runUuid:e,experimentId:n,runTags:t,artifactRootUri:a,registeredModelVersionSummaries:s})=>{const{theme:l}=(0,i.u)(),u=(0,d.useMemo)((()=>t?m.A.getLoggedModelsFromTags(t).map((({artifactPath:e})=>e)):[]),[t]),g=(0,d.useMemo)((()=>(0,T.orderBy)(u.map((e=>({path:e,absolutePath:`${a}/${e}`,registeredModelVersionSummaries:(null===s||void 0===s?void 0:s.filter((({source:n})=>n===`${a}/${e}`)))||[]}))),(e=>{var n;return parseInt((null===(n=e.registeredModelVersionSummaries[0])||void 0===n?void 0:n.version)||"0",10)}),"desc")),[u,s,a]),[p,h]=(0,d.useState)(null);if(g.length>1){const t=g.filter((e=>e.registeredModelVersionSummaries.length>0));return(0,f.FD)(f.FK,{children:[p&&(0,f.Y)(S.vR,{runUuid:e,modelPath:p.absolutePath,modelRelativePath:p.path,disabled:!1,showButton:!1,modalVisible:!0,onCloseModal:()=>h(null)}),(0,f.FD)(o.DropdownMenu.Root,{modal:!1,children:[(0,f.Y)(o.LegacyTooltip,{placement:"bottom",title:(0,f.Y)(Y.A,{id:"qE/ZB7",defaultMessage:"{registeredCount}/{loggedCount} logged models are registered",values:{registeredCount:t.length,loggedCount:g.length}}),children:(0,f.Y)(o.DropdownMenu.Trigger,{asChild:!0,children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_195",type:"primary",endIcon:(0,f.Y)(o.ChevronDownIcon,{}),children:(0,f.Y)(Y.A,{id:"WGN2f3",defaultMessage:"Register model"})})})}),(0,f.Y)(o.DropdownMenu.Content,{align:"end",children:(0,f.Y)(R,{models:g,onRegisterClick:h,experimentId:n,runUuid:e})})]})]})}const v=(0,T.first)(g);if(!v)return null;const y=(0,T.first)(v.registeredModelVersionSummaries);return y?(0,f.Y)(c.N_,{to:y.link,target:"_blank",css:(0,r.AH)({marginLeft:l.spacing.sm},""),children:(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewheaderregistermodelbutton.tsx_231",endIcon:(0,f.Y)(i.av,{}),type:"link",children:"Model registered"})}):(0,f.Y)(S.vR,{disabled:!1,runUuid:e,modelPath:v.absolutePath,modelRelativePath:v.path,showButton:!0,buttonType:"primary"})};var k=t(91144);var U={name:"ozd7xs",styles:"flex-shrink:0"};const F=({hasComparedExperimentsBefore:e,comparedExperimentIds:n=[],experiment:t,runDisplayName:r,runTags:o,runParams:i,runUuid:a,handleRenameRunClick:s,handleDeleteRunClick:l,artifactRootUri:d,registeredModelVersionSummaries:u,isLoading:m})=>{const p=[function(){var r;return e&&n?(0,f.Y)(c.N_,{to:M.Ay.getCompareExperimentsPageRoute(n),children:(0,f.Y)(Y.A,{id:"LLm5Bo",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:n.length}})}):(0,f.Y)(c.N_,{to:M.Ay.getExperimentPageRoute(null!==(r=null===t||void 0===t?void 0:t.experimentId)&&void 0!==r?r:""),"data-testid":"experiment-runs-link",children:t.name})}()];(0,k.w7)()&&t.experimentId&&p.push((0,f.Y)(c.N_,{to:M.Ay.getExperimentPageTabRoute(t.experimentId,g.fM.Runs),"data-testid":"experiment-observatory-link-runs",children:(0,f.Y)(Y.A,{id:"ozPVhc",defaultMessage:"Runs"})}));return(0,f.FD)("div",{css:U,children:[(0,f.FD)(x.z,{title:(0,f.Y)("span",{"data-testid":"runs-header",children:r}),breadcrumbs:p,children:[(0,f.Y)(x.o,{menu:[{id:"overflow-rename-button",onClick:s,itemName:(0,f.Y)(Y.A,{id:"fv7vQf",defaultMessage:"Rename"})},...l?[{id:"overflow-delete-button",onClick:l,itemName:(0,f.Y)(Y.A,{id:"7WkP1e",defaultMessage:"Delete"})}]:[]]}),(()=>{var e;return(0,f.Y)(E,{runUuid:a,experimentId:null!==(e=null===t||void 0===t?void 0:t.experimentId)&&void 0!==e?e:"",runTags:o,artifactRootUri:d,registeredModelVersionSummaries:u})})()]}),(0,f.Y)(_,{})]})};var L=t(88464),N=t(23823),P=t(21616),H=t(76758);const B=({status:e})=>{const{theme:n}=(0,i.u)();return(0,f.FD)(o.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewstatusbox.tsx_81",css:(0,r.AH)({backgroundColor:"FINISHED"===e?n.isDarkMode?n.colors.green800:n.colors.green100:"KILLED"===e||"FAILED"===e?n.isDarkMode?n.colors.red800:n.colors.red100:"SCHEDULED"===e||"RUNNING"===e?n.isDarkMode?n.colors.blue800:n.colors.blue100:void 0},""),children:[e&&(0,f.Y)(H.F,{status:e})," ",(0,f.Y)(i.T.Text,{css:(0,r.AH)({marginLeft:n.spacing.sm},""),children:"FINISHED"===e?(0,f.Y)(i.T.Text,{color:"success",children:(0,f.Y)(Y.A,{id:"ujm55z",defaultMessage:"Finished"})}):"KILLED"===e?(0,f.Y)(i.T.Text,{color:"error",children:(0,f.Y)(Y.A,{id:"AupQl+",defaultMessage:"Killed"})}):"FAILED"===e?(0,f.Y)(i.T.Text,{color:"error",children:(0,f.Y)(Y.A,{id:"AM8DuO",defaultMessage:"Failed"})}):"RUNNING"===e?(0,f.Y)(i.T.Text,{color:"info",children:(0,f.Y)(Y.A,{id:"On3g1B",defaultMessage:"Running"})}):"SCHEDULED"===e?(0,f.Y)(i.T.Text,{color:"info",children:(0,f.Y)(Y.A,{id:"X8OaXU",defaultMessage:"Scheduled"})}):e})]})},V=({runInfo:e,tags:n})=>{var t;const r=m.A.getUser(e,n);return(0,f.Y)(c.N_,{to:M.Ay.searchRunsByUser(null!==(t=null===e||void 0===e?void 0:e.experimentId)&&void 0!==t?t:"",r),children:r})};var O=t(68109),z=t(70169),K=t(69526),$=t(32039),j=t(70618),W=t(9856),G=t(3288);const{systemMetricsLabel:q,modelMetricsLabel:Z}=(0,K.YK)({systemMetricsLabel:{id:"aFMLIO",defaultMessage:"System metrics"},modelMetricsLabel:{id:"NiSPrL",defaultMessage:"Model metrics"}}),Q=e=>({key:n})=>n.toLowerCase().includes(e.toLowerCase()),X=({metricsList:e,runInfo:n,header:t,table:a})=>{var s,l;const{theme:d}=(0,i.u)(),[{column:u},...m]=a.getLeafHeaders(),p=null===(s=m.find((e=>"value"===e.id)))||void 0===s?void 0:s.column,h=e.some((({loggedModels:e})=>!(0,T.isEmpty)(e))),v=null===(l=m.find((e=>"models"===e.id)))||void 0===l?void 0:l.column;return e.length?(0,f.FD)(f.FK,{children:[t&&(0,f.Y)(o.TableRow,{children:(0,f.Y)(o.TableCell,{css:(0,r.AH)({flex:1,backgroundColor:d.colors.backgroundSecondary},""),children:(0,f.FD)(i.T.Text,{bold:!0,children:[t," (",e.length,")"]})})}),e.map((({key:e,value:t,loggedModels:i})=>{var a,s;return(0,f.FD)(o.TableRow,{children:[(0,f.Y)(o.TableCell,{style:{flex:u.getCanResize()?u.getSize()/100:void 0},children:(0,f.Y)(c.N_,{to:M.Ay.getRunPageTabRoute(null!==(a=n.experimentId)&&void 0!==a?a:"",null!==(s=n.runUuid)&&void 0!==s?s:"",g.N3.MODEL_METRIC_CHARTS),children:e})}),(0,f.Y)(o.TableCell,{css:(0,r.AH)({flex:null!==p&&void 0!==p&&p.getCanResize()?p.getSize()/100:void 0},""),children:t.toString()}),h&&(0,f.Y)(o.TableCell,{css:(0,r.AH)({flex:null!==v&&void 0!==v&&v.getCanResize()?v.getSize()/100:void 0},""),children:(0,T.isEmpty)(i)?"-":(0,f.Y)(o.Overflow,{children:null===i||void 0===i?void 0:i.map((e=>{var n,t,r,o,i,a;return(0,f.Y)(c.N_,{target:"_blank",rel:"noopener noreferrer",to:M.Ay.getExperimentLoggedModelDetailsPage(null!==(t=null===(r=e.info)||void 0===r?void 0:r.experiment_id)&&void 0!==t?t:"",null!==(o=null===(i=e.info)||void 0===i?void 0:i.model_id)&&void 0!==o?o:""),children:null===(a=e.info)||void 0===a?void 0:a.name},null===(n=e.info)||void 0===n?void 0:n.model_id)}))})})]},e)}))]}):null};var J={name:"ozd7xs",styles:"flex-shrink:0"};const ee=({latestMetrics:e,runInfo:n,loggedModels:t})=>{const{theme:a}=(0,i.u)(),{detailsPageTableStyles:s,detailsPageNoEntriesStyles:l,detailsPageNoResultsWrapperStyles:u,usingUnifiedDetailsLayout:c}=(0,G.z)(),m=(0,L.A)(),[g,p]=(0,d.useState)(""),h=(0,d.useMemo)((()=>{if(!t)return{};const e=(0,T.compact)((0,T.flatMap)(t,(e=>{var n,t;return null===(n=e.data)||void 0===n||null===(t=n.metrics)||void 0===t?void 0:t.map((({key:n})=>({key:n,model:e})))}))),n=(0,T.groupBy)(e,"key");return(0,T.mapValues)(n,(e=>e.map((({model:e})=>e))))}),[t]),v=(0,d.useMemo)((()=>{const n=(0,T.values)(e);return(0,T.isEmpty)(h)?n:n.map((e=>{var n;return{...e,loggedModels:null!==(n=h[e.key])&&void 0!==n?n:[]}}))}),[e,h]),y=v.some((({loggedModels:e})=>!(0,T.isEmpty)(e))),x=(0,d.useMemo)((()=>[{id:"models",header:m.formatMessage({id:"mRshzt",defaultMessage:"Models"}),accessorKey:"models",enableResizing:!0}]),[m]),M=(0,d.useMemo)((()=>{const e=[{id:"key",accessorKey:"key",header:()=>(0,f.Y)(Y.A,{id:"pjlcSc",defaultMessage:"Metric"}),enableResizing:!0,size:240},{id:"value",header:()=>(0,f.Y)(Y.A,{id:"t0Qkuc",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!0}];return y&&e.push(...x),e}),[y,x]),I=(0,d.useMemo)((()=>{const e=v.filter((({key:e})=>(0,$.bw)(e))),n=v.filter((({key:e})=>!(0,$.bw)(e)));return e.length>0&&n.length>0?[{header:m.formatMessage(q),metrics:e.filter(Q(g))},{header:m.formatMessage(Z),metrics:n.filter(Q(g))}]:[{header:void 0,metrics:v.filter(Q(g))}]}),[g,v,m]),b=(0,j.N4)({data:v,getCoreRowModel:(0,W.HT)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:M});return(0,f.FD)("div",{css:(0,r.AH)({flex:c?"0 0 auto":1,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:[(0,f.Y)(i.T.Title,{level:4,css:J,children:(0,f.Y)(Y.A,{id:"m4159e",defaultMessage:"Metrics ({length})",values:{length:v.filter(Q(g)).length}})}),(0,f.Y)("div",{css:(0,r.AH)({padding:a.spacing.sm,border:`1px solid ${a.colors.borderDecorative}`,borderRadius:a.general.borderRadiusBase,display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},""),children:(()=>{if(!v.length)return(0,f.Y)("div",{css:l,children:(0,f.Y)(o.Empty,{description:(0,f.Y)(Y.A,{id:"9vj5Ap",defaultMessage:"No metrics recorded"})})});const e=(0,T.sum)(I.map((({metrics:e})=>e.length)))<1;return(0,f.FD)(f.FK,{children:[(0,f.Y)("div",{css:(0,r.AH)({marginBottom:a.spacing.sm},""),children:(0,f.Y)(z.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_186",prefix:(0,f.Y)(z.S,{}),placeholder:m.formatMessage({id:"w2+rkp",defaultMessage:"Search metrics"}),value:g,onChange:e=>p(e.target.value),allowClear:!0})}),(0,f.FD)(o.Table,{scrollable:!0,empty:e?(0,f.Y)("div",{css:u,children:(0,f.Y)(o.Empty,{description:(0,f.Y)(Y.A,{id:"lT1Joh",defaultMessage:"No metrics match the search filter"})})}):null,css:s,children:[(0,f.Y)(o.TableRow,{isHeader:!0,children:b.getLeafHeaders().map((e=>(0,f.Y)(o.TableHeader,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewmetricstable.tsx_312",header:e,column:e.column,setColumnSizing:b.setColumnSizing,isResizing:e.column.getIsResizing(),style:{flex:e.column.getCanResize()?e.column.getSize()/100:void 0},children:(0,j.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),I.map(((e,t)=>(0,f.Y)(X,{metricsList:e.metrics,runInfo:n,header:e.header,table:b},e.header||t)))]})]})})()})]})};var ne=t(38243),te=t(85343);var re={name:"1flj9lk",styles:"text-align:left"},oe={name:"ti75j2",styles:"margin:0"};const ie=({dataset:e,onClick:n})=>(0,f.Y)(i.T.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_16",role:"link",css:re,onClick:n,children:(0,f.Y)(ne.E,{datasetWithTags:e,displayTextAsLink:!0,css:oe})}),ae=({tags:e,runInfo:n,datasets:t})=>{const[a,s]=(0,d.useState)(null),{theme:l}=(0,i.u)(),[u,c]=(0,d.useState)(!1);if(!t||!t.length)return null;const m=t[0],g=t.slice(1),p=r=>{var o,i,a;s({datasetWithTags:r,runData:{experimentId:null!==(o=n.experimentId)&&void 0!==o?o:void 0,runUuid:null!==(i=n.runUuid)&&void 0!==i?i:"",runName:null!==(a=n.runName)&&void 0!==a?a:void 0,datasets:t,tags:e}}),c(!0)};return(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,f.Y)(ie,{dataset:m,onClick:()=>p(m)}),g.length?(0,f.FD)(o.DropdownMenu.Root,{modal:!1,children:[(0,f.Y)(o.DropdownMenu.Trigger,{asChild:!0,children:(0,f.FD)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_70",size:"small",children:["+",g.length]})}),(0,f.Y)(o.DropdownMenu.Content,{children:g.map((e=>(0,f.Y)(o.DropdownMenu.Item,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdatasetbox.tsx_81",children:(0,f.Y)(ie,{dataset:e,onClick:()=>p(e)})},e.dataset.digest)))})]}):null,a&&(0,f.Y)(te.O,{isOpen:u,setIsOpen:c,selectedDatasetWithRun:a,setSelectedDatasetWithRun:s})]})};var se=t(26809),le=t(47545);const de=({parentRunUuid:e})=>{const n=(0,a.wA)(),t=(0,a.d4)((({entities:n})=>n.runInfosByUuid[e])),r=(0,le.t)({runUuid:e,disabled:!(0,k.wD)()}),i=(0,d.useMemo)((()=>{var e;return(0,k.wD)()?null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.info:t}),[r,t]);return(0,d.useEffect)((()=>{(0,k.wD)()||i||n((0,se.aO)(e))}),[n,e,i]),i?i.experimentId&&i.runUuid?(0,f.Y)(c.N_,{to:M.Ay.getRunPageRoute(i.experimentId,i.runUuid),children:i.runName}):null:(0,f.Y)(o.ParagraphSkeleton,{loading:!0,label:(0,f.Y)(Y.A,{id:"nfIS4i",defaultMessage:"Parent run name loading"})})};var ue=t(43683),ce=t(38299),me=t(98597),ge=t(98590);var pe={name:"1wcfv52",styles:"margin-right:0"};const he=({runUuid:e,tags:n,onTagsUpdated:t})=>{const s=(0,k.V0)(),[l,u]=(0,d.useState)(!1),{theme:c}=(0,i.u)(),m=(0,a.wA)(),g=(0,L.A)(),[p,h]=(0,d.useMemo)((()=>[(0,T.keys)(n).filter(ge.oD),(0,T.values)(n).filter((({key:e})=>(0,ge.oD)(e)))]),[n]),v=h.map((({key:e,value:n})=>({key:e,value:n}))),{TagAssignmentModal:y,showTagAssignmentModal:x}=(0,ce.S)({componentIdPrefix:"mlflow.run-view-tags-box",initialTags:v,isLoading:l,onSubmit:(n,t)=>(u(!0),m((0,se.cj)(e,n,t)).then((()=>{u(!1)}))),onSuccess:t}),{EditTagsModal:M,showEditTagsModal:I,isLoading:b}=(0,ue.Q)({valueRequired:!0,allAvailableTags:p,saveTagsHandler:async(n,r,o)=>m((0,se.hD)(e,r,o)).then(t)}),_=()=>{s?x():I({tags:h})},S=g.formatMessage({id:"EwAZgg",defaultMessage:"Edit tags"});return(0,f.FD)("div",{css:(0,r.AH)({paddingTop:c.spacing.xs,paddingBottom:c.spacing.xs,display:"flex",flexWrap:"wrap",alignItems:"center","> *":{marginRight:"0 !important"},gap:c.spacing.xs},""),children:[v.length<1?(0,f.Y)(i.B,{componentId:"mlflow.run_details.overview.tags.add_button",size:"small",type:"tertiary",onClick:_,children:(0,f.Y)(Y.A,{id:"dt3hj5",defaultMessage:"Add tags"})}):(0,f.FD)(f.FK,{children:[v.map((e=>(0,f.Y)(me.t,{tag:e,enableFullViewModal:!0,css:pe},`${e.key}-${e.value}`))),(0,f.Y)(N.T,{componentId:"mlflow.run_details.overview.tags.edit_button.tooltip",content:S,children:(0,f.Y)(i.B,{componentId:"mlflow.run_details.overview.tags.edit_button","aria-label":S,size:"small",icon:(0,f.Y)(o.PencilIcon,{}),onClick:_})})]}),b&&(0,f.Y)(i.S,{size:"small"}),M,y]})};var ve=t(96034),fe=t(56928);const ye=({runUuid:e,tags:n,onDescriptionChanged:t})=>{var s;const l=(null===(s=n[fe.e])||void 0===s?void 0:s.value)||"",[u,c]=(0,d.useState)(!1),m=(0,L.A)(),{theme:g}=(0,i.u)(),p=(0,a.wA)(),h=!l;return(0,f.FD)("div",{css:(0,r.AH)({marginBottom:g.spacing.md},""),children:[(0,f.FD)(i.T.Title,{level:4,css:(0,r.AH)({display:"flex",alignItems:"center",gap:g.spacing.xs},""),children:[(0,f.Y)(Y.A,{id:"ugwpKL",defaultMessage:"Description"}),(0,f.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewdescriptionbox.tsx_46",size:"small",type:"tertiary","aria-label":m.formatMessage({id:"Mtj9Ay",defaultMessage:"Edit description"}),onClick:()=>c(!0),icon:(0,f.Y)(o.PencilIcon,{})})]}),h&&!u&&(0,f.Y)(i.T.Hint,{children:(0,f.Y)(Y.A,{id:"VcNdOq",defaultMessage:"No description"})}),(!h||u)&&(0,f.Y)(ve.V,{defaultMarkdown:l,onSubmit:n=>p((0,se.Jv)(e,fe.e,n)).then(t).then((()=>c(!1))),onCancel:()=>c(!1),showEditor:u})]})};var Ye=t(4874);var xe={name:"e0dnmk",styles:"cursor:pointer"};const Me=({registeredModelVersionSummaries:e})=>{const{theme:n}=(0,i.u)();return(0,f.Y)(o.Overflow,{children:null===e||void 0===e?void 0:e.map((e=>(0,f.FD)(c.N_,{to:e.link,css:(0,r.AH)({display:"flex",alignItems:"center",gap:n.spacing.sm},""),children:[(0,f.Y)(C.h,{})," ",e.displayedName," ",(0,f.FD)(o.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewregisteredmodelsbox.tsx_40",css:xe,children:["v",e.version]})]},e.displayedName)))})};var Ie=t(41261),be=t(82832);const _e=async({queryKey:e})=>{const[,{runUuid:n}]=e;return be.M.getPromptVersionsForRun(n)};var Te=t(84565);var Se={name:"1bmnxg7",styles:"white-space:nowrap"};const Ae=({tags:e,runUuid:n})=>{const{theme:t}=(0,i.u)(),{data:a,error:s,isLoading:l}=(({runUuid:e},n={})=>{var t;const r=(0,Ie.I)(["run_uuid",{runUuid:e}],{queryFn:_e,retry:!1,...n});return{data:r.data,error:null!==(t=r.error)&&void 0!==t?t:void 0,isLoading:r.isLoading,refetch:r.refetch}})({runUuid:n}),d=[...(null===a||void 0===a?void 0:a.model_versions)||[],...(0,Te.U7)(e)];return l?(0,f.Y)(o.ParagraphSkeleton,{}):s||!d||0===d.length?(0,f.Y)(i.T.Hint,{children:"\u2014"}):(0,f.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:t.spacing.sm,flexWrap:"wrap",padding:`${t.spacing.sm}px 0px`},""),children:d.map(((e,n)=>{const t=M.Ay.getPromptDetailsPageRoute(encodeURIComponent(e.name)),r=`${e.name} (v${e.version})`;return(0,f.FD)(i.T.Text,{css:Se,children:[(0,f.Y)(c.N_,{to:t,children:r}),n<d.length-1&&","]},r)}))})},Ce=({loggedModels:e,loggedModelsV3:n,runInfo:t})=>{const{theme:a}=(0,i.u)(),{experimentId:s,runUuid:l}=t,u=e=>(0,T.first)(e)||(0,f.Y)(Y.A,{id:"0HbGko",defaultMessage:"Model"}),m=(0,d.useMemo)((()=>{const n=e.map((e=>u(e.flavors)));return new Set(n).size!==n.length}),[e]);return(0,f.FD)(o.Overflow,{children:[e.map(((e,n)=>(0,f.FD)(c.N_,{to:M.Ay.getRunPageRoute(null!==s&&void 0!==s?s:"",null!==l&&void 0!==l?l:"",e.artifactPath),css:(0,r.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm,cursor:"pointer",height:m&&n>0?a.general.heightBase:a.general.heightSm},""),children:[(0,f.Y)(o.ModelsIcon,{}),(0,f.FD)("div",{children:[u(e.flavors),m&&n>0&&(0,f.Y)(i.T.Hint,{children:e.artifactPath})]})]},e.artifactPath))),n.map(((e,n)=>{var t,i,l,d,u;return(0,f.FD)(c.N_,{to:M.Ay.getExperimentLoggedModelDetailsPageRoute(null!==s&&void 0!==s?s:"",null!==(t=null===(i=e.info)||void 0===i?void 0:i.model_id)&&void 0!==t?t:""),css:(0,r.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm,cursor:"pointer",height:m&&n>0?a.general.heightBase:a.general.heightSm},""),children:[(0,f.Y)(o.ModelsIcon,{}),(0,f.Y)("div",{children:null===(u=e.info)||void 0===u?void 0:u.name})]},null!==(l=null===(d=e.info)||void 0===d?void 0:d.model_id)&&void 0!==l?l:n)}))]})};var we=t(56412),De=t(1323);var Re={name:"1wcfv52",styles:"margin-right:0"},Ee={name:"kauk44",styles:"display:flex;gap:4px;white-space:nowrap"},ke={name:"1a7v7i3",styles:"margin-right:0;&>div{padding-right:0;}"};const Ue=({runUuid:e,tags:n,search:t,className:a})=>{var s,l,d;const u=null===n||void 0===n||null===(s=n[g.xd])||void 0===s?void 0:s.value,c=null===n||void 0===n||null===(l=n[m.A.gitCommitTag])||void 0===l?void 0:l.value,p=m.A.renderSource(n,t,e,u),{theme:h}=(0,i.u)();return p?(0,f.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",gap:h.spacing.sm,paddingTop:h.spacing.sm,paddingBottom:h.spacing.sm,flexWrap:"wrap"},""),className:a,children:[(0,f.Y)(De.m,{sourceType:null===(d=n[m.A.sourceTypeTag])||void 0===d?void 0:d.value,css:(0,r.AH)({color:h.colors.actionPrimaryBackgroundDefault},"")}),p," ",u&&(0,f.Y)(o.LegacyTooltip,{title:u,children:(0,f.Y)(o.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_overview_runviewsourcebox.tsx_48",css:Re,children:(0,f.FD)("div",{css:Ee,children:[(0,f.Y)(o.BranchIcon,{})," ",u]})})}),c&&(0,f.FD)(i.ax.Root,{componentId:"mlflow.run_details.overview.source.commit_hash_popover",children:[(0,f.Y)(i.ax.Trigger,{asChild:!0,children:(0,f.Y)(o.Tag,{componentId:"mlflow.run_details.overview.source.commit_hash",css:ke,children:(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:h.spacing.xs,whiteSpace:"nowrap",alignContent:"center"},""),children:[(0,f.Y)(o.GitCommitIcon,{}),c.slice(0,7)]})})}),(0,f.FD)(i.ax.Content,{align:"start",children:[(0,f.Y)(i.ax.Arrow,{}),(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:h.spacing.xs,alignItems:"center"},""),children:[c,(0,f.Y)(we.i,{showLabel:!1,size:"small",type:"tertiary",copyText:c,icon:(0,f.Y)(o.CopyIcon,{})})]})]})]})]}):(0,f.Y)(i.T.Hint,{children:"\u2014"})};var Fe=t(14830),Le=t(31179),Ne=t(67212);var Pe=t(38654),He=t(12017),Be=t(36506),Ve=t(30706);const Oe=[He.I7.RelationshipType,He.I7.Step,He.I7.Name,He.I7.Status,He.I7.CreationTime,He.I7.RegisteredModels,He.I7.Dataset];var ze={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},Ke={name:"g030ms",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center"},$e={name:"ozd7xs",styles:"flex-shrink:0"};const je=({inputs:e,outputs:n,runInfo:t,loggedModelsV3:a,isLoadingLoggedModels:s=!1,loggedModelsError:l})=>{const{theme:u}=(0,i.u)(),{models:c}=((e,n,t,r)=>{const o=(0,d.useMemo)((()=>{var n;return(0,T.compact)((0,T.uniq)(null===e||void 0===e||null===(n=e.modelInputs)||void 0===n?void 0:n.map((e=>e.modelId)))).map((e=>{const n=null===r||void 0===r?void 0:r.find((n=>{var t;return(null===(t=n.info)||void 0===t?void 0:t.model_id)===e}));if(n)return{...n,direction:"input"}}))}),[null===e||void 0===e?void 0:e.modelInputs,r]),i=(0,d.useMemo)((()=>{var e;return(0,T.compact)((0,T.uniq)(null===n||void 0===n||null===(e=n.modelOutputs)||void 0===e?void 0:e.map((e=>e.modelId)))).map((e=>{var t,o;const i=null===r||void 0===r?void 0:r.find((n=>{var t;return(null===(t=n.info)||void 0===t?void 0:t.model_id)===e})),a=null===n||void 0===n||null===(t=n.modelOutputs)||void 0===t?void 0:t.find((({modelId:e})=>{var n;return e===(null===i||void 0===i||null===(n=i.info)||void 0===n?void 0:n.model_id)}));if(i)return{...i,direction:"output",step:null!==(o=null===a||void 0===a?void 0:a.step)&&void 0!==o?o:void 0}}))}),[null===n||void 0===n?void 0:n.modelOutputs,r]);return{models:(0,d.useMemo)((()=>{var e,n;return null!==(e=(0,T.uniqBy)((0,T.compact)([...o,...i]).map((n=null===t||void 0===t?void 0:t.runUuid,e=>{var t;return null!==(t=e.data)&&void 0!==t&&t.metrics?{...e,data:{...e.data,metrics:e.data.metrics.filter((e=>!n||e.run_id===n))}}:e})),(e=>{var n;return null===(n=e.info)||void 0===n?void 0:n.model_id})))&&void 0!==e?e:[]}),[o,i,t])}})(e,n,t,a),[m,g]=(0,d.useState)({}),{columnDefs:p}=(0,He.ih)({loggedModels:c,columnVisibility:m,disablePinnedColumns:!0,disableOrderBy:!0,supportedAttributeColumnKeys:Oe});return(0,f.FD)("div",{css:ze,children:[(0,f.FD)("div",{css:Ke,children:[(0,f.Y)(i.T.Title,{level:4,css:$e,children:(0,f.Y)(Y.A,{id:"km8vtM",defaultMessage:"Logged models ({length})",values:{length:c.length}})}),(0,f.Y)(Ve.$,{columnDefs:p,onUpdateColumns:g,columnVisibility:m,customTrigger:(0,f.Y)(i.B,{componentId:"mlflow.logged_model.list.columns",icon:(0,f.Y)(o.ColumnsIcon,{})})})]}),(0,f.Y)(N.S,{size:"sm",shrinks:!1}),(0,f.FD)("div",{css:(0,r.AH)({padding:u.spacing.sm,border:`1px solid ${u.colors.border}`,borderRadius:u.general.borderRadiusBase,display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},""),children:[l instanceof Error&&l.message&&(0,f.FD)(f.FK,{children:[(0,f.Y)(o.Alert,{type:"error",description:l.message,message:(0,f.Y)(Y.A,{id:"2BzYqp",defaultMessage:"Error loading logged models"}),closable:!1,componentId:"mlflow.run_page.logged_model.list.error"}),(0,f.Y)(N.S,{size:"sm",shrinks:!1})]}),(0,f.Y)(Be.Xs,{children:(0,f.Y)(Pe._,{columnDefs:p,loggedModels:c,columnVisibility:m,isLoading:s,isLoadingMore:!1,moreResultsAvailable:!1,disableLoadMore:!0,css:We(u),displayShowExampleButton:!1})})]})]})},We=e=>({"&.ag-theme-balham":{"--ag-border-color":e.colors.border,"--ag-row-border-color":e.colors.border,"--ag-foreground-color":e.colors.textPrimary,"--ag-background-color":"transparent","--ag-odd-row-background-color":"transparent","--ag-row-hover-color":e.colors.actionDefaultBackgroundHover,"--ag-selected-row-background-color":e.colors.actionDefaultBackgroundPress,"--ag-header-foreground-color":e.colors.textPrimary,"--ag-header-background-color":e.colors.backgroundPrimary,"--ag-modal-overlay-background-color":e.colors.overlayOverlay,".ag-header-row.ag-header-row-column-group":{"--ag-header-foreground-color":e.colors.textPrimary},borderTop:0,fontSize:e.typography.fontSizeBase,".ag-center-cols-viewport":{...(0,i.E)(e,{orientation:"horizontal"})}}});var Ge=t(65287),qe=t(81313);var Ze={name:"ti75j2",styles:"margin:0"};const Qe=({tags:e,runInfo:n,datasets:t})=>{const[a,s]=(0,d.useState)(null),[l,u]=(0,d.useState)(!1),{theme:c}=(0,i.u)();if(!t||!t.length)return null;return(0,f.FD)(f.FK,{children:[(0,f.Y)(o.Overflow,{children:t.map((o=>(0,f.Y)(i.T.Link,{componentId:"mlflow.run_details.datasets_box.dataset_link",css:(0,r.AH)({textAlign:"left",".anticon":{fontSize:c.general.iconFontSize}},""),onClick:()=>(r=>{var o,i,a;s({datasetWithTags:r,runData:{experimentId:null!==(o=n.experimentId)&&void 0!==o?o:void 0,runUuid:null!==(i=n.runUuid)&&void 0!==i?i:"",runName:null!==(a=n.runName)&&void 0!==a?a:void 0,datasets:t,tags:e}}),u(!0)})(o),children:(0,f.Y)(ne.E,{datasetWithTags:o,displayTextAsLink:!0,css:Ze})})))}),a&&(0,f.Y)(te.O,{isOpen:l,setIsOpen:u,selectedDatasetWithRun:a,setSelectedDatasetWithRun:s})]})};var Xe=function(e){return e.DETAILS="DETAILS",e.DATASETS="DATASETS",e.TAGS="TAGS",e.REGISTERED_MODELS="REGISTERED_MODELS",e}(Xe||{});const Je=()=>(0,f.Y)(i.T.Hint,{children:"\u2014"});var en={name:"67z2yy",styles:"flex:1;align-self:flex-start"},nn={name:"1ctdo4k",styles:"min-height:360px;max-height:760px;overflow:hidden;display:flex"};const tn=({runUuid:e,onRunDataUpdated:n,tags:t,runInfo:o,datasets:a,params:s,latestMetrics:l,runInputs:u,runOutputs:g,registeredModelVersionSummaries:p,loggedModelsV3:h=[],isLoadingLoggedModels:v=!1,loggedModelsError:y})=>{const{theme:x}=(0,i.u)(),{usingUnifiedDetailsLayout:I}=(0,G.z)(),{search:b}=(0,c.zy)(),_=(0,L.A)(),S=(0,d.useMemo)((()=>m.A.getLoggedModelsFromTags(t)),[t]),A=t[P.Ol],C=!(0,T.isEmpty)(null===u||void 0===u?void 0:u.modelInputs)||!(0,T.isEmpty)(null===g||void 0===g?void 0:g.modelOutputs),w=!(0,k.Ok)()||!C,D=(null===S||void 0===S?void 0:S.length)>0||(null===h||void 0===h?void 0:h.length)>0,{modelVersions:R}=(0,Le.b)({loggedModels:h}),E=(0,T.uniqBy)([...p,...R],(e=>null===e||void 0===e?void 0:e.link)),U=(({runUuid:e,runInfo:n,tags:t,onTagsUpdated:o,datasets:a,shouldRenderLoggedModelsBox:s,loggedModelsV3:l,registeredModelVersionSummaries:u})=>{var g,p,h;const v=(0,L.A)(),{theme:y}=(0,i.u)(),{search:Y}=(0,c.zy)(),x=(0,d.useMemo)((()=>m.A.getLoggedModelsFromTags(t)),[t]),I=t[P.Ol],b=n&&(0,f.FD)(f.FK,{children:[(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"PP5HZf",defaultMessage:"Created at"}),value:n.startTime?m.A.formatTimestamp(n.startTime,v):(0,f.Y)(qe.bw,{})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"7KKvmS",defaultMessage:"Created by"}),value:(0,f.Y)(V,{runInfo:n,tags:t})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"ffema5",defaultMessage:"Experiment ID"}),value:(0,f.Y)(Ne.t,{value:null!==(g=null===n||void 0===n?void 0:n.experimentId)&&void 0!==g?g:"",element:null!==n&&void 0!==n&&n.experimentId?(0,f.Y)(c.N_,{to:M.Ay.getExperimentPageRoute(n.experimentId),children:null===n||void 0===n?void 0:n.experimentId}):void 0})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"vxY1CI",defaultMessage:"Status"}),value:(0,f.Y)(B,{status:n.status})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"JYVQuV",defaultMessage:"Run ID"}),value:(0,f.Y)(Ne.t,{value:null!==(p=n.runUuid)&&void 0!==p?p:""})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"ZoIjun",defaultMessage:"Duration"}),value:m.A.getDuration(n.startTime,n.endTime)}),I&&(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"zdYXP8",defaultMessage:"Parent run"}),value:(0,f.Y)(de,{parentRunUuid:I.value})}),(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"WmDiY9",defaultMessage:"Source"}),value:(0,f.Y)(Ue,{tags:t,search:Y,runUuid:e,css:(0,r.AH)({paddingTop:y.spacing.xs,paddingBottom:y.spacing.xs},"")})}),s&&(0,f.Y)(qe.wB,{keyValue:v.formatMessage({id:"mjNFJt",defaultMessage:"Logged models"}),value:(0,f.Y)(Ce,{runInfo:n,loggedModels:x,loggedModelsV3:l})})]});return[{id:Xe.DETAILS,title:v.formatMessage({id:"QGiy9C",defaultMessage:"About this run"}),content:b},{id:Xe.DATASETS,title:v.formatMessage({id:"yrsFOP",defaultMessage:"Datasets"}),content:null!==a&&void 0!==a&&a.length?(0,f.Y)(Qe,{tags:t,runInfo:n,datasets:a}):(0,f.Y)(qe.bw,{})},{id:Xe.TAGS,title:v.formatMessage({id:"arFT1W",defaultMessage:"Tags"}),content:(0,f.Y)(he,{runUuid:null!==(h=n.runUuid)&&void 0!==h?h:"",tags:t,onTagsUpdated:o})},{id:Xe.REGISTERED_MODELS,title:v.formatMessage({id:"HnGOwk",defaultMessage:"Registered models"}),content:(null===u||void 0===u?void 0:u.length)>0?(0,f.Y)(Me,{registeredModelVersionSummaries:u}):(0,f.Y)(qe.bw,{})}]})({runUuid:e,runInfo:o,tags:t,onTagsUpdated:n,datasets:a,loggedModelsV3:h,shouldRenderLoggedModelsBox:w,registeredModelVersionSummaries:E}),F=I;return(0,f.FD)(Ge.a,{css:en,usingSidebarLayout:F,secondarySections:U,children:[(0,f.Y)(ye,{runUuid:e,tags:t,onDescriptionChanged:n}),!F&&(0,f.FD)(f.FK,{children:[(0,f.Y)(i.T.Title,{level:4,children:(0,f.Y)(Y.A,{id:"Isaf66",defaultMessage:"Details"})}),(()=>{var r,s,l;return(0,f.FD)(Fe.N,{children:[(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"PP5HZf",defaultMessage:"Created at"}),value:o.startTime?m.A.formatTimestamp(o.startTime,_):(0,f.Y)(Je,{})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"7KKvmS",defaultMessage:"Created by"}),value:(0,f.Y)(V,{runInfo:o,tags:t})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"ffema5",defaultMessage:"Experiment ID"}),value:(0,f.Y)(Ne.t,{value:null!==(r=null===o||void 0===o?void 0:o.experimentId)&&void 0!==r?r:""})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"vxY1CI",defaultMessage:"Status"}),value:(0,f.Y)(B,{status:o.status})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"JYVQuV",defaultMessage:"Run ID"}),value:(0,f.Y)(Ne.t,{value:null!==(s=o.runUuid)&&void 0!==s?s:""})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"ZoIjun",defaultMessage:"Duration"}),value:m.A.getDuration(o.startTime,o.endTime)}),A&&(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"zdYXP8",defaultMessage:"Parent run"}),value:(0,f.Y)(de,{parentRunUuid:A.value})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"fwp4JP",defaultMessage:"Datasets used"}),value:null!==a&&void 0!==a&&a.length?(0,f.Y)(ae,{tags:t,runInfo:o,datasets:a}):(0,f.Y)(Je,{})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"rs7Iic",defaultMessage:"Tags"}),value:(0,f.Y)(he,{runUuid:null!==(l=o.runUuid)&&void 0!==l?l:"",tags:t,onTagsUpdated:n})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"WmDiY9",defaultMessage:"Source"}),value:(0,f.Y)(Ue,{tags:t,search:b,runUuid:e})}),w&&(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"mjNFJt",defaultMessage:"Logged models"}),value:v?(0,f.Y)(i.S,{}):D?(0,f.Y)(Ce,{runInfo:o,loggedModels:S,loggedModelsV3:h}):(0,f.Y)(Je,{})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"BCpX6U",defaultMessage:"Registered models"}),value:(null===E||void 0===E?void 0:E.length)>0?(0,f.Y)(Me,{registeredModelVersionSummaries:E}):(0,f.Y)(Je,{})}),(0,f.Y)(Ye.Z,{title:(0,f.Y)(Y.A,{id:"UCQwvo",defaultMessage:"Registered prompts"}),value:(0,f.Y)(Ae,{tags:t,runUuid:e})})]})})()]}),(0,f.FD)("div",{css:[F?{flexDirection:"column"}:{minHeight:360,maxHeight:760},{display:"flex",gap:x.spacing.lg,overflow:"hidden"},""],children:[(0,f.Y)(ee,{latestMetrics:l,runInfo:o,loggedModels:h}),(0,f.Y)(O.y,{params:s})]}),(0,k.Ok)()&&C&&(0,f.FD)(f.FK,{children:[(0,f.Y)(N.S,{}),(0,f.Y)("div",{css:nn,children:(0,f.Y)(je,{loggedModelsV3:h,isLoadingLoggedModels:v,inputs:u,outputs:g,runInfo:o,loggedModelsError:y})})]}),!F&&(0,f.Y)(N.S,{})]})};var rn=t(23275),on=t(52350),an=t(82214);function sn({runId:e}){return(0,f.Y)(an.E,{statusCode:404,subMessage:`Run ID ${e} does not exist`,fallbackHomePageReactRoute:M.Ay.rootRoute})}var ln=t(47664),dn=t(64558),un=t(33946),cn=t(75627),mn=t(59397);const gn=({contextData:{metricsForRun:e},hoverData:n,chartData:{metricKey:t},isHovering:r,mode:o})=>{var a;const s=(0,cn.bL)(n)?n.hoveredDataPoint:n,l=(0,L.A)();if(o===cn.QS.MultipleTracesWithScanline&&(0,cn.bL)(n)&&r)return(0,f.Y)(mn.G,{hoverData:n});if(null===s||void 0===s||!s.metricEntity)return null;const{timestamp:d,step:u,value:c}=s.metricEntity,g=(null===e||void 0===e||null===(a=e[t])||void 0===a?void 0:a.length)>1,p=(0,$.bw)(t),h=g&&p&&!(0,T.isUndefined)(d),v=g&&!p&&!(0,T.isUndefined)(u);return(0,f.FD)("div",{children:[v&&(0,f.FD)("div",{css:pn.valueField,children:[(0,f.FD)("strong",{children:[(0,f.Y)(Y.A,{id:"a02Pn6",defaultMessage:"Step"}),":"]})," ",u]}),h&&(0,f.FD)("div",{css:pn.valueField,children:[(0,f.FD)("strong",{children:[(0,f.Y)(Y.A,{id:"faLIN+",defaultMessage:"Timestamp"}),":"]})," ",m.A.formatTimestamp(d,l)]}),c&&(0,f.FD)("div",{children:[(0,f.Y)(i.T.Text,{bold:!0,children:t}),(0,f.Y)(N.S,{size:"xs"}),(0,f.Y)(i.T.Text,{children:c})]})]})},pn={valueField:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};var hn=t(30152),vn=t(36118),fn=t(39045),yn=t(19415),Yn=t(62758),xn=t(32614),Mn=t(63617),In=t(4972),bn=t(55999),_n=t(688),Tn=t(71932),Sn=t(40029);var An={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"},Cn={name:"1tc6xju",styles:"flex:1;overflow:auto"};const wn=({runInfo:e,metricKeys:n,mode:t,chartUIState:s,updateChartsUIState:l,latestMetrics:u={},params:c={},tags:m={}})=>{var p;const{theme:h}=(0,i.u)(),[v,y]=(0,d.useState)(""),{formatMessage:Y}=(0,L.A)(),{compareRunCharts:x,compareRunSections:M,chartsSearchFilter:I}=s,b=(0,d.useMemo)((()=>{var e;return null!==(e=null===x||void 0===x?void 0:x.filter((e=>!e.deleted)))&&void 0!==e?e:[]}),[x]),[_,S]=(0,d.useState)(void 0),A=(0,a.d4)((({entities:n})=>{var t;return(0,T.mapValues)(n.sampledMetricsByRunUuid[null!==(t=e.runUuid)&&void 0!==t?t:""],(e=>(0,T.compact)((0,T.values)(e).map((({metricsHistory:e})=>e)).flat())))})),C=(0,d.useMemo)((()=>({runInfo:e,metricsForRun:A})),[e,A]),{imagesByRunUuid:w}=(0,a.d4)((e=>({imagesByRunUuid:e.entities.imagesByRunUuid}))),[D,R]=(0,d.useState)(null),E=(0,Yn.iO)(),U=(0,Yn.cA)(),F=(0,Yn.KP)(),N=(0,Yn.Ez)(),P=(0,d.useMemo)((()=>{var n,t,r;return[{displayName:null!==(n=e.runName)&&void 0!==n?n:"",metrics:u,params:c,tags:m,images:w[null!==(t=e.runUuid)&&void 0!==t?t:""]||{},metricHistory:{},uuid:null!==(r=e.runUuid)&&void 0!==r?r:"",color:h.colors.primary,runInfo:e}]}),[e,u,c,m,w,h]);(0,d.useEffect)((()=>{if((!M||!x)&&P.length>0){const{resultChartSet:e,resultSectionSet:n}=hn.i$.getBaseChartAndSectionConfigs({runsData:P,enabledSectionNames:["model"===t?g.NN:g.rx],filterMetricNames:e=>{const n=e.startsWith(g.qt);return"model"===t?!n:n}});l((t=>({...t,compareRunCharts:e,compareRunSections:n})))}}),[x,M,P,t,l]),(0,d.useEffect)((()=>{l((e=>{if(!e.compareRunCharts||!e.compareRunSections)return e;const{resultChartSet:n,resultSectionSet:r,isResultUpdated:o}=hn.i$.updateChartAndSectionConfigs({compareRunCharts:e.compareRunCharts,compareRunSections:e.compareRunSections,runsData:P,isAccordionReordered:e.isAccordionReordered,filterMetricNames:e=>{const n=e.startsWith(g.qt);return"model"===t?!n:n}});return o?{...e,compareRunCharts:n,compareRunSections:r}:e}))}),[P,l,t]);const H=(0,In.$)(),B=s.autoRefreshEnabled&&(0,k.vC)()&&H,V=Boolean(m[g.Cr]);return(0,bn.L)({runUuids:[null!==(p=e.runUuid)&&void 0!==p?p:""],runUuidsIsActive:["RUNNING"===e.status],autoRefreshEnabled:B,enabled:V}),(0,f.FD)("div",{css:An,children:[(0,f.FD)("div",{css:(0,r.AH)({paddingBottom:h.spacing.md,display:"flex",gap:h.spacing.sm,flex:"0 0 auto"},""),children:[(0,f.Y)(Sn.I,{chartsSearchFilter:I}),(0,k.vC)()&&(0,f.Y)(o.ToggleButton,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_run-page_runviewmetricchartsv2.tsx_244",pressed:s.autoRefreshEnabled,onPressedChange:e=>{l((n=>({...n,autoRefreshEnabled:e})))},children:Y({id:"zC/uKl",defaultMessage:"Auto-refresh"})}),(0,f.Y)(_n.f,{metricKeyList:n,globalLineChartConfig:s.globalLineChartConfig,updateUIState:l})]}),(0,f.Y)("div",{css:Cn,children:(0,f.Y)(cn.W,{contextData:C,component:gn,children:(0,f.Y)(Tn.c_,{visibleChartCards:b,children:(0,f.Y)(fn.J,{compareRunSections:M,compareRunCharts:b,reorderCharts:E,insertCharts:U,chartData:P,startEditChart:e=>R(e),removeChart:F,addNewChartCard:e=>n=>R(hn.i$.getEmptyChartCardByType(n,!1,void 0,e)),search:null!==I&&void 0!==I?I:"",supportedChartTypes:[hn.zL.LINE,hn.zL.BAR,hn.zL.IMAGE],setFullScreenChart:S,autoRefreshEnabled:B,globalLineChartConfig:s.globalLineChartConfig,groupBy:null})})})}),D&&(0,f.Y)(yn.z,{chartRunData:P,metricKeyList:n,paramKeyList:[],config:D,onSubmit:e=>{N(e),R(null)},onCancel:()=>R(null),groupBy:null,supportedChartTypes:[hn.zL.LINE,hn.zL.BAR,hn.zL.IMAGE],globalLineChartConfig:s.globalLineChartConfig}),(0,f.Y)(Mn._,{fullScreenChart:_,onCancel:()=>S(void 0),chartData:P,tooltipContextValue:C,tooltipComponent:gn,autoRefreshEnabled:B,groupBy:null})]})},Dn=e=>{const n=`${e.runInfo.runUuid}-${e.mode}`,t=(0,d.useMemo)((()=>xn.A.getStoreForComponent("RunPage",n)),[n]),[r,o]=(0,d.useState)((()=>{const e={isAccordionReordered:!1,compareRunCharts:void 0,compareRunSections:void 0,autoRefreshEnabled:(0,k.vC)(),globalLineChartConfig:{xAxisKey:vn.fj.STEP,lineSmoothness:0,selectedXAxisMetricKey:""}};try{const n=t.getItem("chartUIState");return n?JSON.parse(n):e}catch{return e}}));return(0,d.useEffect)((()=>{t.setItem("chartUIState",JSON.stringify(r))}),[r,t]),(0,f.Y)(Yn.oB,{updateChartsUIState:o,children:(0,f.Y)(wn,{...e,chartUIState:r,updateChartsUIState:o})})};var Rn=t(26626),En=t(63609);var kn=t(72661);const Un="compareToRunUuid",Fn=()=>{var e;const[n,t]=(0,c.ok)();return[null!==(e=n.get(Un))&&void 0!==e?e:void 0,(0,d.useCallback)((e=>{t((n=>void 0===e?(n.delete(Un),n):(n.set(Un,e),n)))}),[t])]};var Ln=t(70403),Nn=t(7450),Pn=t(24759),Hn=t(79432);var Bn={name:"a41n9l",styles:"justify-content:flex-start !important"},Vn={name:"0",styles:""},On={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},zn={name:"fhxb3m",styles:"display:flex;flex-direction:row;align-items:center"},Kn={name:"a41n9l",styles:"justify-content:flex-start !important"};const $n=({experimentId:e,currentRunUuid:n,setCompareToRunUuid:t,compareToRunUuid:a,setCurrentRunUuid:s})=>{const{theme:l}=(0,i.u)(),u=(0,Nn.tz)(),c=(0,Ln.LE)(),{runInfos:m}=(0,Pn.Xz)(e),g=(0,d.useMemo)((()=>{if(m)return m.map((e=>{var n;return{key:e.runUuid,value:null!==(n=e.runName)&&void 0!==n?n:e.runUuid}})).filter((e=>e.key))}),[m]),p=(0,d.useMemo)((()=>{if(m)return m.filter((e=>e.runUuid!==n)).map((e=>{var n;return{key:e.runUuid,value:null!==(n=e.runName)&&void 0!==n?n:e.runUuid}})).filter((e=>Boolean(e.key)))}),[m,n]),h=null===m||void 0===m?void 0:m.find((e=>e.runUuid===n)),v=null===m||void 0===m?void 0:m.find((e=>e.runUuid===a)),y=(0,d.useCallback)((n=>{const t=M.Ay.getRunPageRoute(e,n)+"/evaluations",r=new URLSearchParams(window.location.search),o=new URL(t,window.location.origin);r.forEach(((e,n)=>{o.searchParams.set(n,e)})),window.location.href=o.toString()}),[e]),Y=null!==s&&void 0!==s?s:y;return n?(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,f.Y)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",justifyContent:"flex-start",gap:l.spacing.sm},""),children:(0,f.FD)(o.DialogCombobox,{componentId:Pn.WB,id:"compare-to-run-combobox",value:n?[n]:void 0,children:[(0,f.Y)(o.DialogComboboxCustomButtonTriggerWrapper,{children:(0,f.Y)(i.B,{endIcon:(0,f.Y)(o.ChevronDownIcon,{}),componentId:"mlflow.evaluations_review.table_ui.compare_to_run_button",css:Bn,children:(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center",fontSize:`${l.typography.fontSizeSm}px !important`},""),children:[(0,f.Y)(Hn.E,{color:c(n)}),null!==h&&void 0!==h&&h.runName?(0,f.Y)(i.T.Hint,{children:null===h||void 0===h?void 0:h.runName}):u.formatMessage({id:"PUQxu5",defaultMessage:"Select baseline run"})]})})}),(0,f.Y)(o.DialogComboboxContent,{children:(0,f.Y)(o.DialogComboboxOptionList,{children:(g||[]).map(((e,t)=>(0,f.Y)(o.DialogComboboxOptionListSelectItem,{value:e.value,onChange:n=>Y(e.key),checked:e.key===n,children:(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,f.Y)(Hn.E,{color:c(e.key)}),e.value]})},t)))})})]})}),(0,f.Y)("span",{css:Vn,children:u.formatMessage({id:"iYmFCZ",defaultMessage:"compare to"})}),t&&(0,f.Y)("div",{css:On,children:(0,f.FD)("div",{css:zn,children:[(0,f.FD)(o.DialogCombobox,{componentId:Pn.WB,id:"compare-to-run-combobox",value:a?[a]:void 0,children:[(0,f.Y)(o.DialogComboboxCustomButtonTriggerWrapper,{children:(0,f.Y)(i.B,{endIcon:(0,f.Y)(o.ChevronDownIcon,{}),componentId:"mlflow.evaluations_review.table_ui.compare_to_run_button",css:Kn,children:(0,f.Y)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center",fontSize:`${l.typography.fontSizeSm}px !important`},""),children:null!==v&&void 0!==v&&v.runName?(0,f.FD)(f.FK,{children:[(0,f.Y)(Hn.E,{color:c(a)}),(0,f.Y)(i.T.Hint,{children:null===v||void 0===v?void 0:v.runName})]}):(0,f.Y)("span",{css:(0,r.AH)({color:l.colors.textPlaceholder},""),children:u.formatMessage({id:"XkpMf+",defaultMessage:"baseline run"})})})})}),(0,f.Y)(o.DialogComboboxContent,{children:(0,f.Y)(o.DialogComboboxOptionList,{children:(p||[]).map(((e,n)=>(0,f.Y)(o.DialogComboboxOptionListSelectItem,{value:e.value,onChange:n=>t(e.key),checked:e.key===a,children:(0,f.FD)("div",{css:(0,r.AH)({display:"flex",gap:l.spacing.sm,alignItems:"center"},""),children:[(0,f.Y)(Hn.E,{color:c(e.key)}),e.value]})},n)))})})]}),(null===v||void 0===v?void 0:v.runName)&&(0,f.Y)(z.X,{"aria-hidden":"false",css:(0,r.AH)({color:l.colors.textPlaceholder,fontSize:l.typography.fontSizeSm,marginLeft:l.spacing.sm,":hover":{color:l.colors.actionTertiaryTextHover}},""),role:"button",onClick:()=>{t(void 0)},onPointerDownCapture:e=>{e.stopPropagation()}})]})})]}):(0,f.Y)(f.FK,{})};var jn=t(63528),Wn=t(38566);const Gn=e=>(0,d.useMemo)((()=>e?(0,T.intersection)((0,Wn.T)(e),[Pn.o8.Evaluations,Pn.o8.Metrics,Pn.o8.Assessments]):[]),[e]);var qn=t(11473),Zn=t(74823);const Qn=Zn.J1`
  query SearchRuns($data: MlflowSearchRunsInput!) {
    mlflowSearchRuns(input: $data) {
      apiError {
        helpUrl
        code
        message
      }
      runs {
        info {
          runName
          status
          runUuid
          experimentId
          artifactUri
          endTime
          lifecycleStage
          startTime
          userId
        }
        experiment {
          experimentId
          name
          tags {
            key
            value
          }
          artifactLocation
          lifecycleStage
          lastUpdateTime
        }
        data {
          metrics {
            key
            value
            step
            timestamp
          }
          params {
            key
            value
          }
          tags {
            key
            value
          }
        }
        inputs {
          datasetInputs {
            dataset {
              digest
              name
              profile
              schema
              source
              sourceType
            }
            tags {
              key
              value
            }
          }
          modelInputs {
            modelId
          }
        }
        outputs {
          modelOutputs {
            modelId
            step
          }
        }
        modelVersions {
          version
          name
          creationTimestamp
          status
          source
        }
      }
    }
  }
`,Xn=({filter:e,experimentIds:n,disabled:t=!1})=>{var r,o,i;const{data:a,loading:s,error:l,refetch:d}=(0,Zn.IT)(Qn,{variables:{data:{filter:e,experimentIds:n}},skip:t});return{loading:s,data:(0,T.first)(null!==(r=null===a||void 0===a||null===(o=a.mlflowSearchRuns)||void 0===o?void 0:o.runs)&&void 0!==r?r:[]),refetchRun:d,apolloError:l,apiError:null===a||void 0===a||null===(i=a.mlflowSearchRuns)||void 0===i?void 0:i.apiError}};var Jn=t(2250),et=t(10939);async function nt(e,n){const[t,r]=await Promise.all([jn.x.getExperimentTraceInfo(e).then((e=>e.trace_info||{})),jn.x.getExperimentTraceData(e)]);return r?{info:t,data:r}:void 0}var tt={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"};const rt=({experimentId:e,runUuid:n,runTags:t,runDisplayName:a,data:s})=>{const{theme:l}=(0,i.u)(),d=Gn(t),u=0===(null===s||void 0===s?void 0:s.length),[c,m]=Fn(),g=(0,qn.N9)(),{data:p,displayName:h,loading:v}=ot(e,c,d);if(v)return(0,f.Y)(o.LegacySkeleton,{});const y=e=>e.filter((e=>e.type===Pn.$6.ASSESSMENT||e.type===Pn.$6.INPUT||e.type===Pn.$6.TRACE_INFO&&[Pn.tj,Pn.$W,Pn.Pn].includes(e.id)));return u?(0,f.Y)("div",{css:tt,children:(0,f.Y)(o.Empty,{title:(0,f.Y)(Y.A,{id:"NqqMPs",defaultMessage:"No evaluation tables logged"}),description:null})}):(0,f.FD)("div",{css:(0,r.AH)({marginTop:l.spacing.sm,width:"100%",overflowY:"hidden"},""),children:[(0,f.Y)("div",{css:(0,r.AH)({width:"100%",padding:`${l.spacing.xs}px 0`},""),children:(0,f.Y)($n,{experimentId:e,currentRunUuid:n,compareToRunUuid:c,setCompareToRunUuid:m})}),(()=>{const t={experimentId:e,currentRunDisplayName:a,currentEvaluationResults:s||[],compareToEvaluationResults:p,runUuid:n,compareToRunUuid:c,compareToRunDisplayName:h,compareToRunLoading:v,getTrace:nt,initialSelectedColumns:y};return(0,f.Y)(Pn.tU,{makeHtml:g,children:(0,f.Y)(Pn.js,{...t})})})()]})},ot=(e,n,t)=>{const{data:r,isLoading:o}=(0,Pn.Ie)({runUuid:n||"",artifacts:t},{disabled:(0,T.isNil)(n)}),{data:i,loading:a}=Xn({experimentIds:[e],filter:`attributes.runId = "${n}"`,disabled:(0,T.isNil)(n)});return{data:r,displayName:m.A.getRunDisplayName(null===i||void 0===i?void 0:i.info,n),loading:o||a}};var it=t(27288);async function at(e,n){const[t,r]=await Promise.all([jn.x.getExperimentTraceInfoV3(e).then((e=>{var n;return(null===(n=e.trace)||void 0===n?void 0:n.trace_info)||{}})),jn.x.getExperimentTraceData(e)]);return r?{info:t,data:r}:void 0}var st={name:"1nxh63r",styles:"overflow-y:hidden;height:100%;display:flex;flex-direction:column"};const lt=({experimentId:e,runUuid:n,runTags:t,runDisplayName:o,setCurrentRunUuid:a})=>{const{theme:s}=(0,i.u)(),l=(0,qn.N9)(),[u,c]=Fn(),{assessmentInfos:m,allColumns:g,totalCount:p,isLoading:h,error:v,tableFilterOptions:y}=(0,Pn.KW)({experimentId:e,runUuid:n,otherRunUuid:u}),[Y,x]=(0,d.useState)(""),[M,I]=(0,Pn.R7)(),b=(0,Ln.LE)(),_=(0,it.jE)(),T=(0,d.useCallback)((e=>e.filter((e=>e.type===Pn.$6.ASSESSMENT||e.type===Pn.$6.INPUT||e.type===Pn.$6.TRACE_INFO&&[Pn.tj,Pn.Rl,Pn.$W,Pn.YO].includes(e.id)))),[]),{selectedColumns:S,toggleColumns:A,setSelectedColumns:C}=(0,Pn.K0)(e,g,T,n),[w,D]=(0,Pn.GY)(S),{data:R,isLoading:E,error:U,refetchMlflowTraces:F}=(0,Pn.Zn)({experimentId:e,currentRunDisplayName:o,searchQuery:Y,filters:M,runUuid:n,tableSort:w}),L=(0,et.C)(),{data:N,displayName:P,loading:H}=ct(e,u),B=(0,d.useMemo)((()=>({currentCount:null===R||void 0===R?void 0:R.length,logCountLoading:E,totalCount:p,maxAllowedCount:(0,k.pR)()})),[R,E,p]),{showEditTagsModalForTrace:V,EditTagsModal:O}=(0,Jn.$)({onSuccess:()=>(0,Pn.BL)({queryClient:_}),existingTagKeys:(0,Pn.d9)(R||[]),useV3Apis:!0}),z=(0,d.useMemo)((()=>({deleteTracesAction:{deleteTraces:(e,n)=>L.mutateAsync({experimentId:e,traceRequestIds:n})},exportToEvals:{exportToEvalsInstanceEnabled:!0,getTrace:at},editTags:{showEditTagsModalForTrace:V,EditTagsModal:O}})),[L,V,O]),K=E||H;return h?(0,f.Y)(ut,{}):v?(0,f.Y)("div",{children:(0,f.Y)("pre",{children:String(v)})}):(0,f.FD)("div",{css:(0,r.AH)({marginTop:s.spacing.sm,width:"100%",overflowY:"hidden"},""),children:[(0,f.Y)("div",{css:(0,r.AH)({width:"100%",padding:`${s.spacing.xs}px 0`},""),children:(0,f.Y)($n,{experimentId:e,currentRunUuid:n,compareToRunUuid:u,setCompareToRunUuid:c,setCurrentRunUuid:a})}),(0,f.Y)(Pn.sG,{children:(0,f.FD)("div",{css:st,children:[(0,f.Y)(Pn.w_,{experimentId:e,searchQuery:Y,setSearchQuery:x,filters:M,setFilters:I,assessmentInfos:m,countInfo:B,traceActions:z,tableSort:w,setTableSort:D,allColumns:g,selectedColumns:S,setSelectedColumns:C,toggleColumns:A,traceInfos:R,tableFilterOptions:y}),K?(0,f.Y)(ut,{}):U?(0,f.Y)("div",{children:(0,f.Y)("pre",{children:String(U)})}):(0,f.Y)(Pn.tU,{makeHtml:l,children:(0,f.Y)(Pn._p,{experimentId:e,currentRunDisplayName:o,compareToRunDisplayName:P,compareToRunUuid:u,getTrace:at,getRunColor:b,assessmentInfos:m,setFilters:I,filters:M,selectedColumns:S,allColumns:g,tableSort:w,currentTraceInfoV3:R||[],compareToTraceInfoV3:N,onTraceTagsEdit:V})}),O]})})]})},dt=({experimentId:e,runUuid:n,runTags:t,runDisplayName:r,setCurrentRunUuid:o})=>{const i=Gn(t),a=Boolean(n),{data:s,isLoading:l}=(0,Pn.Ie)({runUuid:n||"",artifacts:i||void 0},{disabled:!a});return l?(0,f.Y)(ut,{}):!(0,T.isNil)(s)&&s.length>0?(0,f.Y)(rt,{experimentId:e,runUuid:n,runDisplayName:r,data:s,runTags:t}):(0,f.Y)(lt,{experimentId:e,runUuid:n,runDisplayName:r,setCurrentRunUuid:o})},ut=()=>{const{theme:e}=(0,i.u)();return(0,f.Y)("div",{css:(0,r.AH)({display:"block",marginTop:e.spacing.md,height:"100%",width:"100%"},""),children:[...Array(10).keys()].map((e=>(0,f.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))})},ct=(e,n)=>{const{data:t,isLoading:r}=(0,Pn.Zn)({experimentId:e,currentRunDisplayName:void 0,runUuid:n,disabled:(0,T.isNil)(n)}),{data:o,loading:i}=Xn({experimentIds:[e],filter:`attributes.runId = "${n}"`,disabled:(0,T.isNil)(n)});return{data:t,displayName:m.A.getRunDisplayName(null===o||void 0===o?void 0:o.info,n),loading:r||i}},mt=()=>(0,f.FD)(u.L,{children:[(0,f.Y)(o.TitleSkeleton,{loading:!0,label:(0,f.Y)(Y.A,{id:"ea5zBl",defaultMessage:"Run page loading"})}),[...Array(3).keys()].map((e=>(0,f.Y)(o.ParagraphSkeleton,{seed:`s-${e}`},e)))]}),gt=()=>{var e,n;const{runUuid:t,experimentId:s}=(0,c.g)(),h=(0,c.Zp)(),{theme:x}=(0,i.u)(),[b,_]=(0,d.useState)(!1),[S,A]=(0,d.useState)(!1);l()(t,"[RunPage] Run UUID route param not provided"),l()(s,"[RunPage] Experiment ID route param not provided");const{experiment:C,error:w,latestMetrics:D,loading:R,params:E,refetchRun:U,runInfo:L,tags:N,experimentFetchError:P,runFetchError:H,apiError:B,datasets:V,runInputs:O,runOutputs:z,registeredModelVersionSummaries:K}=(0,rn.g)({experimentId:s,runUuid:t}),[j,W]=(0,d.useMemo)((()=>D?[Object.keys(D).filter((e=>!(0,$.bw)(e))),Object.keys(D).filter((e=>(0,$.bw)(e)))]:[[],[]]),[D]),{comparedExperimentIds:G=[],hasComparedExperimentsBefore:q=!1}=(0,a.d4)((e=>e.comparedExperiments||{})),Z=I(),Q=(0,k.ht)(),X=((e,n,t,r,o=!0)=>{const i=(0,d.useMemo)((()=>{var e,n;const o=[...null!==(e=null===t||void 0===t?void 0:t.modelInputs)&&void 0!==e?e:[],...null!==(n=null===r||void 0===r?void 0:r.modelOutputs)&&void 0!==n?n:[]],i=(0,T.uniq)((0,T.compact)(o.map((({modelId:e})=>e))));if(!(0,T.isEmpty)(i))return`attributes.model_id IN (${i.map((e=>`'${e}'`)).join(",")})`}),[t,r]),a=o&&Boolean(i),{data:s,isLoading:l,error:u}=(0,En.e)({experimentIds:[e],searchQuery:i},{enabled:a});return{models:a?s:void 0,isLoading:a&&l,error:u}})(s,0,O,z,!Q),J=(({runInputs:e,runOutputs:n,enabled:t=!0})=>{const r=(0,d.useMemo)((()=>{var t,r;const o=[...null!==(t=null===e||void 0===e?void 0:e.modelInputs)&&void 0!==t?t:[],...null!==(r=null===n||void 0===n?void 0:n.modelOutputs)&&void 0!==r?r:[]],i=(0,T.uniq)((0,T.compact)(o.map((({modelId:e})=>e))));if(!(0,T.isEmpty)(i))return i}),[e,n]),o=t&&!(0,T.isEmpty)(r),{data:i,isLoading:a,error:s}=(0,kn.o)({modelIds:r},{enabled:o});return{models:i,isLoading:o&&a,error:s}})({runInputs:O,runOutputs:z,enabled:Q}),{error:ee,isLoading:ne,models:te}=Q?J:X,re=(0,v.Ub)(`(min-width: ${x.responsive.breakpoints.sm}px)`),oe=R&&(!L||!C);return H instanceof on.s&&H.getErrorCode()===ln.tG.RESOURCE_DOES_NOT_EXIST||(null===B||void 0===B?void 0:B.code)===ln.tG.RESOURCE_DOES_NOT_EXIST||w&&(0,Rn.b)(w).match(/not found$/)?(0,f.Y)(sn,{runId:t}):P instanceof on.s&&P.getErrorCode()===ln.tG.RESOURCE_DOES_NOT_EXIST?(0,f.Y)(dn.A,{}):H||P?null:(0,k.wD)()&&(w||B)?(0,f.Y)("div",{css:(0,r.AH)({marginTop:x.spacing.lg},""),children:(0,f.Y)(o.Empty,{title:(0,f.Y)(Y.A,{id:"XaC3qF",defaultMessage:"Can't load run details"}),description:(0,Rn.b)(null!==B&&void 0!==B?B:w),image:(0,f.Y)(i.l,{})})}):!oe&&L&&C?(0,f.FD)(f.FK,{children:[(0,f.FD)(u.L,{usesFullHeight:re,children:[(0,f.Y)(F,{comparedExperimentIds:G,experiment:C,handleRenameRunClick:()=>_(!0),handleDeleteRunClick:()=>A(!0),hasComparedExperimentsBefore:q,runDisplayName:m.A.getRunDisplayName(L,t),runTags:N,runParams:E,runUuid:t,artifactRootUri:null!==(e=null===L||void 0===L?void 0:L.artifactUri)&&void 0!==e?e:void 0,registeredModelVersionSummaries:K,isLoading:R||ne}),(0,f.Y)("div",{css:(0,r.AH)({flex:1,overflow:"auto",marginBottom:x.spacing.sm,display:"flex"},""),children:(()=>{var e;if(!L)return null;switch(Z){case g.N3.MODEL_METRIC_CHARTS:return(0,f.Y)(Dn,{mode:"model",metricKeys:j,runInfo:L,latestMetrics:D,tags:N,params:E},"model");case g.N3.SYSTEM_METRIC_CHARTS:return(0,f.Y)(Dn,{mode:"system",metricKeys:W,runInfo:L,latestMetrics:D,tags:N,params:E},"system");case g.N3.ARTIFACTS:return(0,f.Y)(y,{runUuid:t,runTags:N,runOutputs:z,experimentId:s,artifactUri:null!==(e=L.artifactUri)&&void 0!==e?e:void 0});case g.N3.TRACES:return(0,f.Y)(dt,{runUuid:t,runTags:N,experimentId:s,runDisplayName:m.A.getRunDisplayName(L,t)})}return(0,f.Y)(tn,{runInfo:L,tags:N,params:E,latestMetrics:D,runUuid:t,onRunDataUpdated:U,runInputs:O,runOutputs:z,datasets:V,registeredModelVersionSummaries:K,loggedModelsV3:te,isLoadingLoggedModels:ne,loggedModelsError:null!==ee&&void 0!==ee?ee:void 0})})()})]}),(0,f.Y)(p.j,{runUuid:t,onClose:()=>_(!1),runName:null!==(n=L.runName)&&void 0!==n?n:"",isOpen:b,onSuccess:U}),(0,f.Y)(un.A,{selectedRunIds:[t],onClose:()=>A(!1),isOpen:S,onSuccess:()=>{h(M.Ay.getExperimentPageRoute(s))}})]}):(0,f.Y)(mt,{})};var pt=gt},26626:function(e,n,t){t.d(n,{b:function(){return o}});var r=t(74823);const o=e=>{if(e)return e instanceof r.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.toString())).join(", "):"message"in e?e.message:e.toString()}},33946:function(e,n,t){var r=t(31014),o=t(97026),i=t(26809),a=t(10811),s=t(76010),l=t(64912),d=t(50111);class u extends r.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(){const e=[];return this.props.selectedRunIds.forEach((n=>{e.push(this.props.deleteRunApi(n))})),Promise.all(e).catch((()=>{const e=`${this.props.intl.formatMessage({id:"tdmVWN",defaultMessage:"While deleting an experiment run, an error occurred."})}`;this.props.openErrorModal(e)})).then((()=>{var e,n;null===(e=(n=this.props).onSuccess)||void 0===e||e.call(n)}))}render(){const e=this.props.selectedRunIds.length;return(0,d.Y)(o.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment ${s.A.pluralize("Run",e)}`,helpText:(0,d.FD)("div",{children:[(0,d.Y)("p",{children:(0,d.FD)("b",{children:[e," experiment ",s.A.pluralize("run",e)," will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const c={deleteRunApi:i.IX,openErrorModal:i.Yi};n.A=(0,a.Ng)(null,c)((0,l.Ay)(u))},38299:function(e,n,t){t.d(n,{S:function(){return L}});var r=t(89555),o=t(31014),i=t(13369),a=t(59403),s=t(23823),l=t(68048),d=t(88443),u=t(4877),c=t.n(u),m=t(50111);function g({children:e}){const{theme:n}=(0,a.u)();return(0,m.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",gap:n.spacing.sm},""),children:e})}const p=(0,o.createContext)(null);function h({children:e,...n}){return(0,m.Y)(p.Provider,{value:n,children:e})}function v(){const e=(0,o.useContext)(p);return c()(e,"useTagAssignmentContext must be used within a TagAssignmentRoot"),e}function f({children:e,...n}){const t=(0,i.xW)(),r=(0,m.Y)(h,{...n,children:(0,m.Y)(g,{children:e})});return t?r:(c()(n.form,"Nest your component on a FormProvider or pass a form prop"),(0,m.Y)(i.Op,{...n.form,children:r}))}function y({children:e}){const{theme:n}=(0,a.u)(),t=o.Children.toArray(e);c()(t.length<=3,"TagAssignmentRow must have 3 children or less");const i=Array(3).fill(null).map(((e,r)=>{var o;return null!==(o=t[r])&&void 0!==o?o:(0,m.Y)("span",{style:{width:n.general.heightSm}},r)}));return(0,m.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:"1fr 1fr min-content",gap:n.spacing.sm},""),children:i})}function Y({children:e}){return(0,m.Y)(a.T.Text,{bold:!0,children:e})}var x=t(70169);var M={name:"82a6rk",styles:"flex:1"};const I=(0,o.forwardRef)((({errorMessage:e,...n},t)=>(0,m.FD)("div",{css:M,children:[(0,m.Y)(x.I,{validationState:e?"error":"info",...n,ref:t}),e&&(0,m.Y)(l.FormUI.Message,{message:e,type:"error"})]})));function b({index:e,rules:n,render:t}){const{name:r,keyProperty:o,getTagsValues:a,emptyValue:s,appendIfPossible:l}=v();return(0,m.Y)(i.xI,{name:`${r}.${e}.${o}`,rules:n,render:({field:e,fieldState:n,formState:r})=>{var i;const d=e.onChange;return e.onChange=function(e){var n;d(e);const t=a();null!==t&&void 0!==t&&null!==(n=t.at(-1))&&void 0!==n&&n[o]&&l(s,{shouldFocus:!1})},t?t({field:e,fieldState:n,formState:r}):(0,m.Y)(I,{componentId:"TagAssignmentKey.Default.Input",errorMessage:null===(i=n.error)||void 0===i?void 0:i.message,...e})}})}function _({rules:e,index:n,render:t}){const{name:r,valueProperty:o}=v();return(0,m.Y)(i.xI,{rules:e,name:`${r}.${n}.${o}`,render:({field:e,fieldState:n,formState:r})=>{var o;return t?t({field:e,fieldState:n,formState:r}):(0,m.Y)(I,{componentId:"TagAssignmentValue.Default.Input",errorMessage:null===(o=n.error)||void 0===o?void 0:o.message,...e})}})}function T(e){return(0,m.Y)(a.B,{icon:(0,m.Y)(l.TrashIcon,{}),...e})}function S({index:e,...n}){const{removeOrUpdate:t}=v();return(0,m.Y)(T,{onClick:()=>t(e),...n})}var A=t(88464);function C(e,n){if(void 0!==e)return 0===e&&c()(!1,"maxLength must be greater than 0"),{maxLength:{value:e,message:n.formatMessage({id:"JW0GbU",defaultMessage:"You can set a maximum of {maxLength} values"},{maxLength:e})}}}function w({name:e,maxLength:n,emptyValue:t,defaultValues:r,loading:a,form:s,keyProperty:l,valueProperty:d}){const[u]=(0,o.useState)(t),m=(0,i.xW)(),g=Boolean(m)&&!s,p=g?m:s;c()(p,"Nest your component on a FormProvider or pass a form prop"),c()(!(r&&g),"Define defaultValues at form context level");const{setValue:h}=p,v=function({name:e,maxLength:n,emptyValue:t,form:r,keyProperty:a}){const s=(0,A.A)(),l=(0,i.xW)(),d=Boolean(l)&&!r?l:r;c()(d,"Nest your component on a FormProvider or pass a form prop");const[u]=(0,o.useState)(t),{append:m,update:g,remove:p,...h}=(0,i.jz)({name:e,control:d.control,rules:C(n,s)}),{getValues:v}=d,f=(0,o.useCallback)((()=>v(e)),[v,e]),y=(0,o.useCallback)(((e,t)=>{const r=f();n&&r&&r.length>=n||m(e,t)}),[f,n,m]),Y=(0,o.useCallback)((e=>{const n=f();if(n&&e===n.length-1)return g(e,u);const t=null===n||void 0===n?void 0:n.at(-1);if(null!==t&&void 0!==t&&t[a])return p(e),void m(u,{shouldFocus:!1});p(e)}),[u,f,a,m,p,g]);return{form:d,...h,originalAppend:m,update:g,originalRemove:p,appendIfPossible:y,removeOrUpdate:Y,getTagsValues:f}}({name:e,maxLength:n,emptyValue:t,form:p,keyProperty:l}),f=v.getTagsValues;return(0,o.useEffect)((()=>{if(!a){if(r){const t=[...r];return(!n||n&&t.length<n)&&t.push(u),void h(e,t)}if(g){var t;const r=null!==(t=f())&&void 0!==t?t:[];return(!n||n&&r.length<n)&&r.push(u),void h(e,r)}h(e,[u])}}),[r,h,a,n,e,u,g,f]),{...v,form:p,maxLength:n,emptyValue:t,name:e,keyProperty:l,valueProperty:d}}const D="value",R=({form:e,name:n,initialTags:t})=>{const r=(0,A.A)(),o=w({name:n,emptyValue:{key:"",value:""},keyProperty:"key",valueProperty:D,form:e,defaultValues:t});return(0,m.FD)(f,{...o,children:[(0,m.FD)(y,{children:[(0,m.Y)(Y,{children:(0,m.Y)(d.A,{id:"h2SXjO",defaultMessage:"Key"})}),(0,m.Y)(Y,{children:(0,m.Y)(d.A,{id:"6yjymQ",defaultMessage:"Value"})})]}),o.fields.map(((e,n)=>(0,m.FD)(y,{children:[(0,m.Y)(b,{index:n,rules:{validate:{unique:e=>{const t=o.getTagsValues();return(null===t||void 0===t?void 0:t.findIndex((n=>n.key===e)))===n||r.formatMessage({id:"sLBHQp",defaultMessage:"Key must be unique"})},required:e=>{var t;const i=o.getTagsValues();return!(null!==i&&void 0!==i&&null!==(t=i.at(n))&&void 0!==t&&t[D]&&!e)||r.formatMessage({id:"J45Atg",defaultMessage:"Key is required if value is present"})}}}}),(0,m.Y)(_,{index:n}),(0,m.Y)(S,{index:n,componentId:"endpoint-tags-section.remove-button"})]},e.id)))]})},E="key",k="value",U="tags",F={key:"",value:""},L=({componentIdPrefix:e,title:n,visible:t,initialTags:u,isLoading:c=!1,error:g,onSubmit:p,onSuccess:h,onClose:v})=>{const f=`${e}.tag-assignment-modal`,[y,Y]=(0,o.useState)(!1),{theme:x}=(0,a.u)(),M=(0,i.mN)({mode:"onChange"}),I=()=>{Y(!1),M.reset({[U]:[F]}),null===v||void 0===v||v()},b=(0,m.Y)(d.A,{id:"AGWpnl",defaultMessage:"Add tags"});return{TagAssignmentModal:(0,m.FD)(s.d,{componentId:`${f}`,title:null!==n&&void 0!==n?n:b,visible:null!==t&&void 0!==t?t:y,destroyOnClose:!0,onCancel:I,footer:(0,m.FD)(m.FK,{children:[(0,m.Y)(a.B,{componentId:`${f}.submit-button`,onClick:I,disabled:c,children:(0,m.Y)(d.A,{id:"awekbG",defaultMessage:"Cancel"})}),(0,m.Y)(a.B,{componentId:`${f}.submit-button`,type:"primary",onClick:M.handleSubmit((e=>{var n,t;const r=e[U].filter((e=>Boolean(e[E]))),o=null!==(n=r.filter((e=>!(null!==u&&void 0!==u&&u.some((n=>n[E]===e[E]&&n[k]===e[k]))))))&&void 0!==n?n:[],i=null!==(t=null===u||void 0===u?void 0:u.filter((e=>!r.some((n=>n[E]===e[E]&&n[k]===e[k])))))&&void 0!==t?t:[];p(o,i).then((()=>{I(),null===h||void 0===h||h()}))})),loading:c,disabled:c,children:(0,m.Y)(d.A,{id:"C6ReUY",defaultMessage:"Save"})})]}),children:[g&&(0,m.Y)(l.Alert,{type:"error",message:g,componentId:`${f}.error`,closable:!1,css:(0,r.AH)({marginBottom:x.spacing.sm},"")}),(0,m.Y)(R,{name:U,form:M,initialTags:u})]}),showTagAssignmentModal:()=>{Y(!0)},hideTagAssignmentModal:I}}},40029:function(e,n,t){t.d(n,{I:function(){return c}});var r=t(89555),o=t(31014),i=t(62758),a=t(88464),s=t(59403),l=t(70169),d=t(76137),u=t(50111);const c=({chartsSearchFilter:e})=>{const n=(0,i.g_)(),{theme:t}=(0,s.u)(),[c,m]=(0,o.useState)((()=>null!==e&&void 0!==e?e:"")),[g,p]=(0,o.useState)(!1),{formatMessage:h}=(0,a.A)(),v=(0,o.useCallback)((e=>{n((n=>({...n,chartsSearchFilter:e}))),p(!1)}),[n]),f=(0,d.YQ)(v,150);return(0,u.Y)(l.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_runs-charts_components_runschartsfilterinput.tsx_30",role:"searchbox",prefix:(0,u.Y)("div",{css:(0,r.AH)({width:t.general.iconFontSize,lineHeight:0},""),children:g?(0,u.Y)(s.S,{size:"small"}):(0,u.Y)(l.S,{})}),value:c,allowClear:!0,onChange:e=>{m(e.target.value),p(!0),f(e.target.value)},placeholder:h({id:"Xs1oJm",defaultMessage:"Search metric charts"})})}},48588:function(e,n,t){t.d(n,{L:function(){return a}});t(31014);var r=t(68048),o=t(23823),i=t(50111);function a(e){const{usesFullHeight:n,...t}=e;return(0,i.FD)(r.PageWrapper,{css:n?s.useFullHeightLayout:s.wrapper,children:[(0,i.Y)(o.S,{css:s.fixedSpacer}),n?e.children:(0,i.Y)("div",{...t,css:s.container})]})}a.defaultProps={usesFullHeight:!1};const s={useFullHeightLayout:{height:"calc(100% - 60px)",display:"flex",flexDirection:"column","&:last-child":{flexGrow:1}},wrapper:{flex:1},fixedSpacer:{flexShrink:0},container:{width:"100%",flexGrow:1,paddingBottom:24}}},53677:function(e,n,t){t.d(n,{j:function(){return p}});var r=t(31014),o=t(10811),i=t(64912),a=t(67245),s=t(58645),l=t(26809),d=t(7204),u=t(50111);class c extends r.Component{constructor(...e){super(...e),this.formRef=r.createRef(),this.handleRenameRun=e=>{const n=e[s.m],t=(0,d.yk)();return this.props.updateRunApi(this.props.runUuid,n,t).then((()=>{var e,n;return null===(e=(n=this.props).onSuccess)||void 0===e?void 0:e.call(n)}))}}render(){const{isOpen:e=!1,runName:n}=this.props;return(0,u.Y)(a.B,{title:this.props.intl.formatMessage({id:"+Dnww0",defaultMessage:"Rename Run"}),okText:this.props.intl.formatMessage({id:"7NKkk1",defaultMessage:"Save"}),isOpen:e,handleSubmit:this.handleRenameRun,onClose:this.props.onClose,children:(0,u.Y)(s.P,{type:"run",name:n,innerRef:this.formRef,visible:e,validator:async(e,n)=>{if("string"===typeof n&&n.length&&!n.trim())throw new Error(this.props.intl.formatMessage({id:"ze1m7Z",defaultMessage:"Run name cannot consist only of whitespace!"}));return!0}})})}}const m={updateRunApi:l.FZ},g=(0,i.Ay)(c),p=(0,o.Ng)(void 0,m)(g)},55999:function(e,n,t){t.d(n,{L:function(){return l}});var r=t(76010),o=t(26809),i=t(25866),a=t(31014),s=t(10811);const l=({runUuids:e,runUuidsIsActive:n,autoRefreshEnabled:t,enabled:l})=>{const d=(0,s.wA)(),u=e.slice(0,i.Lf).join(",");(0,a.useEffect)((()=>{l&&!t&&u.split(",").forEach((e=>{e&&d((0,o.LN)(e))}))}),[u,d,t,l]);const c=(0,a.useRef)(void 0),m=(0,a.useRef)(t&&l);m.current=t;const g=n.slice(0,i.Lf).join(",");(0,a.useEffect)((()=>{let e=!1;if(!l||!t)return;const n=async e=>{const n=u.split(","),t=g.split(",");(e?n.filter(((e,n)=>"true"===t[n])):n).forEach((n=>{n&&d((0,o.LN)(n,e))}))},a=async()=>{if(m.current&&!e){try{await n(!0)}catch(t){r.A.logErrorAndNotifyUser(t)}clearTimeout(c.current),m.current&&!e&&(c.current=window.setTimeout(a,i.zD))}};return n(!1).then(a),()=>{n(!0),e=!0,clearTimeout(c.current)}}),[d,u,g,t,l])}},64558:function(e,n,t){var r=t(31014),o=t(50111);class i extends r.Component{render(){return(0,o.Y)("div",{children:"Resource not found."})}}n.A=i},72661:function(e,n,t){t.d(n,{o:function(){return l}});var r=t(41261),o=t(8986),i=t(9133),a=t(53962);const s=async({queryKey:[,e]})=>{const n=(0,i.chunk)(e,100);return Promise.all(n.map((e=>{const n=new URLSearchParams;for(const t of e)n.append("model_ids",t);return(0,o.G)((0,a.we)(`ajax-api/2.0/mlflow/logged-models:batchGet?${n.toString()}`),"GET")})))},l=({modelIds:e},n)=>{const{data:t,isLoading:o,isFetching:i,refetch:a,error:l}=(0,r.I)({queryKey:(d=null!==e&&void 0!==e?e:[],["GET_LOGGED_MODELS",d]),queryFn:s,select:e=>null===e||void 0===e?void 0:e.flatMap((e=>(null===e||void 0===e?void 0:e.models)||[])),retry:!1,...n});var d;return{isLoading:o,isFetching:i,data:t,refetch:a,error:l}}}}]);
//# sourceMappingURL=5293.35c80ee2.chunk.js.map