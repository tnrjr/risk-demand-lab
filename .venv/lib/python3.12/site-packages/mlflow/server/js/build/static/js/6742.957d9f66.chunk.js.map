{"version":3,"file":"static/js/6742.957d9f66.chunk.js","mappings":"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","sources":["experiment-tracking/pages/prompts/components/PromptsListTableVersionCell.tsx","experiment-tracking/pages/prompts/hooks/useUpdateRegisteredPromptTags.tsx","experiment-tracking/pages/prompts/hooks/usePromptsListQuery.tsx","experiment-tracking/pages/prompts/components/PromptsListFilters.tsx","experiment-tracking/pages/prompts/components/PromptsListTableTagsCell.tsx","experiment-tracking/pages/prompts/components/PromptsListTableNameCell.tsx","experiment-tracking/pages/prompts/components/PromptsListTable.tsx","experiment-tracking/pages/prompts/PromptsPage.tsx","experiment-tracking/pages/prompts/components/PromptPageErrorHandler.tsx","../node_modules/use-debounce/src/useDebouncedCallback.ts","../node_modules/use-debounce/src/useDebounce.ts"],"sourcesContent":["import { Typography } from '@databricks/design-system';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { FormattedMessage } from 'react-intl';\n\nexport const PromptsListTableVersionCell: ColumnDef<any>['cell'] = ({ row: { original }, getValue }) => {\n  const version = getValue<string>();\n\n  if (!version) {\n    return null;\n  }\n  return (\n    <Typography.Text>\n      <FormattedMessage\n        defaultMessage=\"Version {version}\"\n        description=\"Label for the version of a registered prompt in the registered prompts table\"\n        values={{\n          version,\n        }}\n      />\n    </Typography.Text>\n  );\n};\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { useEditKeyValueTagsModal } from '../../../../common/hooks/useEditKeyValueTagsModal';\nimport { RegisteredPromptsApi } from '../api';\nimport { RegisteredPrompt } from '../types';\nimport { useCallback } from 'react';\nimport { diffCurrentAndNewTags, isUserFacingTag } from '../../../../common/utils/TagUtils';\n\ntype UpdateTagsPayload = {\n  promptId: string;\n  toAdd: { key: string; value: string }[];\n  toDelete: { key: string }[];\n};\n\nexport const useUpdateRegisteredPromptTags = ({ onSuccess }: { onSuccess?: () => void }) => {\n  const updateMutation = useMutation<unknown, Error, UpdateTagsPayload>({\n    mutationFn: async ({ toAdd, toDelete, promptId }) => {\n      return Promise.all([\n        ...toAdd.map(({ key, value }) => RegisteredPromptsApi.setRegisteredPromptTag(promptId, key, value)),\n        ...toDelete.map(({ key }) => RegisteredPromptsApi.deleteRegisteredPromptTag(promptId, key)),\n      ]);\n    },\n  });\n\n  const { EditTagsModal, showEditTagsModal, isLoading } = useEditKeyValueTagsModal<\n    Pick<RegisteredPrompt, 'name' | 'tags'>\n  >({\n    valueRequired: true,\n    saveTagsHandler: (prompt, currentTags, newTags) => {\n      const { addedOrModifiedTags, deletedTags } = diffCurrentAndNewTags(currentTags, newTags);\n\n      return new Promise<void>((resolve, reject) => {\n        if (!prompt.name) {\n          return reject();\n        }\n        // Send all requests to the mutation\n        updateMutation.mutate(\n          {\n            promptId: prompt.name,\n            toAdd: addedOrModifiedTags,\n            toDelete: deletedTags,\n          },\n          {\n            onSuccess: () => {\n              resolve();\n              onSuccess?.();\n            },\n            onError: reject,\n          },\n        );\n      });\n    },\n  });\n\n  const showEditPromptTagsModal = useCallback(\n    (prompt: RegisteredPrompt) =>\n      showEditTagsModal({\n        name: prompt.name,\n        tags: prompt.tags.filter((tag) => isUserFacingTag(tag.key)),\n      }),\n    [showEditTagsModal],\n  );\n\n  return { EditTagsModal, showEditPromptTagsModal, isLoading };\n};\n","import { useQuery, QueryFunctionContext } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { useCallback, useRef, useState } from 'react';\nimport { RegisteredPromptsListResponse } from '../types';\nimport { RegisteredPromptsApi } from '../api';\n\nconst queryFn = ({ queryKey }: QueryFunctionContext<PromptsListQueryKey>) => {\n  const [, { searchFilter, pageToken }] = queryKey;\n  return RegisteredPromptsApi.listRegisteredPrompts(searchFilter, pageToken);\n};\n\ntype PromptsListQueryKey = ['prompts_list', { searchFilter?: string; pageToken?: string }];\n\nexport const usePromptsListQuery = ({\n  searchFilter,\n}: {\n  searchFilter?: string;\n} = {}) => {\n  const previousPageTokens = useRef<(string | undefined)[]>([]);\n\n  const [currentPageToken, setCurrentPageToken] = useState<string | undefined>(undefined);\n\n  const queryResult = useQuery<\n    RegisteredPromptsListResponse,\n    Error,\n    RegisteredPromptsListResponse,\n    PromptsListQueryKey\n  >(['prompts_list', { searchFilter, pageToken: currentPageToken }], {\n    queryFn,\n    retry: false,\n  });\n\n  const onNextPage = useCallback(() => {\n    previousPageTokens.current.push(currentPageToken);\n    setCurrentPageToken(queryResult.data?.next_page_token);\n  }, [queryResult.data?.next_page_token, currentPageToken]);\n\n  const onPreviousPage = useCallback(() => {\n    const previousPageToken = previousPageTokens.current.pop();\n    setCurrentPageToken(previousPageToken);\n  }, []);\n\n  return {\n    data: queryResult.data?.registered_models,\n    error: queryResult.error ?? undefined,\n    isLoading: queryResult.isLoading,\n    hasNextPage: queryResult.data?.next_page_token !== undefined,\n    hasPreviousPage: Boolean(currentPageToken),\n    onNextPage,\n    onPreviousPage,\n    refetch: queryResult.refetch,\n  };\n};\n","import { TableFilterInput, TableFilterLayout } from '@databricks/design-system';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { ModelSearchInputHelpTooltip } from '../../../../model-registry/components/model-list/ModelListFilters';\n\nexport const PromptsListFilters = ({\n  searchFilter,\n  onSearchFilterChange,\n}: {\n  searchFilter: string;\n  onSearchFilterChange: (searchFilter: string) => void;\n}) => {\n  return (\n    <TableFilterLayout>\n      <TableFilterInput\n        placeholder=\"Search prompts by name\"\n        componentId=\"mlflow.prompts.list.search\"\n        value={searchFilter}\n        onChange={(e) => onSearchFilterChange(e.target.value)}\n        // TODO: Add this back once we support searching with tags\n        // suffix={<ModelSearchInputHelpTooltip exampleEntityName=\"my-prompt-name\" />}\n      />\n    </TableFilterLayout>\n  );\n};\n","import { ColumnDef } from '@tanstack/react-table';\nimport { RegisteredPrompt } from '../types';\nimport { Button, PencilIcon } from '@databricks/design-system';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { isUserFacingTag } from '../../../../common/utils/TagUtils';\nimport { PromptsTableMetadata } from '../utils';\nimport { KeyValueTag } from '../../../../common/components/KeyValueTag';\n\nexport const PromptsListTableTagsCell: ColumnDef<RegisteredPrompt>['cell'] = ({\n  row: { original },\n  table: {\n    options: { meta },\n  },\n}) => {\n  const intl = useIntl();\n\n  const { onEditTags } = meta as PromptsTableMetadata;\n\n  const visibleTagList = original?.tags?.filter((tag) => isUserFacingTag(tag.key)) || [];\n  const containsTags = visibleTagList.length > 0;\n\n  return (\n    <div css={{ display: 'flex' }}>\n      <div css={{ overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', display: 'flex' }}>\n        {visibleTagList?.map((tag) => (\n          <KeyValueTag key={tag.key} tag={tag} />\n        ))}\n      </div>\n      <Button\n        componentId=\"mlflow.prompts.list.tag.add\"\n        size=\"small\"\n        icon={!containsTags ? undefined : <PencilIcon />}\n        onClick={() => onEditTags?.(original)}\n        aria-label={intl.formatMessage({\n          defaultMessage: 'Edit tags',\n          description: 'Label for the edit tags button in the registered prompts table',\n        })}\n        children={\n          !containsTags ? (\n            <FormattedMessage\n              defaultMessage=\"Add tags\"\n              description=\"Label for the add tags button in the registered prompts table\"\n            />\n          ) : undefined\n        }\n        css={{\n          flexShrink: 0,\n          opacity: 0,\n          '[role=row]:hover &': {\n            opacity: 1,\n          },\n          '[role=row]:focus-within &': {\n            opacity: 1,\n          },\n        }}\n        type=\"tertiary\"\n      />\n    </div>\n  );\n};\n","import { ColumnDef } from '@tanstack/react-table';\nimport { Link } from '../../../../common/utils/RoutingUtils';\nimport Routes from '../../../routes';\nimport { RegisteredPrompt } from '../types';\n\nexport const PromptsListTableNameCell: ColumnDef<RegisteredPrompt>['cell'] = ({ row: { original }, getValue }) => {\n  const name = getValue<string>();\n\n  if (!original.name) {\n    return name;\n  }\n  return <Link to={Routes.getPromptDetailsPageRoute(encodeURIComponent(original.name))}>{name}</Link>;\n};\n","import {\n  CursorPagination,\n  Empty,\n  NoIcon,\n  Table,\n  TableCell,\n  TableHeader,\n  TableRow,\n  TableSkeletonRows,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { ColumnDef, flexRender, getCoreRowModel, useReactTable } from '@tanstack/react-table';\nimport { useMemo } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { RegisteredPrompt } from '../types';\nimport { PromptsListTableTagsCell } from './PromptsListTableTagsCell';\nimport { PromptsListTableNameCell } from './PromptsListTableNameCell';\nimport Utils from '../../../../common/utils/Utils';\nimport { PromptsListTableVersionCell } from './PromptsListTableVersionCell';\nimport { PromptsTableMetadata } from '../utils';\nimport { first, isEmpty } from 'lodash';\n\ntype PromptsTableColumnDef = ColumnDef<RegisteredPrompt>;\n\nconst usePromptsTableColumns = () => {\n  const intl = useIntl();\n  return useMemo(() => {\n    const resultColumns: PromptsTableColumnDef[] = [\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Name',\n          description: 'Header for the name column in the registered prompts table',\n        }),\n        accessorKey: 'name',\n        id: 'name',\n        cell: PromptsListTableNameCell,\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Latest version',\n          description: 'Header for the latest version column in the registered prompts table',\n        }),\n        cell: PromptsListTableVersionCell,\n        accessorFn: ({ latest_versions }) => first(latest_versions)?.version,\n        id: 'latestVersion',\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Last modified',\n          description: 'Header for the last modified column in the registered prompts table',\n        }),\n        id: 'lastModified',\n        accessorFn: ({ last_updated_timestamp }) => Utils.formatTimestamp(last_updated_timestamp, intl),\n      },\n      {\n        header: intl.formatMessage({\n          defaultMessage: 'Tags',\n          description: 'Header for the tags column in the registered prompts table',\n        }),\n        accessorKey: 'tags',\n        id: 'tags',\n        cell: PromptsListTableTagsCell,\n      },\n    ];\n\n    return resultColumns;\n  }, [intl]);\n};\n\nexport const PromptsListTable = ({\n  prompts,\n  hasNextPage,\n  hasPreviousPage,\n  isLoading,\n  isFiltered,\n  onNextPage,\n  onPreviousPage,\n  onEditTags,\n}: {\n  prompts?: RegisteredPrompt[];\n  error?: Error;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n  isLoading?: boolean;\n  isFiltered?: boolean;\n  onNextPage: () => void;\n  onPreviousPage: () => void;\n  onEditTags: (editedEntity: RegisteredPrompt) => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const columns = usePromptsTableColumns();\n\n  const table = useReactTable({\n    data: prompts ?? [],\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getRowId: (row, index) => row.name ?? index.toString(),\n    meta: { onEditTags } satisfies PromptsTableMetadata,\n  });\n\n  const getEmptyState = () => {\n    const isEmptyList = !isLoading && isEmpty(prompts);\n    if (isEmptyList && isFiltered) {\n      return (\n        <Empty\n          image={<NoIcon />}\n          title={\n            <FormattedMessage\n              defaultMessage=\"No prompts found\"\n              description=\"Label for the empty state in the prompts table when no prompts are found\"\n            />\n          }\n          description={null}\n        />\n      );\n    }\n    if (isEmptyList) {\n      return (\n        <Empty\n          title={\n            <FormattedMessage\n              defaultMessage=\"No prompts created\"\n              description=\"A header for the empty state in the prompts table\"\n            />\n          }\n          description={\n            <FormattedMessage\n              defaultMessage='Use \"Create prompt\" button in order to create a new prompt'\n              description=\"Guidelines for the user on how to create a new prompt in the prompts list page\"\n            />\n          }\n        />\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <Table\n      scrollable\n      pagination={\n        <CursorPagination\n          hasNextPage={hasNextPage}\n          hasPreviousPage={hasPreviousPage}\n          onNextPage={onNextPage}\n          onPreviousPage={onPreviousPage}\n          componentId=\"mlflow.prompts.list.pagination\"\n        />\n      }\n      empty={getEmptyState()}\n    >\n      <TableRow isHeader>\n        {table.getLeafHeaders().map((header) => (\n          <TableHeader componentId=\"mlflow.prompts.list.table.header\" key={header.id}>\n            {flexRender(header.column.columnDef.header, header.getContext())}\n          </TableHeader>\n        ))}\n      </TableRow>\n      {isLoading ? (\n        <TableSkeletonRows table={table} />\n      ) : (\n        table.getRowModel().rows.map((row) => (\n          <TableRow key={row.id} css={{ height: theme.general.buttonHeight }}>\n            {row.getAllCells().map((cell) => (\n              <TableCell key={cell.id} css={{ alignItems: 'center' }}>\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\n              </TableCell>\n            ))}\n          </TableRow>\n        ))\n      )}\n    </Table>\n  );\n};\n","import { ScrollablePageWrapper } from '@mlflow/mlflow/src/common/components/ScrollablePageWrapper';\nimport { usePromptsListQuery } from './hooks/usePromptsListQuery';\nimport { Alert, Button, Header, Spacer } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { useState } from 'react';\nimport { PromptsListFilters } from './components/PromptsListFilters';\nimport { PromptsListTable } from './components/PromptsListTable';\nimport { useUpdateRegisteredPromptTags } from './hooks/useUpdateRegisteredPromptTags';\nimport { CreatePromptModalMode, useCreatePromptModal } from './hooks/useCreatePromptModal';\nimport Routes from '../../routes';\nimport { useNavigate } from '../../../common/utils/RoutingUtils';\nimport { withErrorBoundary } from '../../../common/utils/withErrorBoundary';\nimport ErrorUtils from '../../../common/utils/ErrorUtils';\nimport { PromptPageErrorHandler } from './components/PromptPageErrorHandler';\nimport { useDebounce } from 'use-debounce';\n\nconst PromptsPage = () => {\n  const [searchFilter, setSearchFilter] = useState('');\n  const navigate = useNavigate();\n\n  const [debouncedSearchFilter] = useDebounce(searchFilter, 500);\n\n  const { data, error, refetch, hasNextPage, hasPreviousPage, isLoading, onNextPage, onPreviousPage } =\n    usePromptsListQuery({ searchFilter: debouncedSearchFilter });\n\n  const { EditTagsModal, showEditPromptTagsModal } = useUpdateRegisteredPromptTags({ onSuccess: refetch });\n  const { CreatePromptModal, openModal: openCreateVersionModal } = useCreatePromptModal({\n    mode: CreatePromptModalMode.CreatePrompt,\n    onSuccess: ({ promptName }) => navigate(Routes.getPromptDetailsPageRoute(promptName)),\n  });\n\n  return (\n    <ScrollablePageWrapper css={{ overflow: 'hidden', display: 'flex', flexDirection: 'column' }}>\n      <Spacer shrinks={false} />\n      <Header\n        title={<FormattedMessage defaultMessage=\"Prompts\" description=\"Header title for the registered prompts page\" />}\n        buttons={\n          <Button componentId=\"mlflow.prompts.list.create\" type=\"primary\" onClick={openCreateVersionModal}>\n            <FormattedMessage\n              defaultMessage=\"Create prompt\"\n              description=\"Label for the create prompt button on the registered prompts page\"\n            />\n          </Button>\n        }\n      />\n      <Spacer shrinks={false} />\n      <div css={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\n        <PromptsListFilters searchFilter={searchFilter} onSearchFilterChange={setSearchFilter} />\n        {error?.message && (\n          <>\n            <Alert type=\"error\" message={error.message} componentId=\"mlflow.prompts.list.error\" closable={false} />\n            <Spacer />\n          </>\n        )}\n        <PromptsListTable\n          prompts={data}\n          error={error}\n          hasNextPage={hasNextPage}\n          hasPreviousPage={hasPreviousPage}\n          isLoading={isLoading}\n          isFiltered={Boolean(searchFilter)}\n          onNextPage={onNextPage}\n          onPreviousPage={onPreviousPage}\n          onEditTags={showEditPromptTagsModal}\n        />\n      </div>\n      {EditTagsModal}\n      {CreatePromptModal}\n    </ScrollablePageWrapper>\n  );\n};\n\nexport default withErrorBoundary(ErrorUtils.mlflowServices.EXPERIMENTS, PromptsPage, undefined, PromptPageErrorHandler);\n","import { DangerIcon, Empty } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { ScrollablePageWrapper } from '../../../../common/components/ScrollablePageWrapper';\n\nexport const PromptPageErrorHandler = ({ error }: { error?: Error }) => {\n  return (\n    <ScrollablePageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Error\"\n            description=\"Title for error fallback component in prompts management UI\"\n          />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in prompts management UI\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </ScrollablePageWrapper>\n  );\n};\n","import { useRef, useEffect, useMemo } from 'react';\n\nexport interface CallOptions {\n  /**\n   * Controls if the function should be invoked on the leading edge of the timeout.\n   */\n  leading?: boolean;\n  /**\n   * Controls if the function should be invoked on the trailing edge of the timeout.\n   */\n  trailing?: boolean;\n}\n\nexport interface Options extends CallOptions {\n  /**\n   * The maximum time the given function is allowed to be delayed before it's invoked.\n   */\n  maxWait?: number;\n  /**\n   * If the setting is set to true, all debouncing and timers will happen on the server side as well\n   */\n  debounceOnServer?: boolean;\n}\n\nexport interface ControlFunctions<ReturnT> {\n  /**\n   * Cancel pending function invocations\n   */\n  cancel: () => void;\n  /**\n   * Immediately invoke pending function invocations\n   */\n  flush: () => ReturnT | undefined;\n  /**\n   * Returns `true` if there are any pending function invocations\n   */\n  isPending: () => boolean;\n}\n\n/**\n * Subsequent calls to the debounced function return the result of the last func invocation.\n * Note, that if there are no previous invocations you will get undefined. You should check it in your code properly.\n */\nexport interface DebouncedState<T extends (...args: any) => ReturnType<T>>\n  extends ControlFunctions<ReturnType<T>> {\n  (...args: Parameters<T>): ReturnType<T> | undefined;\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn.\n *\n * The debounced function comes with a `cancel` method to cancel delayed `func`\n * invocations and a `flush` method to immediately invoke them.\n *\n * Provide `options` to indicate whether `func` should be invoked on the leading\n * and/or trailing edge of the `wait` timeout. The `func` is invoked with the\n * last arguments provided to the debounced function.\n *\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Controls if `func` should be invoked on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Controls if `func` should be invoked the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.pending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback<\n  T extends (...args: any) => ReturnType<T>,\n>(func: T, wait?: number, options?: Options): DebouncedState<T> {\n  const lastCallTime = useRef(null);\n  const lastInvokeTime = useRef(0);\n  const timerId = useRef(null);\n  const lastArgs = useRef<unknown[]>([]);\n  const lastThis = useRef<unknown>();\n  const result = useRef<ReturnType<T>>();\n  const funcRef = useRef(func);\n  const mounted = useRef(true);\n  // Always keep the latest version of debounce callback, with no wait time.\n  funcRef.current = func;\n\n  const isClientSide = typeof window !== 'undefined';\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && isClientSide;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n\n  const leading = !!options.leading;\n  const trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n  const maxing = 'maxWait' in options;\n  const debounceOnServer =\n    'debounceOnServer' in options ? !!options.debounceOnServer : false; // `false` by default\n  const maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n  const debounced = useMemo(() => {\n    const invokeFunc = (time: number) => {\n      const args = lastArgs.current;\n      const thisArg = lastThis.current;\n\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      return (result.current = funcRef.current.apply(thisArg, args));\n    };\n\n    const startTimer = (pendingFunc: () => void, wait: number) => {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF\n        ? requestAnimationFrame(pendingFunc)\n        : setTimeout(pendingFunc, wait);\n    };\n\n    const shouldInvoke = (time: number) => {\n      if (!mounted.current) return false;\n\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (\n        !lastCallTime.current ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    };\n\n    const trailingEdge = (time: number) => {\n      timerId.current = null;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    const timerExpired = () => {\n      const time = Date.now();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // https://github.com/xnimorz/use-debounce/issues/97\n      if (!mounted.current) {\n        return;\n      }\n      // Remaining wait calculation\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n      const timeWaiting = wait - timeSinceLastCall;\n      const remainingWait = maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n\n      // Restart the timer\n      startTimer(timerExpired, remainingWait);\n    };\n\n    const func: DebouncedState<T> = (...args: Parameters<T>): ReturnType<T> => {\n      if (!isClientSide && !debounceOnServer) {\n        return;\n      }\n      const time = Date.now();\n      const isInvoking = shouldInvoke(time);\n\n      lastArgs.current = args;\n      lastThis.current = this;\n      lastCallTime.current = time;\n\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current;\n          // Start the timer for the trailing edge.\n          startTimer(timerExpired, wait);\n          // Invoke the leading edge.\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n      return result.current;\n    };\n\n    func.cancel = () => {\n      if (timerId.current) {\n        useRAF\n          ? cancelAnimationFrame(timerId.current)\n          : clearTimeout(timerId.current);\n      }\n      lastInvokeTime.current = 0;\n      lastArgs.current =\n        lastCallTime.current =\n        lastThis.current =\n        timerId.current =\n          null;\n    };\n\n    func.isPending = () => {\n      return !!timerId.current;\n    };\n\n    func.flush = () => {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [\n    leading,\n    maxing,\n    wait,\n    maxWait,\n    trailing,\n    useRAF,\n    isClientSide,\n    debounceOnServer,\n  ]);\n\n  return debounced;\n}\n","import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback, { DebouncedState } from './useDebouncedCallback';\n\nfunction valueEquality<T>(left: T, right: T): boolean {\n  return left === right;\n}\n\nexport default function useDebounce<T>(\n  value: T,\n  delay: number,\n  options?: {\n    maxWait?: number;\n    leading?: boolean;\n    trailing?: boolean;\n    equalityFn?: (left: T, right: T) => boolean;\n  }\n): [T, DebouncedState<(value: T) => void>] {\n  const eq = (options && options.equalityFn) || valueEquality;\n\n  const activeValue = useRef(value);\n  const [, forceUpdate] = useState({});\n  const debounced = useDebouncedCallback(\n    useCallback(\n      (value: T) => {\n        activeValue.current = value;\n        forceUpdate({});\n      },\n      [forceUpdate]\n    ),\n    delay,\n    options\n  );\n  const previousValue = useRef(value);\n\n  if (!eq(previousValue.current, value)) {\n    debounced(value);\n    previousValue.current = value;\n  }\n\n  return [activeValue.current as T, debounced];\n}\n"],"names":["PromptsListTableVersionCell","row","original","getValue","version","_jsx","Typography","Text","children","FormattedMessage","id","defaultMessage","values","useUpdateRegisteredPromptTags","onSuccess","updateMutation","useMutation","mutationFn","async","toAdd","toDelete","promptId","Promise","all","map","key","value","RegisteredPromptsApi","setRegisteredPromptTag","deleteRegisteredPromptTag","EditTagsModal","showEditTagsModal","isLoading","useEditKeyValueTagsModal","valueRequired","saveTagsHandler","prompt","currentTags","newTags","addedOrModifiedTags","deletedTags","diffCurrentAndNewTags","resolve","reject","name","mutate","onError","showEditPromptTagsModal","useCallback","tags","filter","tag","isUserFacingTag","queryFn","queryKey","searchFilter","pageToken","listRegisteredPrompts","PromptsListFilters","onSearchFilterChange","TableFilterLayout","TableFilterInput","placeholder","componentId","onChange","e","target","_ref","styles","_ref2","_ref3","PromptsListTableTagsCell","table","options","meta","_original$tags","intl","useIntl","onEditTags","visibleTagList","containsTags","length","_jsxs","css","KeyValueTag","Button","size","icon","PencilIcon","undefined","onClick","formatMessage","type","PromptsListTableNameCell","Link","to","Routes","getPromptDetailsPageRoute","encodeURIComponent","PromptsListTable","prompts","hasNextPage","hasPreviousPage","isFiltered","onNextPage","onPreviousPage","theme","useDesignSystemTheme","columns","usePromptsTableColumns","useMemo","header","accessorKey","cell","accessorFn","latest_versions","_first","first","last_updated_timestamp","Utils","formatTimestamp","useReactTable","data","getCoreRowModel","getRowId","index","_row$name","toString","Table","scrollable","pagination","CursorPagination","empty","getEmptyState","isEmptyList","isEmpty","Empty","image","NoIcon","title","description","TableRow","isHeader","getLeafHeaders","TableHeader","flexRender","column","columnDef","getContext","TableSkeletonRows","getRowModel","rows","_css","height","general","buttonHeight","getAllCells","TableCell","withErrorBoundary","ErrorUtils","mlflowServices","EXPERIMENTS","PromptsPage","setSearchFilter","useState","navigate","useNavigate","debouncedSearchFilter","useDebounce","error","refetch","usePromptsListQuery","_queryResult$data2","_queryResult$data3","_queryResult$error","_queryResult$data4","previousPageTokens","useRef","currentPageToken","setCurrentPageToken","queryResult","useQuery","retry","_queryResult$data","current","push","next_page_token","previousPageToken","pop","registered_models","Boolean","CreatePromptModal","openModal","openCreateVersionModal","useCreatePromptModal","mode","CreatePromptModalMode","CreatePrompt","promptName","ScrollablePageWrapper","Spacer","shrinks","Header","buttons","message","_Fragment","Alert","closable","PromptPageErrorHandler","_error$message","DangerIcon","c","u","i","a","r","o","f","l","v","m","d","g","p","window","w","TypeError","s","leading","x","trailing","h","y","debounceOnServer","F","Math","max","maxWait","n","A","t","apply","cancelAnimationFrame","requestAnimationFrame","setTimeout","Date","now","min","slice","call","arguments","cancel","clearTimeout","isPending","flush","equalityFn"],"sourceRoot":""}