"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[571],{10571:function(e,t,n){n.d(t,{O:function(){return Fe}});var o=n(89555),a=n(59403),i=n(31014),s=n(63528),r=n(69526),l=n(9133);const c="mlflow.traceName",d=(e,t)=>{var n,o;return null===(n=e.request_metadata)||void 0===n||null===(o=n.find((({key:e})=>e===t)))||void 0===o?void 0:o.value},u=e=>d(e,"mlflow.sourceRun"),m=e=>d(e,"total_tokens"),g=e=>{const t=d(e,"mlflow.traceInputs");if(!(0,l.isNil)(t))try{return JSON.stringify(JSON.parse(t))}catch(n){return t}},p=e=>{const t=d(e,"mlflow.traceOutputs");if(!(0,l.isNil)(t))try{return JSON.stringify(JSON.parse(t))}catch(n){return t}},h=(e,t)=>{var n,o,a;return Array.isArray(e.tags)?null===(o=e.tags)||void 0===o||null===(a=o.find((({key:e})=>e===t)))||void 0===a?void 0:a.value:null===(n=e.tags)||void 0===n?void 0:n[t]},f=e=>h(e,c)||e.request_id,w=["timestamp_ms"],v="select";let b=function(e){return e.requestId="request_id",e.traceName="traceName",e.timestampMs="timestamp_ms",e.inputs="inputs",e.outputs="outputs",e.runName="runName",e.totalTokens="total_tokens",e.source="source",e.latency="latency",e.tags="tags",e.status="status",e}({});const _={[b.requestId]:(0,r.zR)({id:"0HqSXX",defaultMessage:"Request ID"}),[b.traceName]:(0,r.zR)({id:"60C/WF",defaultMessage:"Trace name"}),[b.timestampMs]:(0,r.zR)({id:"V3BImd",defaultMessage:"Time created"}),[b.status]:(0,r.zR)({id:"PBkS4s",defaultMessage:"Status"}),[b.inputs]:(0,r.zR)({id:"TQZ+X6",defaultMessage:"Request"}),[b.outputs]:(0,r.zR)({id:"pHAqL+",defaultMessage:"Response"}),[b.runName]:(0,r.zR)({id:"yltHdB",defaultMessage:"Run name"}),[b.totalTokens]:(0,r.zR)({id:"O5FKCr",defaultMessage:"Tokens"}),[b.source]:(0,r.zR)({id:"eM4+ab",defaultMessage:"Source"}),[b.latency]:(0,r.zR)({id:"6oYktw",defaultMessage:"Execution time"}),[b.tags]:(0,r.zR)({id:"4qVc2+",defaultMessage:"Tags"})},y={UNSET:null,IN_PROGRESS:(0,r.zR)({id:"y56Vz9",defaultMessage:"In progress"}),OK:(0,r.zR)({id:"Mn7Kss",defaultMessage:"OK"}),ERROR:(0,r.zR)({id:"igK5Su",defaultMessage:"Error"})};var x=n(50361);const I="request_metadata.`mlflow.sourceRun`",S="request_metadata.`mlflow.modelId`",C=e=>`run_id IN (${e.map((e=>`'${e}'`)).join(",")})`,k=({experimentIds:e,sorting:t,filter:n="",runUuid:o,loggedModelId:a})=>{const[r,c]=(0,i.useState)([]),[d,m]=(0,i.useState)(!0),[g,p]=(0,i.useState)(void 0),h=(0,i.useMemo)((()=>{const e=(0,l.first)(t);return e&&w.includes(e.id)?`${e.id} ${e.desc?"DESC":"ASC"}`:"timestamp_ms DESC"}),[t]),f=(0,i.useMemo)((()=>o||a?a?n?`${n} AND ${S}='${a}'`:`${S}='${a}'`:n?`${n} AND ${I}='${o}'`:`${I}='${o}'`:n),[n,o,a]),[v,b]=(0,i.useState)({0:void 0}),[_,y]=(0,i.useState)(0),k=v[_],A=(0,i.useCallback)((async({experimentIds:e,currentPage:t=0,pageToken:n,silent:o,orderByString:a="",filterString:i=""})=>{o||m(!0),p(void 0);try{const o=await s.x.getExperimentTraces(e,a,n,i);if(!o.traces)return void c([]);const r=await(async(e,t)=>{const n=t.reduce(((e,t)=>{const n=t.request_id,o=u(t);return n&&o?{...e,[n]:o}:e}),{}),o=(0,l.uniq)((0,l.values)(n));if(o.length<1)return{};const a=((await s.x.searchRuns({experiment_ids:e,filter:C(o),run_view_type:x.qi.ALL})).runs||[]).reduce(((e,t)=>({...e,[t.info.runUuid]:t.info.runName})),{});return t.reduce(((e,t)=>{const o=t.request_id;if(!o)return e;const i=n[o];return{...e,[o]:a[i]||i}}),{})})(e,o.traces),d=o.traces.map((e=>{const t=e.request_id;if(!t)return{...e};const n=r[t];return{...e,runName:n}}));c(d),b((e=>({...e,[t+1]:o.next_page_token})))}catch(r){p(r)}finally{m(!1)}}),[]),Y=!d&&void 0!==v[_+1],T=!d&&(1===_||void 0!==v[_-1]);(0,i.useEffect)((()=>{A({experimentIds:e,filterString:f,orderByString:h})}),[A,f,e,h]);const M=(0,i.useCallback)((()=>{c([]),b({0:void 0}),y(0),A({experimentIds:e})}),[A,e]);return{traces:r,loading:d,error:g,hasNextPage:Y,hasPreviousPage:T,fetchNextPage:(0,i.useCallback)((()=>{y((e=>e+1)),A({experimentIds:e,currentPage:_+1,pageToken:v[_+1],filterString:f,orderByString:h})}),[e,_,A,v,f,h]),fetchPrevPage:(0,i.useCallback)((()=>{y((e=>e-1)),A({experimentIds:e,currentPage:_-1,pageToken:v[_-1],filterString:f,orderByString:h})}),[e,_,A,v,f,h]),refreshCurrentPage:(0,i.useCallback)(((t=!1)=>A({experimentIds:e,currentPage:_,pageToken:k,silent:t,filterString:f,orderByString:h})),[e,_,A,k,f,h]),reset:M}};var A=n(68048),Y=n(70618),T=n(9856),M=n(76010),P=n(48624),R=n(52350),E=n(58481),N=n(88464),F=n(88443),D=n(98590),q=n(98597),z=n(50111);var O={name:"1wcfv52",styles:"margin-right:0"},L={name:"14cnl6e",styles:"flex-shrink:0;opacity:0;[role=row]:hover &{opacity:1;}[role=row]:focus-within &{opacity:1;}"};const H=({onAddEditTags:e,tags:t,baseComponentId:n})=>{const{theme:i}=(0,a.u)(),s=(null===t||void 0===t?void 0:t.filter((({key:e})=>e&&!e.startsWith(D.nt))))||[],r=s.length>0;return(0,z.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",flexWrap:"wrap",columnGap:i.spacing.xs,rowGap:i.spacing.xs},""),children:[s.map((e=>(0,z.Y)(q.t,{tag:e,css:O,charLimit:20,maxWidth:150,enableFullViewModal:!0},e.key)))," ",(0,z.Y)(a.B,{componentId:`${n}.traces_table.edit_tag`,size:"small",icon:r?(0,z.Y)(A.PencilIcon,{}):void 0,onClick:e,children:r?void 0:(0,z.Y)(F.A,{id:"vHNP+J",defaultMessage:"Add tags"}),css:L,type:"tertiary"})]})};var $=n(70169);const V=(e,t)=>"IN_PROGRESS"===e?(0,z.Y)($.C,{css:(0,o.AH)({color:t.colors.textValidationWarning},"")}):"OK"===e?(0,z.Y)(A.CheckCircleIcon,{css:(0,o.AH)({color:t.colors.textValidationSuccess},"")}):"ERROR"===e?(0,z.Y)(A.XCircleIcon,{css:(0,o.AH)({color:t.colors.textValidationDanger},"")}):null,K=({row:{original:e}})=>{const{theme:t}=(0,a.u)(),n=(0,N.A)(),i=y[e.status||"UNSET"];return(0,z.FD)("div",{css:(0,o.AH)({display:"flex",gap:t.spacing.xs,alignItems:"center"},""),children:[V(e.status,t),i?n.formatMessage(i):""]})};var W=n(20897);const B={name:"rthgne",styles:"display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical"};var U={name:"ozd7xs",styles:"flex-shrink:0"};const J=({value:e,traceId:t,previewFieldName:n})=>{const{theme:r}=(0,a.u)(),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null),[g,p]=(0,i.useState)(!1),h=(0,i.useCallback)((async()=>{p(!0);try{const e=await s.x.getExperimentTraceData(t);if(n in e){const t=e[n],o=(0,l.isString)(t)?t:JSON.stringify(t);m(o)}}catch(e){const t=e instanceof R.s?e.getUserVisibleError():e.message;M.A.logErrorAndNotifyUser(`Error fetching response: ${t}`)}p(!1)}),[n,t]),f=e.length>=250;const w=(0,i.useCallback)((async()=>{!u&&f&&await h(),d(!0)}),[u,h,f]),v=(0,i.useCallback)((()=>{d(!1)}),[]);return(0,z.FD)("div",{css:(0,o.AH)({display:"flex",gap:r.spacing.xs},""),children:[(0,z.Y)(a.B,{componentId:"mlflow.traces.traces_table.expand_cell_preview",size:"small",icon:c?(0,z.Y)(A.ChevronDownIcon,{}):(0,z.Y)(a.q,{}),onClick:c?v:w,css:U,loading:g,type:"primary"}),(0,z.Y)("div",{title:e,css:["overflow:hidden;text-overflow:ellipsis;",!c&&B,""],children:c?(0,z.Y)(G,{value:null!==u&&void 0!==u?u:e}):e})]})},G=({value:e})=>{const{theme:t}=(0,a.u)(),n=(0,i.useMemo)((()=>{try{const t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return null}}),[e]);return(0,z.Y)("div",{css:(0,o.AH)({whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:n?"monospace":void 0},""),children:(0,z.Y)(W.z7,{language:"json",wrapLongLines:!0,style:{padding:t.spacing.sm},theme:t.isDarkMode?"duotoneDark":"light",children:n||e})})},j=({row:{original:e}})=>(0,z.Y)(J,{previewFieldName:"request",traceId:e.request_id||"",value:g(e)||""}),Q=({row:{original:e}})=>(0,z.Y)(J,{previewFieldName:"response",traceId:e.request_id||"",value:p(e)||""});var X=n(15164);const Z=({row:{original:e}})=>(0,z.Y)(X.t,{value:(0,l.keyBy)(e.tags,"key")}),ee=e=>`--header-${e}-size`,te=e=>`--col-${e}-size`,ne=i.memo((({row:e})=>{const{theme:t}=(0,a.u)();return(0,z.Y)("div",{role:"row","data-testid":"endpoints-list-table-rows",css:(0,o.AH)({minHeight:t.general.buttonHeight,display:"flex",flexDirection:"row",":hover":{backgroundColor:"var(--table-row-hover)"},paddingRight:"32px",borderBottom:"1px solid var(--table-separator-color)"},""),children:e.getAllCells().map((e=>{var n,o;const a=null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.multiline,i=e.column.id===v?t.spacing.sm:`${t.spacing.sm}px ${t.spacing.xs}px`;return(0,z.Y)("div",{role:"cell",css:[{"--table-row-vertical-padding":`${t.spacing.sm}px`,flex:`calc(var(${te(e.column.id)}) / 100)`,overflow:"hidden",whiteSpace:a?"pre-wrap":"nowrap",textOverflow:a?"ellipsis":void 0,padding:i},null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.styles,""],children:(0,Y.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)}),((e,t)=>e.columns===t.columns&&e.selected===t.selected&&(0,l.isEqual)(e.row.original.tags,t.row.original.tags))),oe=i.memo((({row:{original:e}})=>e.timestamp_ms?(0,z.Y)(A.LegacyTooltip,{title:new Date(e.timestamp_ms).toLocaleString(navigator.language,{timeZoneName:"short"}),placement:"right",children:(0,z.Y)("span",{children:M.A.timeSinceStr(e.timestamp_ms)})}):null),(()=>!0)),ae=({table:e})=>{const t=e.getIsAllRowsSelected()||!!e.getIsSomeRowsSelected()&&null;return(0,z.Y)(A.Checkbox,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtableheadercheckbox.tsx_14","data-testid":"trace-table-header-checkbox",isChecked:t,wrapperStyle:{padding:0,margin:0},onChange:e.toggleAllRowsSelected})},ie=({row:e})=>(0,z.Y)(A.Checkbox,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtablecellcheckbox.tsx_12","data-testid":`trace-table-cell-checkbox-${e.id}`,disabled:!e.getCanSelect(),isChecked:e.getIsSelected(),wrapperStyle:{padding:0,margin:0},onChange:()=>e.toggleSelected()});var se=n(36432),re=n(91144);var le={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"};const ce=({row:{original:e},table:{options:{meta:t}}})=>{const{baseComponentId:n,onTraceClicked:o}=t;return(0,z.Y)(a.T.Link,{componentId:`${n}.traces_table.request_id_link`,ellipsis:!0,css:le,onClick:()=>{null===o||void 0===o||o(e)},children:e.request_id})};var de={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"};const ue=({row:{original:e},table:{options:{meta:t}}})=>{const{baseComponentId:n,onTraceClicked:o}=t;return(0,z.Y)(a.T.Link,{componentId:`${n}.traces_table.trace_name_link`,ellipsis:!0,css:de,onClick:()=>{null===o||void 0===o||o(e)},children:h(e,c)})};var me={name:"hgn0g7",styles:"max-width:100%;text-overflow:ellipsis;display:inline-block;overflow:hidden"};const ge=({row:{original:e}})=>{const t=u(e);if(!t||!e.experiment_id)return null;const n=e.runName||t;return(0,z.Y)(P.N_,{css:me,to:E.Ay.getRunPageRoute(e.experiment_id,t),children:n})},pe=({row:{original:e},table:{options:{meta:t}}})=>{const{onTraceTagsEdit:n,baseComponentId:o}=t;return(0,z.Y)(H,{tags:e.tags||[],onAddEditTags:()=>null===n||void 0===n?void 0:n(e),baseComponentId:o})};var he={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"},fe={name:"s09txq",styles:"max-width:100%;text-overflow:ellipsis"},we={name:"hgn0g7",styles:"max-width:100%;text-overflow:ellipsis;display:inline-block;overflow:hidden"};const ve=i.memo((({experimentIds:e,runUuid:t,traces:n,loading:o,error:s,onTraceClicked:r,onTraceTagsEdit:d,hasNextPage:g,hasPreviousPage:p,onNextPage:f,onPreviousPage:w,usingFilters:y,onResetFilters:x,sorting:I,setSorting:S,rowSelection:C,setRowSelection:k,hiddenColumns:D=[],disableTokenColumn:q,baseComponentId:O,toggleHiddenColumn:L,disabledColumns:$=[]})=>{const V=(0,N.A)(),{theme:W}=(0,a.u)(),B=!o&&0===n.length&&!y&&!s,U=(0,re.rR)(),J=(0,i.useMemo)((()=>(0,l.entries)(_).map((([e,t])=>({key:e,label:V.formatMessage(t)}))).filter((({key:e})=>!$.includes(e)))),[V,$]),G=(0,i.useMemo)((()=>{if(B)return[];const e=[{id:v,header:ae,enableResizing:!1,enableSorting:!1,cell:ie,meta:{styles:{minWidth:32,maxWidth:32}}},{header:V.formatMessage(_[b.requestId]),enableSorting:!1,enableResizing:!0,id:b.requestId,cell:U?ce:({row:{original:e}})=>(0,z.Y)(a.T.Link,{componentId:`${O}.traces_table.request_id_link`,ellipsis:!0,css:he,onClick:()=>{null===r||void 0===r||r(e)},children:e.request_id}),meta:{styles:{minWidth:200}}},{header:V.formatMessage(_[b.traceName]),enableSorting:!1,enableResizing:!0,id:b.traceName,cell:U?ue:({row:{original:e}})=>(0,z.Y)(a.T.Link,{componentId:`${O}.traces_table.trace_name_link`,ellipsis:!0,css:fe,onClick:()=>{null===r||void 0===r||r(e)},children:h(e,c)}),meta:{styles:{minWidth:150}}},{header:V.formatMessage(_[b.timestampMs]),id:b.timestampMs,accessorFn:e=>e.timestamp_ms,enableSorting:!0,enableResizing:!0,cell:oe,meta:{styles:{minWidth:100}}},{header:V.formatMessage(_[b.status]),id:b.status,enableSorting:!1,enableResizing:!0,cell:K,meta:{styles:{minWidth:100}}},{header:V.formatMessage(_[b.inputs]),id:b.inputs,enableSorting:!1,enableResizing:!0,cell:j,meta:{multiline:!0}},{header:V.formatMessage(_[b.outputs]),enableSorting:!1,enableResizing:!0,id:b.outputs,cell:Q,meta:{multiline:!0}},{header:V.formatMessage(_[b.runName]),enableSorting:!1,enableResizing:!0,id:b.runName,cell:U?ge:({row:{original:e}})=>{const t=u(e);if(!t||!e.experiment_id)return null;const n=e.runName||t;return(0,z.Y)(P.N_,{css:we,to:E.Ay.getRunPageRoute(e.experiment_id,t),children:n})}},{header:V.formatMessage(_[b.source]),enableSorting:!0,enableResizing:!0,id:b.source,cell:Z,meta:{styles:{minWidth:100}}}];return q||e.push({header:V.formatMessage(_[b.totalTokens]),enableSorting:!1,enableResizing:!0,id:b.totalTokens,accessorFn:e=>m(e),meta:{styles:{minWidth:80,maxWidth:80}}}),e.push({header:V.formatMessage(_[b.latency]),enableSorting:!1,enableResizing:!0,id:b.latency,accessorFn:e=>(0,l.isNil)(e.execution_time_ms)||!isFinite(e.execution_time_ms)?null:M.A.formatDuration(e.execution_time_ms),meta:{styles:{minWidth:100}}},{header:V.formatMessage(_[b.tags]),enableSorting:!1,enableResizing:!0,id:b.tags,cell:U?pe:({row:{original:e}})=>(0,z.Y)(H,{tags:e.tags||[],onAddEditTags:()=>null===d||void 0===d?void 0:d(e),baseComponentId:O})}),e.filter((e=>e.id&&!D.includes(e.id)))}),[V,r,d,q,D,O,U,B]),X=(0,Y.N4)({columns:G,data:B?[]:n,state:{sorting:I,rowSelection:C},getCoreRowModel:(0,T.HT)(),getRowId:(e,t)=>e.request_id||t.toString(),getSortedRowModel:(0,T.h5)(),onSortingChange:S,onRowSelectionChange:k,enableColumnResizing:!0,enableRowSelection:!0,columnResizeMode:"onChange",meta:{baseComponentId:O,onTraceClicked:r,onTraceTagsEdit:d}}),le=X.getState().columnSizingInfo,de=i.useMemo((()=>{if(B)return{};const e=X.getFlatHeaders(),t={};return e.forEach((e=>{t[ee(e.id)]=e.getSize(),t[te(e.column.id)]=e.column.getSize()})),t}),[le,G,X,B]);return B?(0,z.Y)(se.i,{baseComponentId:O,runUuid:t}):(0,z.FD)(A.Table,{scrollable:!0,empty:(()=>{if(s){const e=s instanceof R.s?s.getMessageField():s.message;return(0,z.Y)(A.Empty,{image:(0,z.Y)(a.l,{}),description:e,title:(0,z.Y)(F.A,{id:"Cj2i02",defaultMessage:"Error"})})}return!o&&0===n.length&&y?(0,z.Y)(A.Empty,{description:(0,z.Y)(F.A,{id:"LTe7m4",defaultMessage:"No traces found with the current filter query. <button>Reset filters</button> to see all traces.",values:{button:e=>(0,z.Y)(a.T.Link,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtable.tsx_289",onClick:x,children:e})}}),title:(0,z.Y)(F.A,{id:"yeEPjS",defaultMessage:"No traces found"})}):null})(),style:de,pagination:(0,z.Y)(A.CursorPagination,{componentId:`${O}.traces_table.pagination`,hasNextPage:g,hasPreviousPage:p,onNextPage:f,onPreviousPage:w}),children:[(0,z.FD)(A.TableRow,{isHeader:!0,children:[X.getLeafHeaders().map((e=>{var t;return(0,z.Y)(A.TableHeader,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewtable.tsx_365",css:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.styles,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),header:e,column:e.column,setColumnSizing:X.setColumnSizing,isResizing:e.column.getIsResizing(),style:{flex:`calc(var(${ee(e.id)}) / 100)`},children:(0,Y.Kv)(e.column.columnDef.header,e.getContext())},e.id)})),(0,z.Y)(A.TableRowAction,{children:(0,z.FD)(A.DropdownMenu.Root,{children:[(0,z.Y)(A.DropdownMenu.Trigger,{asChild:!0,children:(0,z.Y)(a.B,{componentId:`${O}.traces_table.column_selector_dropdown`,icon:(0,z.Y)(A.ColumnsIcon,{}),size:"small","aria-label":V.formatMessage({id:"zd5Jw4",defaultMessage:"Select columns"})})}),(0,z.Y)(A.DropdownMenu.Content,{align:"end",children:J.map((({key:e,label:t})=>(0,z.FD)(A.DropdownMenu.CheckboxItem,{componentId:`${O}.traces_table.column_toggle_button`,checked:!D.includes(e),onClick:()=>L(e),children:[(0,z.Y)(A.DropdownMenu.ItemIndicator,{}),t]},e)))})]})})]}),o&&(0,z.Y)(A.TableSkeletonRows,{table:X}),!o&&!s&&X.getRowModel().rows.map((e=>(0,z.Y)(ne,{row:e,columns:G,selected:C[e.id]},e.id)))]})}));var be=n(23823);var _e=n(80870);const ye=({requestId:e,traceInfo:t,loadingTraceInfo:n,onClose:r,selectedSpanId:l,onSelectSpan:c})=>{const{traceData:d,loading:u,error:m}=((e,t=!1)=>{const[n,o]=(0,i.useState)(void 0),[a,r]=(0,i.useState)(!1),[l,c]=(0,i.useState)(void 0),d=(0,i.useCallback)((async e=>{r(!0);try{const t=await s.x.getExperimentTraceData(e);Array.isArray(t.spans)?o(t):M.A.logErrorAndNotifyUser("Invalid trace data response: "+JSON.stringify(null===t||void 0===t?void 0:t.toString()))}catch(t){c(t)}r(!1)}),[]);return(0,i.useEffect)((()=>{e&&!t&&d(e)}),[d,e,t]),{traceData:n,loading:a,error:l}})(e,"IN_PROGRESS"===(null===t||void 0===t?void 0:t.status)),{theme:g}=(0,a.u)(),p=!n&&!t,{traceInfo:h,loading:w}=((e,t=!0)=>{const[n,o]=(0,i.useState)(void 0),[a,r]=(0,i.useState)(t),[l,c]=(0,i.useState)(void 0),d=(0,i.useCallback)((async()=>{if(t){c(void 0);try{const t=await s.x.getExperimentTraceInfo(e);if(!t.trace_info)return void o(void 0);o(t.trace_info)}catch(n){c(n)}finally{r(!1)}}}),[t,e]);return(0,i.useEffect)((()=>{d()}),[d]),{traceInfo:n,loading:a,error:l}})(e,p),v=t||h,b=(0,i.useMemo)((()=>n||w?(0,z.Y)(A.TitleSkeleton,{}):v?(0,z.Y)(a.T.Title,{level:2,withoutMargins:!0,children:f(v)}):e),[n,w,v,e]),_=(0,i.useMemo)((()=>d?{info:v||{},data:d}:void 0),[d,v]),y=((null===d||void 0===d?void 0:d.spans)||[]).length>0;return(0,z.Y)(A.Drawer.Root,{modal:!0,open:!0,onOpenChange:e=>{e||r()},children:(0,z.Y)(A.Drawer.Content,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracedatadrawer.tsx_222",width:"90vw",title:b,expandContentToFullHeight:!0,children:u||n||w?(0,z.Y)(_e.ModelTraceExplorer.Skeleton,{}):"IN_PROGRESS"===(null===t||void 0===t?void 0:t.status)?(0,z.FD)(z.FK,{children:[(0,z.Y)(be.S,{size:"lg"}),(0,z.Y)(A.Empty,{image:(0,z.Y)(a.W,{}),description:(0,z.Y)(F.A,{id:"K+5g8S",defaultMessage:"Trace data is not available for in-progress traces. Please wait for the trace to complete."}),title:(0,z.Y)(F.A,{id:"p0O0uP",defaultMessage:"Trace data not available"})})]}):m?(0,z.FD)(z.FK,{children:[(0,z.Y)(be.S,{size:"lg"}),(0,z.Y)(A.Empty,{image:(0,z.Y)(a.l,{}),description:(0,z.Y)(F.A,{id:"c4KA32",defaultMessage:"An error occurred while attempting to fetch the trace data. Please wait a moment and try again."}),title:(0,z.Y)(F.A,{id:"eavoW/",defaultMessage:"Error"})})]}):y?_?(0,z.Y)("div",{css:(0,o.AH)({height:"100%",marginLeft:-g.spacing.lg,marginRight:-g.spacing.lg,marginBottom:-g.spacing.lg},""),onWheel:e=>e.stopPropagation(),children:(0,z.Y)(_e.ModelTraceExplorer,{modelTrace:_,selectedSpanId:l,onSelectSpan:c})}):null:(0,z.FD)(z.FK,{children:[(0,z.Y)(be.S,{size:"lg"}),(0,z.Y)(A.Empty,{description:null,title:(0,z.Y)(F.A,{id:"EpFST9",defaultMessage:"No trace data recorded"})})]})})})};var xe=n(2250);const Ie=({experimentIds:e,visible:t,rowSelection:n,setRowSelection:o,handleClose:r,refreshTraces:c})=>{const d=(0,N.A)(),[u,m]=(0,i.useState)(""),[g,p]=(0,i.useState)(!1),h=(0,l.keys)((0,l.pickBy)(n,(e=>e)));return(0,z.FD)(be.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewdeletetracemodal.tsx_62",title:(0,z.Y)(F.A,{id:"gRz1nB",defaultMessage:"{count, plural, one {Delete Trace} other {Delete Traces}}",values:{count:h.length}}),visible:t,onCancel:r,okText:(0,z.Y)(F.A,{id:"g56Cuk",defaultMessage:"Delete {count, plural, one { # trace } other { # traces }}",values:{count:h.length}}),onOk:()=>{(async()=>{try{var t;await s.x.deleteTraces(null!==(t=e[0])&&void 0!==t?t:"",h),o({}),c(),r()}catch(n){m(d.formatMessage({id:"zhzZUu",defaultMessage:"An error occured while attempting to delete traces. Please refresh the page and try again."}))}p(!1)})(),p(!0)},okButtonProps:{loading:g,danger:!0},children:[u&&(0,z.Y)(a.T.Paragraph,{color:"error",children:u}),(0,z.Y)(a.T.Paragraph,{children:(0,z.Y)(a.T.Text,{bold:!0,children:(0,z.Y)(F.A,{id:"kmtWGf",defaultMessage:"{count, plural, one { # trace } other { # traces }} will be deleted.",values:{count:h.length}})})}),(0,z.Y)(a.T.Paragraph,{children:(0,z.Y)(F.A,{id:"VfGJFc",defaultMessage:"Deleted traces cannot be restored. Are you sure you want to proceed?"})})]})},Se=({experimentIds:e,rowSelection:t,setRowSelection:n,refreshTraces:s,baseComponentId:r})=>{const[l,c]=(0,i.useState)(!1),{theme:d}=(0,a.u)(),u=(0,i.useCallback)((()=>{c(!0)}),[c]),m=(0,i.useCallback)((()=>{c(!1)}),[c]);return(0,z.FD)("div",{css:(0,o.AH)({display:"flex",flexDirection:"row",alignItems:"center",gap:d.spacing.sm},""),children:[(0,z.Y)(a.B,{componentId:`${r}.traces_table.delete_traces`,onClick:u,danger:!0,children:(0,z.Y)(F.A,{id:"QAyzA3",defaultMessage:"Delete"})}),(0,z.Y)(Ie,{experimentIds:e,visible:l,rowSelection:t,handleClose:m,refreshTraces:s,setRowSelection:n})]})};const Ce=({baseComponentId:e})=>{const{theme:t}=(0,a.u)();return(0,z.FD)(a.ax.Root,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_traces_tracesviewcontrols.tsx_28",modal:!1,children:[(0,z.Y)(a.ax.Trigger,{asChild:!0,children:(0,z.Y)(a.B,{size:"small",type:"link",icon:(0,z.Y)(be.I,{css:(0,o.AH)({svg:{width:16,height:16,color:t.colors.textSecondary}},"")}),componentId:`${e}.traces_table.filter_tooltip`})}),(0,z.FD)(a.ax.Content,{children:[(0,z.Y)(a.ax.Arrow,{}),(0,z.Y)(a.T.Paragraph,{children:(0,z.Y)(F.A,{id:"2Ofya9",defaultMessage:"Search traces using a simplified version of the SQL {whereBold} clause.",values:{whereBold:(0,z.Y)("b",{children:"WHERE"})}})}),(0,z.Y)(F.A,{id:"U3btBc",defaultMessage:"Examples:"}),(0,z.Y)("ul",{children:(0,z.Y)("li",{children:(0,z.Y)("code",{children:'tags.some_tag = "abc"'})})})]})]})};var ke={name:"1ykowef",styles:"margin-bottom:0"},Ae={name:"ikeoj9",styles:"width:430px"};const Ye=({experimentIds:e,filter:t,onChangeFilter:n,rowSelection:s,setRowSelection:r,refreshTraces:l,baseComponentId:c,runUuid:d,traces:u})=>{const m=(0,N.A)(),{theme:g}=(0,a.u)(),[p,h]=(0,i.useState)(t||void 0),[f,w]=(0,i.useState)(!1),v=null!==p&&void 0!==p?p:t,b=Object.entries(s).filter((([,e])=>e)).map((([e])=>e)).length>0?(0,z.Y)(Se,{experimentIds:e,rowSelection:s,setRowSelection:r,refreshTraces:l,baseComponentId:c}):(0,z.Y)(A.TableFilterLayout,{css:ke,children:(0,z.Y)($.I,{componentId:`${c}.traces_table.search_filter`,placeholder:m.formatMessage({id:"FPMrvd",defaultMessage:"Search traces"}),value:v,css:Ae,onChange:e=>h(e.target.value),prefix:(0,z.Y)($.S,{}),suffix:(0,z.Y)(Ce,{baseComponentId:c}),allowClear:!0,onClear:()=>{n(""),h(void 0)},onKeyDown:e=>{"Enter"===e.key&&(n(v),h(void 0))}})});return(0,z.Y)("div",{css:(0,o.AH)({display:"flex",gap:g.spacing.xs},""),children:b})};var Te=n(32614);const Me={hiddenColumns:[b.traceName,b.source]},Pe=e=>{const t=(0,i.useMemo)((()=>{const t=JSON.stringify(e.slice().sort());return Te.A.getStoreForComponent("ExperimentViewTraces",t)}),[e]),[n,o]=(0,i.useState)((()=>(e=>{try{const t=e.getItem("uiState"),n=JSON.parse(t);return(0,l.isObject)(n)?n:Me}catch(t){return Me}})(t))),a=(0,i.useCallback)((e=>{o((t=>{const n=t.hiddenColumns||[];return{hiddenColumns:n.includes(e)?n.filter((t=>t!==e)):[...n,e]}}))}),[]);return(0,i.useEffect)((()=>{t.setItem("uiState",JSON.stringify(n))}),[t,n]),{uiState:n,toggleHiddenColumn:a}},Re="selectedTraceId",Ee="selectedSpanId",Ne=[{id:b.timestampMs,desc:!0}],Fe=({experimentIds:e,runUuid:t,loggedModelId:n,disabledColumns:s,baseComponentId:r=(t?"mlflow.run.traces":"mlflow.experiment_page.traces")})=>{const c=(0,i.useRef)(void 0),[d,u]=(0,i.useState)(""),[g,p]=(0,i.useState)(Ne),[h,f]=(0,i.useState)({}),[w,v]=(()=>{var e;const[t,n]=(0,P.ok)(),o=null!==(e=t.get(Re))&&void 0!==e?e:void 0,a=(0,i.useCallback)((e=>{n((t=>void 0===e?(t.delete(Re),t):(t.set(Re,e),t)))}),[n]);return[o,a]})(),[_,y]=(()=>{var e;const[t,n]=(0,P.ok)(),o=null!==(e=t.get(Ee))&&void 0!==e?e:void 0,a=(0,i.useCallback)((e=>{n((t=>void 0===e?(t.delete(Ee),t):(t.set(Ee,e),t)),{replace:!0})}),[n]);return[o,a]})(),{traces:x,loading:I,error:S,hasNextPage:C,hasPreviousPage:A,fetchNextPage:Y,fetchPrevPage:T,refreshCurrentPage:M}=k({experimentIds:e,sorting:g,filter:d,runUuid:t,loggedModelId:n}),R=(0,i.useCallback)((({request_id:e})=>v(e)),[v]),E=(0,i.useCallback)((()=>{Y(),f({})}),[Y]),N=(0,i.useCallback)((()=>{T(),f({})}),[T]);(0,i.useEffect)((()=>{window.clearTimeout(c.current);const e=async()=>{I||A||(await M(!0),window.clearTimeout(c.current),c.current=window.setTimeout(e,3e4))};return c.current=window.setTimeout(e,3e4),()=>window.clearTimeout(c.current)}),[M,I,A]);const{theme:F}=(0,a.u)(),D=(0,i.useMemo)((()=>{if(w)return x.find((e=>e.request_id===w))}),[w,x]),{uiState:q,toggleHiddenColumn:O}=Pe(e),L=(0,i.useMemo)((()=>(0,l.uniq)((0,l.compact)(x.flatMap((e=>{var t;return null===(t=e.tags)||void 0===t?void 0:t.map((e=>e.key))}))))),[x]),{showEditTagsModalForTrace:H,EditTagsModal:$}=(0,xe.$)({onSuccess:()=>M(!0),existingTagKeys:L}),V=""!==d,K=x.some((e=>!(0,l.isNil)(m(e)))),W=(0,i.useMemo)((()=>K?[]:[b.totalTokens]),[K]),B=(0,i.useMemo)((()=>[...null!==s&&void 0!==s?s:[],...W]),[s,W]),U=(0,i.useMemo)((()=>{var e;return[...null!==(e=q.hiddenColumns)&&void 0!==e?e:[],...B]}),[q,B]);return(0,z.FD)("div",{css:(0,o.AH)({display:"flex",flexDirection:"column",gap:F.spacing.sm,height:"100%",overflow:"hidden"},""),children:[(0,z.Y)(Ye,{experimentIds:e,filter:d,onChangeFilter:u,rowSelection:h,setRowSelection:f,refreshTraces:M,baseComponentId:r,runUuid:t,traces:x}),(0,z.Y)(ve,{experimentIds:e,runUuid:t,traces:x,loading:I,error:S,onTraceClicked:R,onTraceTagsEdit:H,hasNextPage:C,hasPreviousPage:A,onPreviousPage:N,onNextPage:E,onTagsUpdated:M,usingFilters:V,onResetFilters:()=>u(""),hiddenColumns:U,disableTokenColumn:!K,disabledColumns:B,setSorting:e=>{if((0,l.isFunction)(e))return p((t=>{const n=e(t),o=t[0];return n&&0!==n.length||!o?n:[{id:o.id,desc:!o.desc}]}))},sorting:g,rowSelection:h,setRowSelection:f,baseComponentId:r,toggleHiddenColumn:O}),w&&(0,z.Y)(ye,{traceInfo:D,loadingTraceInfo:I,requestId:w,onClose:()=>v(void 0),selectedSpanId:_,onSelectSpan:y}),$]})}},36432:function(e,t,n){n.d(t,{i:function(){return v}});var o=n(89555),a=n(59403),i=n(68048),s=n(88443),r=n(9133),l=n(20897),c=n(56412),d=(n(31014),n(50111));var u={name:"ddxhyk",styles:"max-width:800px"},m={name:"ddxhyk",styles:"max-width:800px"};const g={openai:{minVersion:"2.15.1",getContent:()=>(0,d.Y)(s.A,{id:"smtq2M",defaultMessage:"Automatically log traces for OpenAI API calls by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.openai.autolog()"})}}),getCodeSource:()=>'from openai import OpenAI\n\nmlflow.openai.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nclient = OpenAI()\n\nmessages = [\n  {"role": "system", "content": "You are a helpful assistant."},\n  {"role": "user", "content": "Hello!"}\n]\n\n# Inputs and outputs of the API request will be logged in a trace\nclient.chat.completions.create(model="gpt-4o-mini", messages=messages)'},langchain:{minVersion:"2.17.2",getContent:()=>(0,d.Y)(s.A,{id:"7/urtn",defaultMessage:"Automatically log traces for LangChain or LangGraph invocations by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.langchain.autolog()"})}}),getCodeSource:()=>'from langchain_openai import OpenAI\nfrom langchain_core.prompts import PromptTemplate\n\nmlflow.langchain.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nllm = OpenAI()\nprompt = PromptTemplate.from_template("Answer the following question: {question}")\nchain = prompt | llm\n\n# Invoking the chain will cause a trace to be logged\nchain.invoke("What is MLflow?")'},llama_index:{minVersion:"2.15.1",getContent:()=>(0,d.Y)(s.A,{id:"/v6KuF",defaultMessage:"Automatically log traces for LlamaIndex queries by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.llama_index.autolog()"})}}),getCodeSource:()=>'from llama_index.core import Document, VectorStoreIndex\n\nmlflow.llama_index.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nindex = VectorStoreIndex.from_documents([Document.example()])\nquery_engine = index.as_query_engine()\n\n# Querying the engine will cause a trace to be logged\nquery_engine.query("What is LlamaIndex?")'},dspy:{minVersion:"2.18.0",getContent:()=>(0,d.Y)(s.A,{id:"h1HQ14",defaultMessage:"Automatically log traces for DSPy executions by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.dspy.autolog()"})}}),getCodeSource:()=>'import dspy\n\nmlflow.dspy.autolog()\n\n# Configure the LLM to use. Please ensure that\n# the OPENAI_API_KEY environment variable is set\nlm = dspy.LM("openai/gpt-4o-mini")\ndspy.configure(lm=lm)\n\n# Define a simple chain-of-thought model and run it\nmath = dspy.ChainOfThought("question -> answer: float")\nquestion = "Two dice are tossed. What is the probability that the sum equals two?"\n\n# All intermediate outputs from the execution will be logged\nmath(question=question)'},crewai:{minVersion:"2.19.0",getContent:()=>(0,d.Y)(s.A,{id:"K8LdMX",defaultMessage:"Automatically log traces for CrewAI executions by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.crewai.autolog()"})}}),getCodeSource:()=>'from crewai import Agent, Crew, Process, Task\n\nmlflow.crewai.autolog()\n\ncity_selection_agent = Agent(\n    role="City selection expert",\n    goal="Select the best city based on weather, season, and prices",\n    backstory="An expert in analyzing travel data to pick ideal destinations",\n    allow_delegation=True,\n    verbose=True,\n)\n\nlocal_expert = Agent(\n    role="Local expert",\n    goal="Provide the best insights about the selected city",\n    backstory="A local guide with extensive information about the city",\n    verbose=True,\n)\n  \nplan_trip = Task(\n    name="Plan a trip",\n    description="""Plan a trip to a city based on weather, prices, and best local attractions. \n    Please consult with a local expert when researching things to do.""",\n    expected_output="A short summary of the trip destination and key things to do",\n    agent=city_selection_agent,\n)\n\ncrew = Crew(\n  agents=[\n    city_selection_agent,\n    local_expert,\n  ],\n  tasks=[plan_trip],\n  process=Process.sequential\n)\n\n# Ensure the "OPENAI_API_KEY" environment variable is set\n# before kicking off the crew. All intermediate agent outputs\n# will be logged in the resulting trace.\ncrew.kickoff()'},autogen:{minVersion:"2.16.2",getContent:()=>(0,d.Y)(s.A,{id:"i/pJvo",defaultMessage:"Automatically log traces for AutoGen conversations by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.autogen.autolog()"})}}),getCodeSource:()=>'import os\nfrom autogen import AssistantAgent, UserProxyAgent\n\nmlflow.autogen.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nllm_config = { "model": "gpt-4o-mini", "api_key": os.environ["OPENAI_API_KEY"] }\nassistant = AssistantAgent("assistant", llm_config = llm_config)\nuser_proxy = UserProxyAgent("user_proxy", code_execution_config = False)\n\n# All intermediate executions within the chat session will be logged\nuser_proxy.initiate_chat(assistant, message = "What is MLflow?", max_turns = 1)'},anthropic:{minVersion:"2.19.0",getContent:()=>(0,d.Y)(s.A,{id:"AzOnmT",defaultMessage:"Automatically log traces for Anthropic API calls by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.anthropic.autolog()"})}}),getCodeSource:()=>'import os\nimport anthropic\n\n# Enable auto-tracing for Anthropic\nmlflow.anthropic.autolog()\n\n# Configure your API key (please ensure that the "ANTHROPIC_API_KEY" environment variable is set)\nclient = anthropic.Anthropic(api_key=os.environ["ANTHROPIC_API_KEY"])\n\n# Inputs and outputs of API calls will be logged as a trace\nmessage = client.messages.create(\n    model="claude-3-5-sonnet-20241022",\n    max_tokens=1024,\n    messages=[\n        {"role": "user", "content": "Hello, Claude"},\n    ],\n)'},bedrock:{minVersion:"2.20.0",getContent:()=>(0,d.Y)(s.A,{id:"6tKW1I",defaultMessage:"Automatically log traces for Bedrock conversations by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.bedrock.autolog()"})}}),getCodeSource:()=>'import boto3\n\nmlflow.bedrock.autolog()\n\n# Ensure that your boto3 client has the necessary auth information\nbedrock = boto3.client(\n    service_name="bedrock-runtime",\n    region_name="<REPLACE_WITH_YOUR_AWS_REGION>",\n)\n\nmodel = "anthropic.claude-3-5-sonnet-20241022-v2:0"\nmessages = [{ "role": "user", "content": [{"text": "Hello!"}]}]\n\n# All intermediate executions within the chat session will be logged\nbedrock.converse(modelId=model, messages=messages)'},litellm:{minVersion:"2.18.0",getContent:()=>(0,d.Y)(s.A,{id:"D7SSDK",defaultMessage:"Automatically log traces for LiteLLM API calls by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.litellm.autolog()"})}}),getCodeSource:()=>'import litellm\n\nmlflow.litellm.autolog()\n\n# Ensure that the "OPENAI_API_KEY" environment variable is set\nmessages = [{"role": "user", "content": "Hello!"}]\n\n# Inputs and outputs of the API request will be logged in a trace\nlitellm.completion(model="gpt-4o-mini", messages=messages)'},gemini:{minVersion:"2.18.0",getContent:()=>(0,d.Y)(s.A,{id:"IsIgE2",defaultMessage:"Automatically log traces for Gemini conversations by calling the {code} function. For example:",values:{code:(0,d.Y)("code",{children:"mlflow.gemini.autolog()"})}}),getCodeSource:()=>'import google.genai as genai\n\nmlflow.gemini.autolog()\n\n# Replace "GEMINI_API_KEY" with your API key\nclient = genai.Client(api_key="GEMINI_API_KEY")\n\n# Inputs and outputs of the API request will be logged in a trace\nclient.models.generate_content(model="gemini-1.5-flash", contents="Hello!")'},custom:{minVersion:"2.14.3",getContent:e=>(0,d.FD)(d.FK,{children:[(0,d.Y)(a.T.Paragraph,{css:u,children:(0,d.Y)(s.A,{id:"3Z6K+n",defaultMessage:"To manually instrument your own traces, the most convenient method is to use the {code} function decorator. This will cause the inputs and outputs of the function to be captured in the trace.",values:{code:(0,d.Y)("code",{children:"@mlflow.trace"})}})}),(0,d.Y)(a.T.Paragraph,{css:m,children:(0,d.Y)(s.A,{id:"WNz02j",defaultMessage:"For more complex use cases, MLflow also provides granular APIs that can be used to control tracing behavior. For more information, please visit the <a>official documentation</a> on fluent and client APIs for MLflow Tracing.",values:{a:t=>(0,d.Y)(a.T.Link,{title:"official documentation",componentId:`${e}.traces_table.custom_tracing_docs_link`,href:"https://mlflow.org/docs/latest/llms/tracing/index.html#tracing-fluent-apis",openInNewTab:!0,children:t})}})})]}),getCodeSource:()=>'@mlflow.trace\ndef foo(a):\nreturn a + bar(a)\n\n# Various attributes can be passed to the decorator\n# to modify the information contained in the span\n@mlflow.trace(name = "custom_name", attributes = { "key": "value" })\ndef bar(b):\nreturn b + 1\n\n# Invoking the traced function will cause a trace to be logged\nfoo(1)'}};var p=n(51455);var h={name:"ddxhyk",styles:"max-width:800px"},f={name:"1hyob9y",styles:"position:relative;width:min-content"};const w=({flavorName:e,baseComponentId:t})=>{const{theme:n}=(0,a.u)(),{getContent:r,getCodeSource:u,minVersion:m}=g[e],{displayVersionWarnings:w=!0}=(0,p.S)(),v=r(t),b=`import mlflow\nfrom packaging.version import Version\n\nassert Version(mlflow.__version__) >= Version("${m}"), (\n  "This feature requires MLflow version ${m} or newer. "\n  "Please run '%pip install -U mlflow' in a notebook cell, "\n  "and restart the kernel when the command finishes."\n)\n\n`+u(),_=(0,d.Y)(s.A,{id:"YfspJh",defaultMessage:"This example requires MLflow version {minVersion} or newer. Please run {installCommand} in a notebook cell if your MLflow version is older than this, and restart the kernel when the command finishes.",values:{minVersion:m,installCommand:(0,d.Y)(a.T.Text,{code:!0,children:"%pip install -U mlflow"})}});return(0,d.FD)("div",{children:[w&&(0,d.Y)(i.Alert,{componentId:`${t}.traces_table.${e}_quickstart_alert`,css:(0,o.AH)({marginBottom:n.spacing.md,maxWidth:800},""),closable:!1,message:(0,d.Y)(s.A,{id:"NoYMjZ",defaultMessage:"Requires MLflow >= {minVersion}",values:{minVersion:m}}),description:_,type:"info"}),(0,d.Y)(a.T.Text,{css:h,children:v}),(0,d.FD)("div",{css:f,children:[(0,d.Y)(c.i,{componentId:`${t}.traces_table.${e}_quickstart_snippet_copy`,css:(0,o.AH)({zIndex:1,position:"absolute",top:n.spacing.xs,right:n.spacing.xs},""),showLabel:!1,copyText:b,icon:(0,d.Y)(i.CopyIcon,{})}),(0,d.Y)(l.z7,{showLineNumbers:!0,theme:n.isDarkMode?"duotoneDark":"light",style:{padding:`${n.spacing.sm}px ${n.spacing.md}px`,marginTop:n.spacing.md},language:"python",children:b})]})]})},v=({baseComponentId:e,runUuid:t})=>{const{theme:n}=(0,a.u)(),{introductionText:l}=(0,p.S)();return(0,d.FD)("div",{css:(0,o.AH)({overflow:"auto",paddingBottom:n.spacing.lg},""),children:[(0,d.Y)(i.Header,{title:(0,d.Y)(s.A,{id:"6d5JTO",defaultMessage:"No traces recorded"}),titleElementLevel:3}),(0,d.Y)(a.T.Text,{css:(0,o.AH)({display:"block",marginTop:n.spacing.md,marginBottom:n.spacing.md,maxWidth:800},""),children:l||(0,d.Y)(s.A,{id:"msYDmK",defaultMessage:"This tab displays all the traces logged to this {isRun, select, true {run} other {experiment}}. Follow the steps below to log your first trace. For more information about MLflow Tracing, visit the <a>MLflow documentation</a>.",values:{isRun:!(0,r.isNil)(t),a:t=>(0,d.Y)(a.T.Link,{componentId:`${e}.traces_table.quickstart_docs_link`,href:"https://mlflow.org/docs/latest/llms/tracing/index.html",openInNewTab:!0,children:t})}})}),(0,d.Y)(w,{flavorName:"custom",baseComponentId:e})]})}},51455:function(e,t,n){n.d(t,{A:function(){return s},S:function(){return r}});var o=n(31014),a=n(50111);const i=(0,o.createContext)({}),s=({children:e,introductionText:t,displayVersionWarnings:n})=>(0,a.Y)(i.Provider,{value:{introductionText:t,displayVersionWarnings:n},children:e}),r=()=>(0,o.useContext)(i)}}]);
//# sourceMappingURL=571.1ca4d1b2.chunk.js.map